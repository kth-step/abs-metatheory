<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">fin_maps</span> <span class="id" title="library">countable</span> <span class="id" title="library">gmap</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ABS</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ABS.abs_defs.html#"><span class="id" title="library">abs_defs</span></a> <a class="idref" href="ABS.list_util.html#"><span class="id" title="library">list_util</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h1 class="section">ABS Utility Results</h1>

</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;some&nbsp;slightly&nbsp;ad-hoc&nbsp;equalities&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_fst_commute" class="idref" href="#subst_fst_commute"><span class="id" title="lemma">subst_fst_commute</span></a>: <span class="id" title="notation">forall</span> <a id="x0:1" class="idref" href="#x0:1"><span class="id" title="binder">x0</span></a> <a id="x1:2" class="idref" href="#x1:2"><span class="id" title="binder">x1</span></a> <a id="e_T_list:3" class="idref" href="#e_T_list:3"><span class="id" title="binder">e_T_list</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:4" class="idref" href="#x:4"><span class="id" title="binder">x</span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="e_:6" class="idref" href="#e_:6"><span class="id" title="binder">e_</span></a>, <span class="id" title="var">_</span>) := <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="ABS.abs_util.html#x:4"><span class="id" title="variable">x</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_defs.html#e_var_subst_one"><span class="id" title="definition">e_var_subst_one</span></a> <span class="id" title="var">e_</span> <a class="idref" href="ABS.abs_util.html#x0:1"><span class="id" title="variable">x0</span></a> <a class="idref" href="ABS.abs_util.html#x1:2"><span class="id" title="variable">x1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_util.html#e_:6"><span class="id" title="variable">e_</span></a>) <a class="idref" href="ABS.abs_util.html#e_T_list:3"><span class="id" title="variable">e_T_list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fix</span> <span class="id" title="var">e_list_subst_one</span> (<a id="es:7" class="idref" href="#es:7"><span class="id" title="binder">es</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a>) (<a id="x_:8" class="idref" href="#x_:8"><span class="id" title="binder">x_</span></a> <a id="y_:9" class="idref" href="#y_:9"><span class="id" title="binder">y_</span></a> : <a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">es</span>} : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ABS.abs_util.html#es:7"><span class="id" title="variable">es</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> : <a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> =&gt; <span class="id" title="keyword">fun</span> <a id="x_0:12" class="idref" href="#x_0:12"><span class="id" title="binder">x_0</span></a> <a id="y_0:13" class="idref" href="#y_0:13"><span class="id" title="binder">y_0</span></a> : <a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a> =&gt; <a class="idref" href="ABS.abs_defs.html#e_var_subst_one"><span class="id" title="definition">e_var_subst_one</span></a> <span class="id" title="var">e</span> <a class="idref" href="ABS.abs_util.html#x_0:12"><span class="id" title="variable">x_0</span></a> <a class="idref" href="ABS.abs_util.html#y_0:13"><span class="id" title="variable">y_0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="ABS.abs_util.html#e_list_subst_one:10"><span class="id" title="variable">e_list_subst_one</span></a> <span class="id" title="var">l</span> <a class="idref" href="ABS.abs_util.html#x_0:12"><span class="id" title="variable">x_0</span></a> <a class="idref" href="ABS.abs_util.html#y_0:13"><span class="id" title="variable">y_0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="ABS.abs_util.html#x_:8"><span class="id" title="variable">x_</span></a> <a class="idref" href="ABS.abs_util.html#y_:9"><span class="id" title="variable">y_</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:14" class="idref" href="#pat_:14"><span class="id" title="binder">pat_</span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="e_:15" class="idref" href="#e_:15"><span class="id" title="binder">e_</span></a>, <span class="id" title="var">_</span>) := <a class="idref" href="ABS.abs_util.html#pat_:14"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_util.html#e_:15"><span class="id" title="variable">e_</span></a>) <a class="idref" href="ABS.abs_util.html#e_T_list:3"><span class="id" title="variable">e_T_list</span></a>) <a class="idref" href="ABS.abs_util.html#x0:1"><span class="id" title="variable">x0</span></a> <a class="idref" href="ABS.abs_util.html#x1:2"><span class="id" title="variable">x1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e_T_list</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHe_T_list</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_snd_commutes" class="idref" href="#subst_snd_commutes"><span class="id" title="lemma">subst_snd_commutes</span></a>: <span class="id" title="notation">forall</span> <a id="x0:16" class="idref" href="#x0:16"><span class="id" title="binder">x0</span></a> <a id="s:17" class="idref" href="#s:17"><span class="id" title="binder">s</span></a> <a id="e_T_list:18" class="idref" href="#e_T_list:18"><span class="id" title="binder">e_T_list</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:22" class="idref" href="#pat_:22"><span class="id" title="binder">pat_</span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<span class="id" title="var">_</span>, <a id="T_:23" class="idref" href="#T_:23"><span class="id" title="binder">T_</span></a>) := <a class="idref" href="ABS.abs_util.html#pat_:22"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_util.html#T_:23"><span class="id" title="variable">T_</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:19" class="idref" href="#pat_:19"><span class="id" title="binder">pat_</span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="e_:20" class="idref" href="#e_:20"><span class="id" title="binder">e_</span></a>, <a id="T_:21" class="idref" href="#T_:21"><span class="id" title="binder">T_</span></a>) := <a class="idref" href="ABS.abs_util.html#pat_:19"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_defs.html#e_var_subst_one"><span class="id" title="definition">e_var_subst_one</span></a> <a class="idref" href="ABS.abs_util.html#e_:20"><span class="id" title="variable">e_</span></a> <a class="idref" href="ABS.abs_util.html#x0:16"><span class="id" title="variable">x0</span></a> <a class="idref" href="ABS.abs_util.html#s:17"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_util.html#T_:21"><span class="id" title="variable">T_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="ABS.abs_util.html#e_T_list:18"><span class="id" title="variable">e_T_list</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:24" class="idref" href="#pat_:24"><span class="id" title="binder">pat_</span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<span class="id" title="var">_</span>, <a id="T_:25" class="idref" href="#T_:25"><span class="id" title="binder">T_</span></a>) := <a class="idref" href="ABS.abs_util.html#pat_:24"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_util.html#T_:25"><span class="id" title="variable">T_</span></a>) <a class="idref" href="ABS.abs_util.html#e_T_list:18"><span class="id" title="variable">e_T_list</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e_T_list</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHe_T_list</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Characterizing&nbsp;substitution&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_term" class="idref" href="#subst_term"><span class="id" title="lemma">subst_term</span></a>: <span class="id" title="notation">forall</span> <a id="t:26" class="idref" href="#t:26"><span class="id" title="binder">t</span></a> <a id="sub:27" class="idref" href="#sub:27"><span class="id" title="binder">sub</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> (<a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_util.html#t:26"><span class="id" title="variable">t</span></a>) <a class="idref" href="ABS.abs_util.html#sub:27"><span class="id" title="variable">sub</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_util.html#t:26"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="replace_var" class="idref" href="#replace_var"><span class="id" title="definition">replace_var</span></a> (<a id="x0:28" class="idref" href="#x0:28"><span class="id" title="binder">x0</span></a>:<a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>) (<a id="sub:29" class="idref" href="#sub:29"><span class="id" title="binder">sub</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a>(<a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>)) :=<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">(</span></a><a id="x_:31" class="idref" href="#x_:31"><span class="id" title="binder"><span id="pat:32" class="id">x_</span></span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">,</span></a> <a id="y_:30" class="idref" href="#y_:30"><span class="id" title="binder"><span id="pat:32" class="id">y_</span></span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">)</span></a> <a id="x0:33" class="idref" href="#x0:33"><span class="id" title="binder">x0</span></a> =&gt; <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<a class="idref" href="ABS.abs_util.html#x0:33"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_util.html#x_:31"><span class="id" title="variable">x_</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="ABS.abs_util.html#y_:30"><span class="id" title="variable">y_</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ABS.abs_util.html#x0:33"><span class="id" title="variable">x0</span></a>) <a class="idref" href="ABS.abs_util.html#x0:28"><span class="id" title="variable">x0</span></a> <a class="idref" href="ABS.abs_util.html#sub:29"><span class="id" title="variable">sub</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_var" class="idref" href="#subst_var"><span class="id" title="lemma">subst_var</span></a>: <span class="id" title="notation">forall</span> <a id="x0:34" class="idref" href="#x0:34"><span class="id" title="binder">x0</span></a> <a id="sub:35" class="idref" href="#sub:35"><span class="id" title="binder">sub</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> (<a class="idref" href="ABS.abs_defs.html#e_var"><span class="id" title="constructor">e_var</span></a> <a class="idref" href="ABS.abs_util.html#x0:34"><span class="id" title="variable">x0</span></a>) <a class="idref" href="ABS.abs_util.html#sub:35"><span class="id" title="variable">sub</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_defs.html#e_var"><span class="id" title="constructor">e_var</span></a> (<a class="idref" href="ABS.abs_util.html#replace_var"><span class="id" title="definition">replace_var</span></a> <a class="idref" href="ABS.abs_util.html#x0:34"><span class="id" title="variable">x0</span></a> <a class="idref" href="ABS.abs_util.html#sub:35"><span class="id" title="variable">sub</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sub</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="e_list_subst_map" class="idref" href="#e_list_subst_map"><span class="id" title="lemma">e_list_subst_map</span></a>: <span class="id" title="notation">forall</span> <a id="x0:36" class="idref" href="#x0:36"><span class="id" title="binder">x0</span></a> <a id="y0:37" class="idref" href="#y0:37"><span class="id" title="binder">y0</span></a> <a id="e_list:38" class="idref" href="#e_list:38"><span class="id" title="binder">e_list</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#e_list_subst_one"><span class="id" title="definition">e_list_subst_one</span></a> <a class="idref" href="ABS.abs_util.html#e_list:38"><span class="id" title="variable">e_list</span></a> <a class="idref" href="ABS.abs_util.html#x0:36"><span class="id" title="variable">x0</span></a> <a class="idref" href="ABS.abs_util.html#y0:37"><span class="id" title="variable">y0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="e_:39" class="idref" href="#e_:39"><span class="id" title="binder">e_</span></a> =&gt; <a class="idref" href="ABS.abs_defs.html#e_var_subst_one"><span class="id" title="definition">e_var_subst_one</span></a> <a class="idref" href="ABS.abs_util.html#e_:39"><span class="id" title="variable">e_</span></a> <a class="idref" href="ABS.abs_util.html#x0:36"><span class="id" title="variable">x0</span></a> <a class="idref" href="ABS.abs_util.html#y0:37"><span class="id" title="variable">y0</span></a>) <a class="idref" href="ABS.abs_util.html#e_list:38"><span class="id" title="variable">e_list</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e_list</span>; [<span class="id" title="var">easy</span>|];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHe_list</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_fn" class="idref" href="#subst_fn"><span class="id" title="lemma">subst_fn</span></a>: <span class="id" title="notation">forall</span> <a id="fn0:40" class="idref" href="#fn0:40"><span class="id" title="binder">fn0</span></a> <a id="sub:41" class="idref" href="#sub:41"><span class="id" title="binder">sub</span></a> <a id="e_list:42" class="idref" href="#e_list:42"><span class="id" title="binder">e_list</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> (<a class="idref" href="ABS.abs_defs.html#e_fn_call"><span class="id" title="constructor">e_fn_call</span></a> <a class="idref" href="ABS.abs_util.html#fn0:40"><span class="id" title="variable">fn0</span></a> <a class="idref" href="ABS.abs_util.html#e_list:42"><span class="id" title="variable">e_list</span></a>) <a class="idref" href="ABS.abs_util.html#sub:41"><span class="id" title="variable">sub</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_defs.html#e_fn_call"><span class="id" title="constructor">e_fn_call</span></a> <a class="idref" href="ABS.abs_util.html#fn0:40"><span class="id" title="variable">fn0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="e':43" class="idref" href="#e':43"><span class="id" title="binder">e'</span></a> =&gt; <a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_util.html#e':43"><span class="id" title="variable">e'</span></a> <a class="idref" href="ABS.abs_util.html#sub:41"><span class="id" title="variable">sub</span></a>) <a class="idref" href="ABS.abs_util.html#e_list:42"><span class="id" title="variable">e_list</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sub</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_id"><span class="id" title="lemma">map_id</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHsub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#e_list_subst_map"><span class="id" title="lemma">e_list_subst_map</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_neg" class="idref" href="#subst_neg"><span class="id" title="lemma">subst_neg</span></a>: <span class="id" title="notation">forall</span> <a id="e0:44" class="idref" href="#e0:44"><span class="id" title="binder">e0</span></a> <a id="sub:45" class="idref" href="#sub:45"><span class="id" title="binder">sub</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> (<a class="idref" href="ABS.abs_defs.html#e_neg"><span class="id" title="constructor">e_neg</span></a> <a class="idref" href="ABS.abs_util.html#e0:44"><span class="id" title="variable">e0</span></a>) <a class="idref" href="ABS.abs_util.html#sub:45"><span class="id" title="variable">sub</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_defs.html#e_neg"><span class="id" title="constructor">e_neg</span></a> (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_util.html#e0:44"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_util.html#sub:45"><span class="id" title="variable">sub</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sub</span> <span class="id" title="keyword">as</span> [ | (?&amp;?) ]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHsub</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_not" class="idref" href="#subst_not"><span class="id" title="lemma">subst_not</span></a>: <span class="id" title="notation">forall</span> <a id="e0:46" class="idref" href="#e0:46"><span class="id" title="binder">e0</span></a> <a id="sub:47" class="idref" href="#sub:47"><span class="id" title="binder">sub</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> (<a class="idref" href="ABS.abs_defs.html#e_not"><span class="id" title="constructor">e_not</span></a> <a class="idref" href="ABS.abs_util.html#e0:46"><span class="id" title="variable">e0</span></a>) <a class="idref" href="ABS.abs_util.html#sub:47"><span class="id" title="variable">sub</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_defs.html#e_not"><span class="id" title="constructor">e_not</span></a> (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_util.html#e0:46"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_util.html#sub:47"><span class="id" title="variable">sub</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sub</span> <span class="id" title="keyword">as</span> [ | (?&amp;?) ]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHsub</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_add" class="idref" href="#subst_add"><span class="id" title="lemma">subst_add</span></a>: <span class="id" title="notation">forall</span> <a id="e1:48" class="idref" href="#e1:48"><span class="id" title="binder">e1</span></a> <a id="e2:49" class="idref" href="#e2:49"><span class="id" title="binder">e2</span></a> <a id="sub:50" class="idref" href="#sub:50"><span class="id" title="binder">sub</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> (<a class="idref" href="ABS.abs_defs.html#e_add"><span class="id" title="constructor">e_add</span></a> <a class="idref" href="ABS.abs_util.html#e1:48"><span class="id" title="variable">e1</span></a> <a class="idref" href="ABS.abs_util.html#e2:49"><span class="id" title="variable">e2</span></a>) <a class="idref" href="ABS.abs_util.html#sub:50"><span class="id" title="variable">sub</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_defs.html#e_add"><span class="id" title="constructor">e_add</span></a> (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_util.html#e1:48"><span class="id" title="variable">e1</span></a> <a class="idref" href="ABS.abs_util.html#sub:50"><span class="id" title="variable">sub</span></a>) (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_util.html#e2:49"><span class="id" title="variable">e2</span></a> <a class="idref" href="ABS.abs_util.html#sub:50"><span class="id" title="variable">sub</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sub</span> <span class="id" title="keyword">as</span> [ | (?&amp;?) ]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHsub</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_mul" class="idref" href="#subst_mul"><span class="id" title="lemma">subst_mul</span></a>: <span class="id" title="notation">forall</span> <a id="e1:51" class="idref" href="#e1:51"><span class="id" title="binder">e1</span></a> <a id="e2:52" class="idref" href="#e2:52"><span class="id" title="binder">e2</span></a> <a id="sub:53" class="idref" href="#sub:53"><span class="id" title="binder">sub</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> (<a class="idref" href="ABS.abs_defs.html#e_mul"><span class="id" title="constructor">e_mul</span></a> <a class="idref" href="ABS.abs_util.html#e1:51"><span class="id" title="variable">e1</span></a> <a class="idref" href="ABS.abs_util.html#e2:52"><span class="id" title="variable">e2</span></a>) <a class="idref" href="ABS.abs_util.html#sub:53"><span class="id" title="variable">sub</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_defs.html#e_mul"><span class="id" title="constructor">e_mul</span></a> (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_util.html#e1:51"><span class="id" title="variable">e1</span></a> <a class="idref" href="ABS.abs_util.html#sub:53"><span class="id" title="variable">sub</span></a>) (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_util.html#e2:52"><span class="id" title="variable">e2</span></a> <a class="idref" href="ABS.abs_util.html#sub:53"><span class="id" title="variable">sub</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sub</span> <span class="id" title="keyword">as</span> [ | (?&amp;?) ]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHsub</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_eq" class="idref" href="#subst_eq"><span class="id" title="lemma">subst_eq</span></a>: <span class="id" title="notation">forall</span> <a id="e1:54" class="idref" href="#e1:54"><span class="id" title="binder">e1</span></a> <a id="e2:55" class="idref" href="#e2:55"><span class="id" title="binder">e2</span></a> <a id="sub:56" class="idref" href="#sub:56"><span class="id" title="binder">sub</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> (<a class="idref" href="ABS.abs_defs.html#e_eq"><span class="id" title="constructor">e_eq</span></a> <a class="idref" href="ABS.abs_util.html#e1:54"><span class="id" title="variable">e1</span></a> <a class="idref" href="ABS.abs_util.html#e2:55"><span class="id" title="variable">e2</span></a>) <a class="idref" href="ABS.abs_util.html#sub:56"><span class="id" title="variable">sub</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_defs.html#e_eq"><span class="id" title="constructor">e_eq</span></a> (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_util.html#e1:54"><span class="id" title="variable">e1</span></a> <a class="idref" href="ABS.abs_util.html#sub:56"><span class="id" title="variable">sub</span></a>) (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_util.html#e2:55"><span class="id" title="variable">e2</span></a> <a class="idref" href="ABS.abs_util.html#sub:56"><span class="id" title="variable">sub</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sub</span> <span class="id" title="keyword">as</span> [ | (?&amp;?) ]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHsub</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_lt" class="idref" href="#subst_lt"><span class="id" title="lemma">subst_lt</span></a>: <span class="id" title="notation">forall</span> <a id="e1:57" class="idref" href="#e1:57"><span class="id" title="binder">e1</span></a> <a id="e2:58" class="idref" href="#e2:58"><span class="id" title="binder">e2</span></a> <a id="sub:59" class="idref" href="#sub:59"><span class="id" title="binder">sub</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> (<a class="idref" href="ABS.abs_defs.html#e_lt"><span class="id" title="constructor">e_lt</span></a> <a class="idref" href="ABS.abs_util.html#e1:57"><span class="id" title="variable">e1</span></a> <a class="idref" href="ABS.abs_util.html#e2:58"><span class="id" title="variable">e2</span></a>) <a class="idref" href="ABS.abs_util.html#sub:59"><span class="id" title="variable">sub</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_defs.html#e_lt"><span class="id" title="constructor">e_lt</span></a> (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_util.html#e1:57"><span class="id" title="variable">e1</span></a> <a class="idref" href="ABS.abs_util.html#sub:59"><span class="id" title="variable">sub</span></a>) (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_util.html#e2:58"><span class="id" title="variable">e2</span></a> <a class="idref" href="ABS.abs_util.html#sub:59"><span class="id" title="variable">sub</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sub</span> <span class="id" title="keyword">as</span> [ | (?&amp;?) ]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHsub</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="e_list_subst" class="idref" href="#e_list_subst"><span class="id" title="lemma">e_list_subst</span></a>: <span class="id" title="notation">forall</span> <a id="el:60" class="idref" href="#el:60"><span class="id" title="binder">el</span></a> <a id="x0:61" class="idref" href="#x0:61"><span class="id" title="binder">x0</span></a> <a id="y0:62" class="idref" href="#y0:62"><span class="id" title="binder">y0</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#e_list_subst_one"><span class="id" title="definition">e_list_subst_one</span></a> <a class="idref" href="ABS.abs_util.html#el:60"><span class="id" title="variable">el</span></a> <a class="idref" href="ABS.abs_util.html#x0:61"><span class="id" title="variable">x0</span></a> <a class="idref" href="ABS.abs_util.html#y0:62"><span class="id" title="variable">y0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="e:63" class="idref" href="#e:63"><span class="id" title="binder">e</span></a> =&gt; <a class="idref" href="ABS.abs_defs.html#e_var_subst_one"><span class="id" title="definition">e_var_subst_one</span></a> <a class="idref" href="ABS.abs_util.html#e:63"><span class="id" title="variable">e</span></a> <a class="idref" href="ABS.abs_util.html#x0:61"><span class="id" title="variable">x0</span></a> <a class="idref" href="ABS.abs_util.html#y0:62"><span class="id" title="variable">y0</span></a>) <a class="idref" href="ABS.abs_util.html#el:60"><span class="id" title="variable">el</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">el</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHel</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="e_list_fresh" class="idref" href="#e_list_fresh"><span class="id" title="lemma">e_list_fresh</span></a>: <span class="id" title="notation">forall</span> <a id="e0:64" class="idref" href="#e0:64"><span class="id" title="binder">e0</span></a> <a id="ys:65" class="idref" href="#ys:65"><span class="id" title="binder">ys</span></a> <a id="el:66" class="idref" href="#el:66"><span class="id" title="binder">el</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_el"><span class="id" title="definition">fresh_vars_el</span></a> <a class="idref" href="ABS.abs_util.html#ys:65"><span class="id" title="variable">ys</span></a> <a class="idref" href="ABS.abs_util.html#el:66"><span class="id" title="variable">el</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="ABS.abs_util.html#e0:64"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_util.html#el:66"><span class="id" title="variable">el</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> <a class="idref" href="ABS.abs_util.html#ys:65"><span class="id" title="variable">ys</span></a> <a class="idref" href="ABS.abs_util.html#e0:64"><span class="id" title="variable">e0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">el</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHel</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Properties&nbsp;of&nbsp;fresh_e*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="fresh_first_e" class="idref" href="#fresh_first_e"><span class="id" title="lemma">fresh_first_e</span></a>: <span class="id" title="notation">forall</span> <a id="e0:67" class="idref" href="#e0:67"><span class="id" title="binder">e0</span></a> <a id="y:68" class="idref" href="#y:68"><span class="id" title="binder">y</span></a> <a id="ys:69" class="idref" href="#ys:69"><span class="id" title="binder">ys</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> (<a class="idref" href="ABS.abs_util.html#y:68"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="ABS.abs_util.html#ys:69"><span class="id" title="variable">ys</span></a>) <a class="idref" href="ABS.abs_util.html#e0:67"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ABS.abs_util.html#y:68"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="ABS.abs_util.html#e0:67"><span class="id" title="variable">e0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e0</span> <span class="id" title="keyword">using</span> <a class="idref" href="ABS.abs_defs.html#e_ott_ind"><span class="id" title="definition">e_ott_ind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">P_list_e</span> := <span class="id" title="keyword">fun</span> <a id="e_list:70" class="idref" href="#e_list:70"><span class="id" title="binder"><span id="e_list:74" class="id">e_list</span></span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="e0:71" class="idref" href="#e0:71"><span class="id" title="binder"><span id="e0:75" class="id">e0</span></span></a> <a id="y:72" class="idref" href="#y:72"><span class="id" title="binder"><span id="y:76" class="id">y</span></span></a> <a id="ys:73" class="idref" href="#ys:73"><span class="id" title="binder"><span id="ys:77" class="id">ys</span></span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="ABS.abs_util.html#e0:71"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_util.html#e_list:70"><span class="id" title="variable">e_list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> (<a class="idref" href="ABS.abs_util.html#y:72"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="ABS.abs_util.html#ys:73"><span class="id" title="variable">ys</span></a>) <a class="idref" href="ABS.abs_util.html#e0:71"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ABS.abs_util.html#y:72"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="ABS.abs_util.html#e0:71"><span class="id" title="variable">e0</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;binary&nbsp;operations&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe0_1</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe0_2</span>; <span class="id" title="tactic">eauto</span>]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;other&nbsp;easy&nbsp;ones*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">e_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe_list</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe1</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fresh_monotone_e" class="idref" href="#fresh_monotone_e"><span class="id" title="lemma">fresh_monotone_e</span></a>: <span class="id" title="notation">forall</span> <a id="e0:78" class="idref" href="#e0:78"><span class="id" title="binder">e0</span></a> <a id="y:79" class="idref" href="#y:79"><span class="id" title="binder">y</span></a> <a id="ys:80" class="idref" href="#ys:80"><span class="id" title="binder">ys</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> (<a class="idref" href="ABS.abs_util.html#y:79"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="ABS.abs_util.html#ys:80"><span class="id" title="variable">ys</span></a>) <a class="idref" href="ABS.abs_util.html#e0:78"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> <a class="idref" href="ABS.abs_util.html#ys:80"><span class="id" title="variable">ys</span></a> <a class="idref" href="ABS.abs_util.html#e0:78"><span class="id" title="variable">e0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e0</span> <span class="id" title="keyword">using</span> <a class="idref" href="ABS.abs_defs.html#e_ott_ind"><span class="id" title="definition">e_ott_ind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">P_list_e</span> := <span class="id" title="keyword">fun</span> <a id="e_list:81" class="idref" href="#e_list:81"><span class="id" title="binder"><span id="e_list:85" class="id">e_list</span></span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="e0:82" class="idref" href="#e0:82"><span class="id" title="binder"><span id="e0:86" class="id">e0</span></span></a> <a id="y:83" class="idref" href="#y:83"><span class="id" title="binder"><span id="y:87" class="id">y</span></span></a> <a id="ys:84" class="idref" href="#ys:84"><span class="id" title="binder"><span id="ys:88" class="id">ys</span></span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="ABS.abs_util.html#e0:82"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_util.html#e_list:81"><span class="id" title="variable">e_list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> (<a class="idref" href="ABS.abs_util.html#y:83"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="ABS.abs_util.html#ys:84"><span class="id" title="variable">ys</span></a>) <a class="idref" href="ABS.abs_util.html#e0:82"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> <a class="idref" href="ABS.abs_util.html#ys:84"><span class="id" title="variable">ys</span></a> <a class="idref" href="ABS.abs_util.html#e0:82"><span class="id" title="variable">e0</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;binary&nbsp;operations&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe0_1</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe0_2</span>; <span class="id" title="tactic">eauto</span>]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;other&nbsp;easy&nbsp;ones*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">e_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe_list</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHe1</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fresh_first_el" class="idref" href="#fresh_first_el"><span class="id" title="lemma">fresh_first_el</span></a>: <span class="id" title="notation">forall</span> <a id="el:89" class="idref" href="#el:89"><span class="id" title="binder">el</span></a> <a id="y:90" class="idref" href="#y:90"><span class="id" title="binder">y</span></a> <a id="ys:91" class="idref" href="#ys:91"><span class="id" title="binder">ys</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_el"><span class="id" title="definition">fresh_vars_el</span></a> (<a class="idref" href="ABS.abs_util.html#y:90"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="ABS.abs_util.html#ys:91"><span class="id" title="variable">ys</span></a>) <a class="idref" href="ABS.abs_util.html#el:89"><span class="id" title="variable">el</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#fresh_vars_el"><span class="id" title="definition">fresh_vars_el</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ABS.abs_util.html#y:90"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="ABS.abs_util.html#el:89"><span class="id" title="variable">el</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">el</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#fresh_first_e"><span class="id" title="lemma">fresh_first_e</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHel</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fresh_monotone_el" class="idref" href="#fresh_monotone_el"><span class="id" title="lemma">fresh_monotone_el</span></a>: <span class="id" title="notation">forall</span> <a id="el:92" class="idref" href="#el:92"><span class="id" title="binder">el</span></a> <a id="y:93" class="idref" href="#y:93"><span class="id" title="binder">y</span></a> <a id="ys:94" class="idref" href="#ys:94"><span class="id" title="binder">ys</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_el"><span class="id" title="definition">fresh_vars_el</span></a> (<a class="idref" href="ABS.abs_util.html#y:93"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="ABS.abs_util.html#ys:94"><span class="id" title="variable">ys</span></a>) <a class="idref" href="ABS.abs_util.html#el:92"><span class="id" title="variable">el</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#fresh_vars_el"><span class="id" title="definition">fresh_vars_el</span></a> <a class="idref" href="ABS.abs_util.html#ys:94"><span class="id" title="variable">ys</span></a> <a class="idref" href="ABS.abs_util.html#el:92"><span class="id" title="variable">el</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">el</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#fresh_monotone_e"><span class="id" title="lemma">fresh_monotone_e</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHel</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fresh_var_subst" class="idref" href="#fresh_var_subst"><span class="id" title="lemma">fresh_var_subst</span></a>: <span class="id" title="notation">forall</span> <a id="e0:95" class="idref" href="#e0:95"><span class="id" title="binder">e0</span></a> <a id="y:96" class="idref" href="#y:96"><span class="id" title="binder">y</span></a> <a id="sub:97" class="idref" href="#sub:97"><span class="id" title="binder">sub</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ABS.abs_util.html#sub:97"><span class="id" title="variable">sub</span></a>) <a class="idref" href="ABS.abs_util.html#e0:95"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ABS.abs_util.html#y:96"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="ABS.abs_util.html#e0:95"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="ABS.abs_util.html#y:96"><span class="id" title="variable">y</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ABS.abs_util.html#sub:97"><span class="id" title="variable">sub</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ABS.abs_util.html#y:96"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_util.html#e0:95"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_util.html#sub:97"><span class="id" title="variable">sub</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e0</span> <span class="id" title="keyword">using</span> <a class="idref" href="ABS.abs_defs.html#e_ott_ind"><span class="id" title="definition">e_ott_ind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P_list_e</span> := <span class="id" title="keyword">fun</span> <a id="e_list:98" class="idref" href="#e_list:98"><span class="id" title="binder"><span id="e_list:101" class="id">e_list</span></span></a> =&gt; <span class="id" title="notation">forall</span> <a id="y:99" class="idref" href="#y:99"><span class="id" title="binder"><span id="y:102" class="id">y</span></span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_el"><span class="id" title="definition">fresh_vars_el</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">sub</span>) <a class="idref" href="ABS.abs_util.html#e_list:98"><span class="id" title="variable">e_list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_el"><span class="id" title="definition">fresh_vars_el</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ABS.abs_util.html#y:99"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="ABS.abs_util.html#e_list:98"><span class="id" title="variable">e_list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="ABS.abs_util.html#y:99"><span class="id" title="variable">y</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">sub</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_el"><span class="id" title="definition">fresh_vars_el</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ABS.abs_util.html#y:99"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="e':100" class="idref" href="#e':100"><span class="id" title="binder"><span id="e':103" class="id">e'</span></span></a> =&gt; <a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_util.html#e':100"><span class="id" title="variable">e'</span></a> <span class="id" title="var">sub</span>) <a class="idref" href="ABS.abs_util.html#e_list:98"><span class="id" title="variable">e_list</span></a>))<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_term"><span class="id" title="lemma">subst_term</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">sub</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> (?<span class="id" title="var">x_</span>, ?<span class="id" title="var">y</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_var"><span class="id" title="lemma">subst_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ABS.abs_util.html#subst_var"><span class="id" title="lemma">subst_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Logic.Decidable.html#not_or"><span class="id" title="lemma">Decidable.not_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#fresh_monotone_e"><span class="id" title="lemma">fresh_monotone_e</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHsub</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_fn"><span class="id" title="lemma">subst_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_neg"><span class="id" title="lemma">subst_neg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_not"><span class="id" title="lemma">subst_not</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_add"><span class="id" title="lemma">subst_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe0_1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe0_2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_mul"><span class="id" title="lemma">subst_mul</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe0_1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe0_2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_eq"><span class="id" title="lemma">subst_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe0_1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe0_2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_lt"><span class="id" title="lemma">subst_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe0_1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe0_2</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>,<span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe1</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="disjoint_monotone" class="idref" href="#disjoint_monotone"><span class="id" title="lemma">disjoint_monotone</span></a> {<a id="A:104" class="idref" href="#A:104"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>}: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="l1:105" class="idref" href="#l1:105"><span class="id" title="binder">l1</span></a> <a id="l2:106" class="idref" href="#l2:106"><span class="id" title="binder">l2</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ABS.abs_util.html#A:104"><span class="id" title="variable">A</span></a>) <a id="a1:107" class="idref" href="#a1:107"><span class="id" title="binder">a1</span></a> <a id="a2:108" class="idref" href="#a2:108"><span class="id" title="binder">a2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">disjoint</span> (<a class="idref" href="ABS.abs_util.html#a1:107"><span class="id" title="variable">a1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="ABS.abs_util.html#l1:105"><span class="id" title="variable">l1</span></a>) (<a class="idref" href="ABS.abs_util.html#a2:108"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="ABS.abs_util.html#l2:106"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="definition">disjoint</span> <a class="idref" href="ABS.abs_util.html#l1:105"><span class="id" title="variable">l1</span></a> <a class="idref" href="ABS.abs_util.html#l2:106"><span class="id" title="variable">l2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> ? ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span>); <span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="MapLemmas" class="idref" href="#MapLemmas"><span class="id" title="section">MapLemmas</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="class">FinMap</span> <a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a> <span class="id" title="var">mp</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="neq_none_is_some" class="idref" href="#neq_none_is_some"><span class="id" title="lemma">neq_none_is_some</span></a>: <span class="id" title="notation">forall</span> <a id="A:119" class="idref" href="#A:119"><span class="id" title="binder">A</span></a> (<a id="x:120" class="idref" href="#x:120"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ABS.abs_util.html#A:119"><span class="id" title="variable">A</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#x:120"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="y:121" class="idref" href="#y:121"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_util.html#x:120"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_util.html#y:121"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="map_neq_none_is_some" class="idref" href="#map_neq_none_is_some"><span class="id" title="lemma">map_neq_none_is_some</span></a> {<a id="A:122" class="idref" href="#A:122"><span class="id" title="binder">A</span></a>}: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="m:123" class="idref" href="#m:123"><span class="id" title="binder">m</span></a>: <a class="idref" href="ABS.abs_util.html#MapLemmas.mp"><span class="id" title="variable">mp</span></a> <a class="idref" href="ABS.abs_util.html#A:122"><span class="id" title="variable">A</span></a>) <a id="x:124" class="idref" href="#x:124"><span class="id" title="binder">x</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">lookup</span> <a class="idref" href="ABS.abs_util.html#x:124"><span class="id" title="variable">x</span></a> <a class="idref" href="ABS.abs_util.html#m:123"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="y:125" class="idref" href="#y:125"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="definition">lookup</span> <a class="idref" href="ABS.abs_util.html#x:124"><span class="id" title="variable">x</span></a> <a class="idref" href="ABS.abs_util.html#m:123"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_util.html#y:125"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#neq_none_is_some"><span class="id" title="lemma">neq_none_is_some</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fold_map_reshuffle" class="idref" href="#fold_map_reshuffle"><span class="id" title="lemma">fold_map_reshuffle</span></a>: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="l:126" class="idref" href="#l:126"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#t"><span class="id" title="inductive">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>)) <a id="G0:127" class="idref" href="#G0:127"><span class="id" title="binder">G0</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="abbreviation">foldr</span> (<span class="id" title="keyword">fun</span> (<a id="ax:134" class="idref" href="#ax:134"><span class="id" title="binder">ax</span></a> : <a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a>) (<a id="G':135" class="idref" href="#G':135"><span class="id" title="binder">G'</span></a> : <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) =&gt; <span class="id" title="definition">insert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ABS.abs_util.html#ax:134"><span class="id" title="variable">ax</span></a>) (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ABS.abs_util.html#ax:134"><span class="id" title="variable">ax</span></a>)) <a class="idref" href="ABS.abs_util.html#G':135"><span class="id" title="variable">G'</span></a>) <a class="idref" href="ABS.abs_util.html#G0:127"><span class="id" title="variable">G0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:131" class="idref" href="#pat_:131"><span class="id" title="binder">pat_</span></a> : <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="T_:132" class="idref" href="#T_:132"><span class="id" title="binder">T_</span></a>, <a id="x_:133" class="idref" href="#x_:133"><span class="id" title="binder">x_</span></a>) := <a class="idref" href="ABS.abs_util.html#pat_:131"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_util.html#x_:133"><span class="id" title="variable">x_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_util.html#T_:132"><span class="id" title="variable">T_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:130" class="idref" href="#pat:130"><span class="id" title="binder">(</span></a><a id="T_0:129" class="idref" href="#T_0:129"><span class="id" title="binder"><span id="pat:130" class="id">T_0</span></span></a><a id="pat:130" class="idref" href="#pat:130"><span class="id" title="binder">,</span></a> <a id="x_:128" class="idref" href="#x_:128"><span class="id" title="binder"><span id="pat:130" class="id">x_</span></span></a><a id="pat:130" class="idref" href="#pat:130"><span class="id" title="binder">,</span></a> <a id="pat:130" class="idref" href="#pat:130"><span class="id" title="binder">_</span></a><a id="pat:130" class="idref" href="#pat:130"><span class="id" title="binder">,</span></a> <a id="pat:130" class="idref" href="#pat:130"><span class="id" title="binder">_</span></a><a id="pat:130" class="idref" href="#pat:130"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_util.html#T_0:129"><span class="id" title="variable">T_0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_util.html#x_:128"><span class="id" title="variable">x_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="ABS.abs_util.html#l:126"><span class="id" title="variable">l</span></a>))<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="abbreviation">foldr</span> (<span class="id" title="keyword">fun</span> '<a id="pat:138" class="idref" href="#pat:138"><span class="id" title="binder">(</span></a><a id="T1:137" class="idref" href="#T1:137"><span class="id" title="binder"><span id="pat:138" class="id">T1</span></span></a><a id="pat:138" class="idref" href="#pat:138"><span class="id" title="binder">,</span></a> <a id="x_:136" class="idref" href="#x_:136"><span class="id" title="binder"><span id="pat:138" class="id">x_</span></span></a><a id="pat:138" class="idref" href="#pat:138"><span class="id" title="binder">,</span></a> <a id="pat:138" class="idref" href="#pat:138"><span class="id" title="binder">_</span></a><a id="pat:138" class="idref" href="#pat:138"><span class="id" title="binder">,</span></a> <a id="pat:138" class="idref" href="#pat:138"><span class="id" title="binder">_</span></a><a id="pat:138" class="idref" href="#pat:138"><span class="id" title="binder">)</span></a> (<a id="G':139" class="idref" href="#G':139"><span class="id" title="binder">G'</span></a> : <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) =&gt; <span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_util.html#x_:136"><span class="id" title="variable">x_</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_util.html#T1:137"><span class="id" title="variable">T1</span></a>) <a class="idref" href="ABS.abs_util.html#G':139"><span class="id" title="variable">G'</span></a>) <a class="idref" href="ABS.abs_util.html#G0:127"><span class="id" title="variable">G0</span></a> <a class="idref" href="ABS.abs_util.html#l:126"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>;<span class="id" title="tactic">intros</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> (((?<span class="id" title="var">T_</span> &amp; ?<span class="id" title="var">x_</span>) &amp; ?<span class="id" title="var">t_</span>) &amp; ?<span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fold_add_comm" class="idref" href="#fold_add_comm"><span class="id" title="lemma">fold_add_comm</span></a>: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="G0:140" class="idref" href="#G0:140"><span class="id" title="binder">G0</span></a>: <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) <a id="y:141" class="idref" href="#y:141"><span class="id" title="binder">y</span></a> <a id="T_:142" class="idref" href="#T_:142"><span class="id" title="binder">T_</span></a> (<a id="upd:143" class="idref" href="#upd:143"><span class="id" title="binder">upd</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="ABS.abs_util.html#y:141"><span class="id" title="variable">y</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:145" class="idref" href="#pat:145"><span class="id" title="binder">(</span></a><a id="pat:145" class="idref" href="#pat:145"><span class="id" title="binder">_</span></a><a id="pat:145" class="idref" href="#pat:145"><span class="id" title="binder">,</span></a> <a id="y:144" class="idref" href="#y:144"><span class="id" title="binder"><span id="pat:145" class="id">y</span></span></a><a id="pat:145" class="idref" href="#pat:145"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ABS.abs_util.html#y:144"><span class="id" title="variable">y</span></a>) <a class="idref" href="ABS.abs_util.html#upd:143"><span class="id" title="variable">upd</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_util.html#y:141"><span class="id" title="variable">y</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_util.html#T_:142"><span class="id" title="variable">T_</span></a>) (<span class="id" title="abbreviation">foldr</span> (<span class="id" title="keyword">fun</span> '<a id="pat:148" class="idref" href="#pat:148"><span class="id" title="binder">(</span></a><a id="T_:147" class="idref" href="#T_:147"><span class="id" title="binder"><span id="pat:148" class="id">T_</span></span></a><a id="pat:148" class="idref" href="#pat:148"><span class="id" title="binder">,</span></a> <a id="y:146" class="idref" href="#y:146"><span class="id" title="binder"><span id="pat:148" class="id">y</span></span></a><a id="pat:148" class="idref" href="#pat:148"><span class="id" title="binder">)</span></a> <a id="G0:149" class="idref" href="#G0:149"><span class="id" title="binder">G0</span></a> =&gt; <span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_util.html#y:146"><span class="id" title="variable">y</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_util.html#T_:147"><span class="id" title="variable">T_</span></a>) <a class="idref" href="ABS.abs_util.html#G0:149"><span class="id" title="variable">G0</span></a>) <a class="idref" href="ABS.abs_util.html#G0:140"><span class="id" title="variable">G0</span></a> <a class="idref" href="ABS.abs_util.html#upd:143"><span class="id" title="variable">upd</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="abbreviation">foldr</span> (<span class="id" title="keyword">fun</span> '<a id="pat:152" class="idref" href="#pat:152"><span class="id" title="binder">(</span></a><a id="T_:151" class="idref" href="#T_:151"><span class="id" title="binder"><span id="pat:152" class="id">T_</span></span></a><a id="pat:152" class="idref" href="#pat:152"><span class="id" title="binder">,</span></a> <a id="y:150" class="idref" href="#y:150"><span class="id" title="binder"><span id="pat:152" class="id">y</span></span></a><a id="pat:152" class="idref" href="#pat:152"><span class="id" title="binder">)</span></a> <a id="G0:153" class="idref" href="#G0:153"><span class="id" title="binder">G0</span></a> =&gt; <span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_util.html#y:150"><span class="id" title="variable">y</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_util.html#T_:151"><span class="id" title="variable">T_</span></a>) <a class="idref" href="ABS.abs_util.html#G0:153"><span class="id" title="variable">G0</span></a>) (<span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_util.html#y:141"><span class="id" title="variable">y</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_util.html#T_:142"><span class="id" title="variable">T_</span></a>) <a class="idref" href="ABS.abs_util.html#G0:140"><span class="id" title="variable">G0</span></a>) <a class="idref" href="ABS.abs_util.html#upd:143"><span class="id" title="variable">upd</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">upd</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_eq</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHupd</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">insert_commute</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span>:=<span class="id" title="var">x</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ABS.abs_util.html#MapLemmas"><span class="id" title="section">MapLemmas</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;this&nbsp;substitution&nbsp;and&nbsp;subsequent&nbsp;well-typing&nbsp;is&nbsp;not&nbsp;currently&nbsp;used&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;I&nbsp;thought&nbsp;I&nbsp;might&nbsp;use&nbsp;it,&nbsp;and&nbsp;then&nbsp;didn't,&nbsp;but&nbsp;may&nbsp;be&nbsp;useful&nbsp;later?&nbsp;*)</span><br/>
<span class="id" title="keyword">Equations</span> <a id="e_subst_s" class="idref" href="#e_subst_s"><span class="id" title="definition">e_subst_s</span></a> : <a class="idref" href="ABS.abs_defs.html#s"><span class="id" title="definition">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#e_subst_s:157"><span class="id" title="definition">e_subst_s</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_util.html#t:156"><span class="id" title="variable">t</span></a>) := <a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <span class="id" title="var">t</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#e_subst_s:160"><span class="id" title="definition">e_subst_s</span></a> <a class="idref" href="ABS.abs_util.html#c49a8dfd1d06b0df2c24dc402f52e707"><span class="id" title="variable">σ</span></a> (<a class="idref" href="ABS.abs_defs.html#e_var"><span class="id" title="constructor">e_var</span></a> <a class="idref" href="ABS.abs_util.html#x_:158"><span class="id" title="variable">x_</span></a>) := <span class="id" title="keyword">match</span> σ <span class="id" title="notation">!!</span> <span class="id" title="var">x_</span> <span class="id" title="keyword">with</span> | <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t</span> =&gt; (<a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <span class="id" title="var">t</span>) | <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; (<a class="idref" href="ABS.abs_defs.html#e_var"><span class="id" title="constructor">e_var</span></a> <span class="id" title="var">x_</span>) <span class="id" title="keyword">end</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#e_subst_s:163"><span class="id" title="definition">e_subst_s</span></a> <a class="idref" href="ABS.abs_util.html#6d733b1b659b1451b713428138e97350"><span class="id" title="variable">σ</span></a> (<a class="idref" href="ABS.abs_defs.html#e_neg"><span class="id" title="constructor">e_neg</span></a> <a class="idref" href="ABS.abs_util.html#e0:161"><span class="id" title="variable">e0</span></a>) := <a class="idref" href="ABS.abs_defs.html#e_neg"><span class="id" title="constructor">e_neg</span></a> (<a class="idref" href="ABS.abs_util.html#e_subst_s:154"><span class="id" title="definition">e_subst_s</span></a> σ <span class="id" title="var">e0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#e_subst_s:166"><span class="id" title="definition">e_subst_s</span></a> <a class="idref" href="ABS.abs_util.html#0522366f01379e686f0625f31b2e78a6"><span class="id" title="variable">σ</span></a> (<a class="idref" href="ABS.abs_defs.html#e_not"><span class="id" title="constructor">e_not</span></a> <a class="idref" href="ABS.abs_util.html#e0:164"><span class="id" title="variable">e0</span></a>) := <a class="idref" href="ABS.abs_defs.html#e_not"><span class="id" title="constructor">e_not</span></a> (<a class="idref" href="ABS.abs_util.html#e_subst_s:154"><span class="id" title="definition">e_subst_s</span></a> σ <span class="id" title="var">e0</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#e_subst_s:170"><span class="id" title="definition">e_subst_s</span></a> <a class="idref" href="ABS.abs_util.html#dde5bb14789107ec722c71dc979db6bf"><span class="id" title="variable">σ</span></a> (<a class="idref" href="ABS.abs_defs.html#e_add"><span class="id" title="constructor">e_add</span></a> <a class="idref" href="ABS.abs_util.html#e1:167"><span class="id" title="variable">e1</span></a> <a class="idref" href="ABS.abs_util.html#e2:168"><span class="id" title="variable">e2</span></a>) := <a class="idref" href="ABS.abs_defs.html#e_add"><span class="id" title="constructor">e_add</span></a> (<a class="idref" href="ABS.abs_util.html#e_subst_s:154"><span class="id" title="definition">e_subst_s</span></a> σ <span class="id" title="var">e1</span>) (<a class="idref" href="ABS.abs_util.html#e_subst_s:154"><span class="id" title="definition">e_subst_s</span></a> σ <span class="id" title="var">e2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#e_subst_s:174"><span class="id" title="definition">e_subst_s</span></a> <a class="idref" href="ABS.abs_util.html#b452ebea55ec83f54356ec5a65775a5b"><span class="id" title="variable">σ</span></a> (<a class="idref" href="ABS.abs_defs.html#e_mul"><span class="id" title="constructor">e_mul</span></a> <a class="idref" href="ABS.abs_util.html#e1:171"><span class="id" title="variable">e1</span></a> <a class="idref" href="ABS.abs_util.html#e2:172"><span class="id" title="variable">e2</span></a>) := <a class="idref" href="ABS.abs_defs.html#e_mul"><span class="id" title="constructor">e_mul</span></a> (<a class="idref" href="ABS.abs_util.html#e_subst_s:154"><span class="id" title="definition">e_subst_s</span></a> σ <span class="id" title="var">e1</span>) (<a class="idref" href="ABS.abs_util.html#e_subst_s:154"><span class="id" title="definition">e_subst_s</span></a> σ <span class="id" title="var">e2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#e_subst_s:178"><span class="id" title="definition">e_subst_s</span></a> <a class="idref" href="ABS.abs_util.html#9ffdb5f3054c5e5f39c46dd87a79300e"><span class="id" title="variable">σ</span></a> (<a class="idref" href="ABS.abs_defs.html#e_eq"><span class="id" title="constructor">e_eq</span></a> <a class="idref" href="ABS.abs_util.html#e1:175"><span class="id" title="variable">e1</span></a> <a class="idref" href="ABS.abs_util.html#e2:176"><span class="id" title="variable">e2</span></a>) := <a class="idref" href="ABS.abs_defs.html#e_eq"><span class="id" title="constructor">e_eq</span></a> (<a class="idref" href="ABS.abs_util.html#e_subst_s:154"><span class="id" title="definition">e_subst_s</span></a> σ <span class="id" title="var">e1</span>) (<a class="idref" href="ABS.abs_util.html#e_subst_s:154"><span class="id" title="definition">e_subst_s</span></a> σ <span class="id" title="var">e2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#e_subst_s:182"><span class="id" title="definition">e_subst_s</span></a> <a class="idref" href="ABS.abs_util.html#acfbeb59d2ec9c35a8ed06d7f69cce72"><span class="id" title="variable">σ</span></a> (<a class="idref" href="ABS.abs_defs.html#e_lt"><span class="id" title="constructor">e_lt</span></a> <a class="idref" href="ABS.abs_util.html#e1:179"><span class="id" title="variable">e1</span></a> <a class="idref" href="ABS.abs_util.html#e2:180"><span class="id" title="variable">e2</span></a>) := <a class="idref" href="ABS.abs_defs.html#e_lt"><span class="id" title="constructor">e_lt</span></a> (<a class="idref" href="ABS.abs_util.html#e_subst_s:154"><span class="id" title="definition">e_subst_s</span></a> σ <span class="id" title="var">e1</span>) (<a class="idref" href="ABS.abs_util.html#e_subst_s:154"><span class="id" title="definition">e_subst_s</span></a> σ <span class="id" title="var">e2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#e_subst_s:186"><span class="id" title="definition">e_subst_s</span></a> <a class="idref" href="ABS.abs_util.html#bc57062bdd262b7e2510392618d120fc"><span class="id" title="variable">σ</span></a> (<a class="idref" href="ABS.abs_defs.html#e_fn_call"><span class="id" title="constructor">e_fn_call</span></a> <a class="idref" href="ABS.abs_util.html#fn_:184"><span class="id" title="variable">fn_</span></a> <a class="idref" href="ABS.abs_util.html#es:183"><span class="id" title="variable">es</span></a>) := <a class="idref" href="ABS.abs_defs.html#e_fn_call"><span class="id" title="constructor">e_fn_call</span></a> <span class="id" title="var">fn_</span> (<a class="idref" href="ABS.abs_util.html#e_subst_list_s:155"><span class="id" title="definition">e_subst_list_s</span></a> σ <span class="id" title="var">es</span>) }<br/>
<span class="id" title="keyword">where</span> <a id="e_subst_list_s" class="idref" href="#e_subst_list_s"><span class="id" title="definition">e_subst_list_s</span></a>: <a class="idref" href="ABS.abs_defs.html#s"><span class="id" title="definition">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#e_subst_list_s:187"><span class="id" title="definition">e_subst_list_s</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#e_subst_list_s:191"><span class="id" title="definition">e_subst_list_s</span></a> <a class="idref" href="ABS.abs_util.html#a6e4d683e55bf2b470c0972aeb840aae"><span class="id" title="variable">σ</span></a> (<a class="idref" href="ABS.abs_util.html#e_:188"><span class="id" title="variable">e_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="ABS.abs_util.html#es:189"><span class="id" title="variable">es</span></a>) := <a class="idref" href="ABS.abs_util.html#e_subst_s:154"><span class="id" title="definition">e_subst_s</span></a> σ <span class="id" title="var">e_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="ABS.abs_util.html#e_subst_list_s:155"><span class="id" title="definition">e_subst_list_s</span></a> σ <span class="id" title="var">es</span><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="comment">(*&nbsp;the&nbsp;well-typedness&nbsp;from&nbsp;the&nbsp;paper,&nbsp;ours&nbsp;is&nbsp;a&nbsp;little&nbsp;stricter&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="sub_well_typed" class="idref" href="#sub_well_typed"><span class="id" title="definition">sub_well_typed</span></a> (<a id="cfcf9625e6d3f263e97950fc9e914d08" class="idref" href="#cfcf9625e6d3f263e97950fc9e914d08"><span class="id" title="binder">Γ</span></a> : <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) (<a id="b565055c2f596209badf31bf41f2f080" class="idref" href="#b565055c2f596209badf31bf41f2f080"><span class="id" title="binder">σ</span></a> : <a class="idref" href="ABS.abs_defs.html#s"><span class="id" title="definition">s</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="x_:194" class="idref" href="#x_:194"><span class="id" title="binder">x_</span></a>: <a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>) (<a id="T_:195" class="idref" href="#T_:195"><span class="id" title="binder">T_</span></a>: <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#x_:194"><span class="id" title="variable">x_</span></a> <span class="id" title="notation">∈</span> <span class="id" title="definition">dom</span> <a class="idref" href="ABS.abs_util.html#b565055c2f596209badf31bf41f2f080"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#cfcf9625e6d3f263e97950fc9e914d08"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_util.html#x_:194"><span class="id" title="variable">x_</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_util.html#T_:195"><span class="id" title="variable">T_</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_util.html#cfcf9625e6d3f263e97950fc9e914d08"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="ABS.abs_util.html#e_subst_s"><span class="id" title="definition">e_subst_s</span></a> <a class="idref" href="ABS.abs_util.html#b565055c2f596209badf31bf41f2f080"><span class="id" title="variable">σ</span></a> (<a class="idref" href="ABS.abs_defs.html#e_var"><span class="id" title="constructor">e_var</span></a> <a class="idref" href="ABS.abs_util.html#x_:194"><span class="id" title="variable">x_</span></a>)) <a class="idref" href="ABS.abs_util.html#T_:195"><span class="id" title="variable">T_</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;just&nbsp;like&nbsp;our&nbsp;vdash,&nbsp;this&nbsp;is&nbsp;the&nbsp;opposite&nbsp;way&nbsp;from&nbsp;other&nbsp;well-typing&nbsp;relations&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_sub_wt" class="idref" href="#subG_sub_wt"><span class="id" title="lemma">subG_sub_wt</span></a>: <span class="id" title="notation">forall</span> <a id="e4d23edabcd98398a9e7cbff1f87c31b" class="idref" href="#e4d23edabcd98398a9e7cbff1f87c31b"><span class="id" title="binder">Γ1</span></a> <a id="eb0c883f8e2382ebfe47892809f19c14" class="idref" href="#eb0c883f8e2382ebfe47892809f19c14"><span class="id" title="binder">Γ2</span></a> <a id="ea3d6ce634a82c9dae2ac65ed279a1e5" class="idref" href="#ea3d6ce634a82c9dae2ac65ed279a1e5"><span class="id" title="binder">σ</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#e4d23edabcd98398a9e7cbff1f87c31b"><span class="id" title="variable">Γ1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_util.html#eb0c883f8e2382ebfe47892809f19c14"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_util.html#sub_well_typed"><span class="id" title="definition">sub_well_typed</span></a> <a class="idref" href="ABS.abs_util.html#eb0c883f8e2382ebfe47892809f19c14"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="ABS.abs_util.html#ea3d6ce634a82c9dae2ac65ed279a1e5"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_util.html#sub_well_typed"><span class="id" title="definition">sub_well_typed</span></a> <a class="idref" href="ABS.abs_util.html#e4d23edabcd98398a9e7cbff1f87c31b"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="ABS.abs_util.html#ea3d6ce634a82c9dae2ac65ed279a1e5"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">x_</span> <span class="id" title="var">T_</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">e_subst_s</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_dom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Operations for typing and some lemmas about them 
</div>
<div class="code">
<span class="id" title="keyword">Equations</span> <a id="typ_es" class="idref" href="#typ_es"><span class="id" title="definition">typ_es</span></a>: <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> := {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#typ_es:200"><span class="id" title="definition">typ_es</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> := <span class="id" title="notation">True</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#typ_es:206"><span class="id" title="definition">typ_es</span></a> <a class="idref" href="ABS.abs_util.html#a29c927e1d6003d43371630fa54ba8df"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="ABS.abs_util.html#e:203"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="ABS.abs_util.html#es:204"><span class="id" title="variable">es</span></a>) (<a class="idref" href="ABS.abs_util.html#T:201"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="ABS.abs_util.html#Ts:202"><span class="id" title="variable">Ts</span></a>) := <a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">e</span> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ABS.abs_util.html#typ_es:199"><span class="id" title="definition">typ_es</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">es</span> <span class="id" title="var">Ts</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#typ_es:207"><span class="id" title="definition">typ_es</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> := <span class="id" title="notation">False</span><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="add_G" class="idref" href="#add_G"><span class="id" title="definition">add_G</span></a> (<a id="b7ad4894d1c67bc3f47eb41c22ad4d6b" class="idref" href="#b7ad4894d1c67bc3f47eb41c22ad4d6b"><span class="id" title="binder">Γ</span></a>:<a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) (<a id="Tx:209" class="idref" href="#Tx:209"><span class="id" title="binder">Tx</span></a>:<a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>): <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a> := <span class="id" title="notation">&lt;[</span><a class="idref" href="ABS.abs_util.html#Tx:209"><span class="id" title="variable">Tx</span></a><span class="id" title="notation">.2</span><span class="id" title="notation">:=</span><a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_util.html#Tx:209"><span class="id" title="variable">Tx</span></a><span class="id" title="notation">.1</span><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">Γ</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="extend_G" class="idref" href="#extend_G"><span class="id" title="definition">extend_G</span></a> (<a id="a3f320d8adaa724ed4a323691de2a3a8" class="idref" href="#a3f320d8adaa724ed4a323691de2a3a8"><span class="id" title="binder">Γ</span></a>:<a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) (<a id="l:211" class="idref" href="#l:211"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>)): <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a> := <span class="id" title="abbreviation">foldr</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="ABS.abs_util.html#add_G"><span class="id" title="definition">add_G</span></a>) <a class="idref" href="ABS.abs_util.html#a3f320d8adaa724ed4a323691de2a3a8"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_util.html#l:211"><span class="id" title="variable">l</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_add" class="idref" href="#subG_add"><span class="id" title="lemma">subG_add</span></a>: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="G0:212" class="idref" href="#G0:212"><span class="id" title="binder">G0</span></a> <a id="G1:213" class="idref" href="#G1:213"><span class="id" title="binder">G1</span></a>: <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) <a id="y:214" class="idref" href="#y:214"><span class="id" title="binder">y</span></a> <a id="T_:215" class="idref" href="#T_:215"><span class="id" title="binder">T_</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#G0:212"><span class="id" title="variable">G0</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_util.html#G1:213"><span class="id" title="variable">G1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#G0:212"><span class="id" title="variable">G0</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_util.html#y:214"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#G0:212"><span class="id" title="variable">G0</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="notation">(</span><span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_util.html#y:214"><span class="id" title="variable">y</span></a> <a class="idref" href="ABS.abs_util.html#T_:215"><span class="id" title="variable">T_</span></a> <a class="idref" href="ABS.abs_util.html#G1:213"><span class="id" title="variable">G1</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">insert_subseteq_r</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_add_2" class="idref" href="#subG_add_2"><span class="id" title="lemma">subG_add_2</span></a>: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="G0:216" class="idref" href="#G0:216"><span class="id" title="binder">G0</span></a> <a id="G1:217" class="idref" href="#G1:217"><span class="id" title="binder">G1</span></a>: <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) <a id="y:218" class="idref" href="#y:218"><span class="id" title="binder">y</span></a> <a id="T_:219" class="idref" href="#T_:219"><span class="id" title="binder">T_</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">subseteq</span> <a class="idref" href="ABS.abs_util.html#G0:216"><span class="id" title="variable">G0</span></a> <a class="idref" href="ABS.abs_util.html#G1:217"><span class="id" title="variable">G1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#G0:216"><span class="id" title="variable">G0</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_util.html#y:218"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_util.html#T_:219"><span class="id" title="variable">T_</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">subseteq</span> <a class="idref" href="ABS.abs_util.html#G0:216"><span class="id" title="variable">G0</span></a> (<span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_util.html#y:218"><span class="id" title="variable">y</span></a> <a class="idref" href="ABS.abs_util.html#T_:219"><span class="id" title="variable">T_</span></a> <a class="idref" href="ABS.abs_util.html#G1:217"><span class="id" title="variable">G1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">G0</span> <span class="id" title="keyword">with</span> (<span class="id" title="notation">&lt;[</span><span class="id" title="var">y</span><span class="id" title="notation">:=</span><span class="id" title="var">T_</span><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">G0</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">insert_id</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">insert_mono</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extend_subG" class="idref" href="#extend_subG"><span class="id" title="lemma">extend_subG</span></a>: <span class="id" title="notation">forall</span> <a id="fd9bc91beaf9498f042dd85d2cca7985" class="idref" href="#fd9bc91beaf9498f042dd85d2cca7985"><span class="id" title="binder">Γ1</span></a> <a id="c3207657c877374103bb69e5d00ae851" class="idref" href="#c3207657c877374103bb69e5d00ae851"><span class="id" title="binder">Γ2</span></a> <a id="l:222" class="idref" href="#l:222"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#fd9bc91beaf9498f042dd85d2cca7985"><span class="id" title="variable">Γ1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_util.html#c3207657c877374103bb69e5d00ae851"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> <a class="idref" href="ABS.abs_util.html#fd9bc91beaf9498f042dd85d2cca7985"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="ABS.abs_util.html#l:222"><span class="id" title="variable">l</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> <a class="idref" href="ABS.abs_util.html#c3207657c877374103bb69e5d00ae851"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="ABS.abs_util.html#l:222"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">insert_mono</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_extend" class="idref" href="#subG_extend"><span class="id" title="lemma">subG_extend</span></a>: <span class="id" title="notation">forall</span> <a id="b8f31e849e92332f63c729a5cbb4ff01" class="idref" href="#b8f31e849e92332f63c729a5cbb4ff01"><span class="id" title="binder">Γ</span></a> <a id="l:224" class="idref" href="#l:224"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">(</span></a><a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">_</span></a><a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">,</span></a> <a id="x:225" class="idref" href="#x:225"><span class="id" title="binder"><span id="pat:226" class="id">x</span></span></a><a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ABS.abs_util.html#x:225"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∉</span> <span class="id" title="definition">dom</span> <a class="idref" href="ABS.abs_util.html#b8f31e849e92332f63c729a5cbb4ff01"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="ABS.abs_util.html#l:224"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#b8f31e849e92332f63c729a5cbb4ff01"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> <a class="idref" href="ABS.abs_util.html#b8f31e849e92332f63c729a5cbb4ff01"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_util.html#l:224"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_util.html#subG_add"><span class="id" title="lemma">subG_add</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_dom</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="addG_subG" class="idref" href="#addG_subG"><span class="id" title="lemma">addG_subG</span></a>: <span class="id" title="notation">forall</span> <a id="bda1b59e9c6ac099ff6c824b2c68bc77" class="idref" href="#bda1b59e9c6ac099ff6c824b2c68bc77"><span class="id" title="binder">Γ1</span></a> <a id="5991eef19ee2685ba1d31b187f843ea1" class="idref" href="#5991eef19ee2685ba1d31b187f843ea1"><span class="id" title="binder">Γ2</span></a> <a id="Tx:229" class="idref" href="#Tx:229"><span class="id" title="binder">Tx</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#add_G"><span class="id" title="definition">add_G</span></a> <a class="idref" href="ABS.abs_util.html#bda1b59e9c6ac099ff6c824b2c68bc77"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="ABS.abs_util.html#Tx:229"><span class="id" title="variable">Tx</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_util.html#5991eef19ee2685ba1d31b187f843ea1"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#Tx:229"><span class="id" title="variable">Tx</span></a><span class="id" title="notation">.2</span> <span class="id" title="notation">∉</span> <span class="id" title="definition">dom</span> <a class="idref" href="ABS.abs_util.html#bda1b59e9c6ac099ff6c824b2c68bc77"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#bda1b59e9c6ac099ff6c824b2c68bc77"><span class="id" title="variable">Γ1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_util.html#5991eef19ee2685ba1d31b187f843ea1"><span class="id" title="variable">Γ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ABS.abs_util.html#add_G"><span class="id" title="definition">add_G</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <span class="id" title="lemma">map_subseteq_spec</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">as</span> (? &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span>:=<span class="id" title="var">Tx</span><span class="id" title="notation">.2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_insert</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_util.html#subG_add_2"><span class="id" title="lemma">subG_add_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<span class="id" title="notation">&lt;[</span><span class="id" title="var">Tx</span><span class="id" title="notation">.2</span><span class="id" title="notation">:=</span><a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <span class="id" title="var">Tx</span><span class="id" title="notation">.1</span><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">Γ1</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#subG_add"><span class="id" title="lemma">subG_add</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_dom</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extend_domain" class="idref" href="#extend_domain"><span class="id" title="lemma">extend_domain</span></a>: <span class="id" title="notation">forall</span> <a id="9b8c71965de813378295a9bcb1ad882a" class="idref" href="#9b8c71965de813378295a9bcb1ad882a"><span class="id" title="binder">Γ</span></a> <a id="x:231" class="idref" href="#x:231"><span class="id" title="binder">x</span></a> <a id="l:232" class="idref" href="#l:232"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#x:231"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∉</span> <span class="id" title="definition">dom</span> <a class="idref" href="ABS.abs_util.html#9b8c71965de813378295a9bcb1ad882a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:234" class="idref" href="#pat:234"><span class="id" title="binder">(</span></a><a id="pat:234" class="idref" href="#pat:234"><span class="id" title="binder">_</span></a><a id="pat:234" class="idref" href="#pat:234"><span class="id" title="binder">,</span></a> <a id="x0:233" class="idref" href="#x0:233"><span class="id" title="binder"><span id="pat:234" class="id">x0</span></span></a><a id="pat:234" class="idref" href="#pat:234"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_util.html#x0:233"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ABS.abs_util.html#x:231"><span class="id" title="variable">x</span></a>) <a class="idref" href="ABS.abs_util.html#l:232"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#x:231"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∉</span> <span class="id" title="definition">dom</span> (<a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> <a class="idref" href="ABS.abs_util.html#9b8c71965de813378295a9bcb1ad882a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_util.html#l:232"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHl</span> <span class="id" title="var">H</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_dom</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_dom</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="extend_subG_2" class="idref" href="#extend_subG_2"><span class="id" title="lemma">extend_subG_2</span></a>: <span class="id" title="notation">forall</span> <a id="20d9ab7798ecc5ac8cb0bc4f19eb1c1b" class="idref" href="#20d9ab7798ecc5ac8cb0bc4f19eb1c1b"><span class="id" title="binder">Γ1</span></a> <a id="2152fb26b3f7446e3641fe39780c9f6f" class="idref" href="#2152fb26b3f7446e3641fe39780c9f6f"><span class="id" title="binder">Γ2</span></a> <a id="l:237" class="idref" href="#l:237"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> <a class="idref" href="ABS.abs_util.html#20d9ab7798ecc5ac8cb0bc4f19eb1c1b"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="ABS.abs_util.html#l:237"><span class="id" title="variable">l</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_util.html#2152fb26b3f7446e3641fe39780c9f6f"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:239" class="idref" href="#pat:239"><span class="id" title="binder">(</span></a><a id="pat:239" class="idref" href="#pat:239"><span class="id" title="binder">_</span></a><a id="pat:239" class="idref" href="#pat:239"><span class="id" title="binder">,</span></a> <a id="x:238" class="idref" href="#x:238"><span class="id" title="binder"><span id="pat:239" class="id">x</span></span></a><a id="pat:239" class="idref" href="#pat:239"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_util.html#x:238"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∉</span> <span class="id" title="definition">dom</span> <a class="idref" href="ABS.abs_util.html#2152fb26b3f7446e3641fe39780c9f6f"><span class="id" title="variable">Γ2</span></a>) <a class="idref" href="ABS.abs_util.html#l:237"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#20d9ab7798ecc5ac8cb0bc4f19eb1c1b"><span class="id" title="variable">Γ1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_util.html#2152fb26b3f7446e3641fe39780c9f6f"><span class="id" title="variable">Γ2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#addG_subG"><span class="id" title="lemma">addG_subG</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#extend_domain"><span class="id" title="lemma">extend_domain</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span>:=<span class="id" title="var">x</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_insert</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_dom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (?&amp;?) ? ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Forall_forall</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span>:=<span class="id" title="var">x</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_insert</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_dom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Tactics&nbsp;for&nbsp;subject&nbsp;reduction&nbsp;proof(s)*)</span><br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">lookup_cases</span> <span class="id" title="var">H</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">is_eq</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>; [<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>].<br/>

<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
