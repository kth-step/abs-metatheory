<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">gmap</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ABS</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ABS.abs_defs.html#"><span class="id" title="library">abs_defs</span></a> <a class="idref" href="ABS.list_util.html#"><span class="id" title="library">list_util</span></a> <a class="idref" href="ABS.abs_util.html#"><span class="id" title="library">abs_util</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="keyword">Equations</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Equations</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab3"></a><h1 class="section">ABS Functional Metatheory</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="FunctionalMetatheory" class="idref" href="#FunctionalMetatheory"><span class="id" title="section">FunctionalMetatheory</span></a>.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> (<a id="FunctionalMetatheory.vars_fs_distinct" class="idref" href="#FunctionalMetatheory.vars_fs_distinct"><span class="id" title="variable">vars_fs_distinct</span></a>: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="x_:1" class="idref" href="#x_:1"><span class="id" title="binder">x_</span></a>:<a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>) (<a id="fn_:2" class="idref" href="#fn_:2"><span class="id" title="binder">fn_</span></a>:<a class="idref" href="ABS.abs_defs.html#fc"><span class="id" title="definition">fc</span></a><span class="id" title="notation">),</span> <a class="idref" href="ABS.abs_functional_metatheory.html#x_:1"><span class="id" title="variable">x_</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#fn_:2"><span class="id" title="variable">fn_</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_type" class="idref" href="#get_type"><span class="id" title="definition">get_type</span></a> (<a id="ctx:5" class="idref" href="#ctx:5"><span class="id" title="binder">ctx</span></a>: <a class="idref" href="ABS.abs_defs.html#ctxv"><span class="id" title="inductive">ctxv</span></a>) : <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ABS.abs_functional_metatheory.html#ctx:5"><span class="id" title="variable">ctx</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <span class="id" title="var">T'</span> =&gt; <span class="id" title="var">T'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ABS.abs_defs.html#ctxv_fut"><span class="id" title="constructor">ctxv_fut</span></a> <span class="id" title="var">T'</span> =&gt; <span class="id" title="var">T'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ABS.abs_defs.html#ctxv_sig"><span class="id" title="constructor">ctxv_sig</span></a> (<a class="idref" href="ABS.abs_defs.html#sig_sig"><span class="id" title="constructor">sig_sig</span></a> <span class="id" title="var">_</span> <span class="id" title="var">T'</span>) =&gt; <span class="id" title="var">T'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="comment">(*&nbsp;this&nbsp;is&nbsp;stricter&nbsp;than&nbsp;the&nbsp;ABS&nbsp;paper&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;we&nbsp;require&nbsp;that&nbsp;any&nbsp;variables&nbsp;in&nbsp;the&nbsp;typing&nbsp;context&nbsp;also&nbsp;exist&nbsp;in&nbsp;the&nbsp;state&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="G_vdash_s" class="idref" href="#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> (<a id="G5:7" class="idref" href="#G5:7"><span class="id" title="binder">G5</span></a> : <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) (<a id="s5:8" class="idref" href="#s5:8"><span class="id" title="binder">s5</span></a> : <a class="idref" href="ABS.abs_defs.html#s"><span class="id" title="definition">s</span></a>) :=<br/>
&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="x5:9" class="idref" href="#x5:9"><span class="id" title="binder">x5</span></a> : <a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>) (<a id="T5:10" class="idref" href="#T5:10"><span class="id" title="binder">T5</span></a> : <a class="idref" href="ABS.abs_defs.html#ctxv"><span class="id" title="inductive">ctxv</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">lookup</span> <a class="idref" href="ABS.abs_functional_metatheory.html#x5:9"><span class="id" title="variable">x5</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G5:7"><span class="id" title="variable">G5</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T5:10"><span class="id" title="variable">T5</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="t5:11" class="idref" href="#t5:11"><span class="id" title="binder">t5</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">lookup</span> <a class="idref" href="ABS.abs_functional_metatheory.html#x5:9"><span class="id" title="variable">x5</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s5:8"><span class="id" title="variable">s5</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#t5:11"><span class="id" title="variable">t5</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G5:7"><span class="id" title="variable">G5</span></a> (<a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#t5:11"><span class="id" title="variable">t5</span></a>) (<a class="idref" href="ABS.abs_functional_metatheory.html#get_type"><span class="id" title="definition">get_type</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T5:10"><span class="id" title="variable">T5</span></a>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="9f98d76799f2ec64bcd39c3658e99338" class="idref" href="#9f98d76799f2ec64bcd39c3658e99338"><span class="id" title="notation">&quot;</span></a>G1 G⊢ s1" := (<a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> <span class="id" title="var">G1</span> <span class="id" title="var">s1</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 5).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fresh_subG" class="idref" href="#fresh_subG"><span class="id" title="lemma">fresh_subG</span></a>: <span class="id" title="notation">forall</span> <a id="G0:12" class="idref" href="#G0:12"><span class="id" title="binder">G0</span></a> <a id="s0:13" class="idref" href="#s0:13"><span class="id" title="binder">s0</span></a> (<a id="sub_list:14" class="idref" href="#sub_list:14"><span class="id" title="binder">sub_list</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#t"><span class="id" title="inductive">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_functional_metatheory.html#G0:12"><span class="id" title="variable">G0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#9f98d76799f2ec64bcd39c3658e99338"><span class="id" title="notation">G</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#9f98d76799f2ec64bcd39c3658e99338"><span class="id" title="notation">⊢</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s0:13"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_s"><span class="id" title="definition">fresh_vars_s</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:16" class="idref" href="#pat:16"><span class="id" title="binder">(</span></a><a id="pat:16" class="idref" href="#pat:16"><span class="id" title="binder">_</span></a><a id="pat:16" class="idref" href="#pat:16"><span class="id" title="binder">,</span></a><a id="pat:16" class="idref" href="#pat:16"><span class="id" title="binder">_</span></a><a id="pat:16" class="idref" href="#pat:16"><span class="id" title="binder">,</span></a><a id="pat:16" class="idref" href="#pat:16"><span class="id" title="binder">_</span></a><a id="pat:16" class="idref" href="#pat:16"><span class="id" title="binder">,</span></a><a id="y:15" class="idref" href="#y:15"><span class="id" title="binder"><span id="pat:16" class="id">y</span></span></a><a id="pat:16" class="idref" href="#pat:16"><span class="id" title="binder">)</span></a>=&gt;<a class="idref" href="ABS.abs_functional_metatheory.html#y:15"><span class="id" title="variable">y</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#sub_list:14"><span class="id" title="variable">sub_list</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#s0:13"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">NoDup</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:18" class="idref" href="#pat:18"><span class="id" title="binder">(</span></a><a id="pat:18" class="idref" href="#pat:18"><span class="id" title="binder">_</span></a><a id="pat:18" class="idref" href="#pat:18"><span class="id" title="binder">,</span></a><a id="pat:18" class="idref" href="#pat:18"><span class="id" title="binder">_</span></a><a id="pat:18" class="idref" href="#pat:18"><span class="id" title="binder">,</span></a><a id="pat:18" class="idref" href="#pat:18"><span class="id" title="binder">_</span></a><a id="pat:18" class="idref" href="#pat:18"><span class="id" title="binder">,</span></a><a id="y:17" class="idref" href="#y:17"><span class="id" title="binder"><span id="pat:18" class="id">y</span></span></a><a id="pat:18" class="idref" href="#pat:18"><span class="id" title="binder">)</span></a>=&gt;<a class="idref" href="ABS.abs_functional_metatheory.html#y:17"><span class="id" title="variable">y</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#sub_list:14"><span class="id" title="variable">sub_list</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_functional_metatheory.html#G0:12"><span class="id" title="variable">G0</span></a> <span class="id" title="notation">⊆</span> <span class="id" title="notation">(</span><span class="id" title="abbreviation">foldr</span> (<span class="id" title="keyword">fun</span> '<a id="pat:21" class="idref" href="#pat:21"><span class="id" title="binder">(</span></a><a id="T_:20" class="idref" href="#T_:20"><span class="id" title="binder"><span id="pat:21" class="id">T_</span></span></a><a id="pat:21" class="idref" href="#pat:21"><span class="id" title="binder">,</span></a><a id="pat:21" class="idref" href="#pat:21"><span class="id" title="binder">_</span></a><a id="pat:21" class="idref" href="#pat:21"><span class="id" title="binder">,</span></a><a id="pat:21" class="idref" href="#pat:21"><span class="id" title="binder">_</span></a><a id="pat:21" class="idref" href="#pat:21"><span class="id" title="binder">,</span></a><a id="y_:19" class="idref" href="#y_:19"><span class="id" title="binder"><span id="pat:21" class="id">y_</span></span></a><a id="pat:21" class="idref" href="#pat:21"><span class="id" title="binder">)</span></a> <a id="G0:22" class="idref" href="#G0:22"><span class="id" title="binder">G0</span></a> =&gt; <span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_functional_metatheory.html#y_:19"><span class="id" title="variable">y_</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T_:20"><span class="id" title="variable">T_</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#G0:22"><span class="id" title="variable">G0</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#G0:12"><span class="id" title="variable">G0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#sub_list:14"><span class="id" title="variable">sub_list</span></a><span class="id" title="notation">)</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sub_list</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> (((?<span class="id" title="var">T_</span>, ?<span class="id" title="var">x_</span>), ?<span class="id" title="var">t_</span>), <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHsub_list</span> <span class="id" title="var">H2</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#subG_add"><span class="id" title="lemma">subG_add</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_dom_2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_dom_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_dom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t</span>, (?, ?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_dom</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fresh_consistent" class="idref" href="#fresh_consistent"><span class="id" title="lemma">fresh_consistent</span></a>: <span class="id" title="notation">forall</span> <a id="G0:23" class="idref" href="#G0:23"><span class="id" title="binder">G0</span></a> <a id="s0:24" class="idref" href="#s0:24"><span class="id" title="binder">s0</span></a> (<a id="sub_list:25" class="idref" href="#sub_list:25"><span class="id" title="binder">sub_list</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#t"><span class="id" title="inductive">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>)<span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G0:23"><span class="id" title="variable">G0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s0:24"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="T_:26" class="idref" href="#T_:26"><span class="id" title="binder">T_</span></a> <a id="t_:27" class="idref" href="#t_:27"><span class="id" title="binder">t_</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#T_:26"><span class="id" title="variable">T_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#t_:27"><span class="id" title="variable">t_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:30" class="idref" href="#pat:30"><span class="id" title="binder">(</span></a><a id="T_:29" class="idref" href="#T_:29"><span class="id" title="binder"><span id="pat:30" class="id">T_</span></span></a><a id="pat:30" class="idref" href="#pat:30"><span class="id" title="binder">,</span></a> <a id="pat:30" class="idref" href="#pat:30"><span class="id" title="binder">_</span></a><a id="pat:30" class="idref" href="#pat:30"><span class="id" title="binder">,</span></a> <a id="t_:28" class="idref" href="#t_:28"><span class="id" title="binder"><span id="pat:30" class="id">t_</span></span></a><a id="pat:30" class="idref" href="#pat:30"><span class="id" title="binder">,</span></a> <a id="pat:30" class="idref" href="#pat:30"><span class="id" title="binder">_</span></a><a id="pat:30" class="idref" href="#pat:30"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#T_:29"><span class="id" title="variable">T_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#t_:28"><span class="id" title="variable">t_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#sub_list:25"><span class="id" title="variable">sub_list</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G0:23"><span class="id" title="variable">G0</span></a> (<a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#t_:27"><span class="id" title="variable">t_</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#T_:26"><span class="id" title="variable">T_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_s"><span class="id" title="definition">fresh_vars_s</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">(</span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">_</span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">,</span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">_</span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">,</span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">_</span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">,</span></a><a id="y:31" class="idref" href="#y:31"><span class="id" title="binder"><span id="pat:32" class="id">y</span></span></a><a id="pat:32" class="idref" href="#pat:32"><span class="id" title="binder">)</span></a>=&gt;<a class="idref" href="ABS.abs_functional_metatheory.html#y:31"><span class="id" title="variable">y</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#sub_list:25"><span class="id" title="variable">sub_list</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#s0:24"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">base.NoDup</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:34" class="idref" href="#pat:34"><span class="id" title="binder">(</span></a><a id="pat:34" class="idref" href="#pat:34"><span class="id" title="binder">_</span></a><a id="pat:34" class="idref" href="#pat:34"><span class="id" title="binder">,</span></a><a id="pat:34" class="idref" href="#pat:34"><span class="id" title="binder">_</span></a><a id="pat:34" class="idref" href="#pat:34"><span class="id" title="binder">,</span></a><a id="pat:34" class="idref" href="#pat:34"><span class="id" title="binder">_</span></a><a id="pat:34" class="idref" href="#pat:34"><span class="id" title="binder">,</span></a><a id="y:33" class="idref" href="#y:33"><span class="id" title="binder"><span id="pat:34" class="id">y</span></span></a><a id="pat:34" class="idref" href="#pat:34"><span class="id" title="binder">)</span></a>=&gt;<a class="idref" href="ABS.abs_functional_metatheory.html#y:33"><span class="id" title="variable">y</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#sub_list:25"><span class="id" title="variable">sub_list</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:37" class="idref" href="#pat:37"><span class="id" title="binder">(</span></a><a id="T_:36" class="idref" href="#T_:36"><span class="id" title="binder"><span id="pat:37" class="id">T_</span></span></a><a id="pat:37" class="idref" href="#pat:37"><span class="id" title="binder">,</span></a><a id="pat:37" class="idref" href="#pat:37"><span class="id" title="binder">_</span></a><a id="pat:37" class="idref" href="#pat:37"><span class="id" title="binder">,</span></a><a id="pat:37" class="idref" href="#pat:37"><span class="id" title="binder">_</span></a><a id="pat:37" class="idref" href="#pat:37"><span class="id" title="binder">,</span></a><a id="y_:35" class="idref" href="#y_:35"><span class="id" title="binder"><span id="pat:37" class="id">y_</span></span></a><a id="pat:37" class="idref" href="#pat:37"><span class="id" title="binder">)</span></a> <a id="G0:38" class="idref" href="#G0:38"><span class="id" title="binder">G0</span></a> =&gt; <span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_functional_metatheory.html#y_:35"><span class="id" title="variable">y_</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T_:36"><span class="id" title="variable">T_</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#G0:38"><span class="id" title="variable">G0</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#G0:23"><span class="id" title="variable">G0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#sub_list:25"><span class="id" title="variable">sub_list</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">(</span></a><a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">_</span></a><a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">,</span></a><a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">_</span></a><a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">,</span></a><a id="t_:40" class="idref" href="#t_:40"><span class="id" title="binder"><span id="pat:41" class="id">t_</span></span></a><a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">,</span></a><a id="y_:39" class="idref" href="#y_:39"><span class="id" title="binder"><span id="pat:41" class="id">y_</span></span></a><a id="pat:41" class="idref" href="#pat:41"><span class="id" title="binder">)</span></a> <a id="s0:42" class="idref" href="#s0:42"><span class="id" title="binder">s0</span></a> =&gt; <span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_functional_metatheory.html#y_:39"><span class="id" title="variable">y_</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#t_:40"><span class="id" title="variable">t_</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s0:42"><span class="id" title="variable">s0</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#s0:24"><span class="id" title="variable">s0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#sub_list:25"><span class="id" title="variable">sub_list</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sub_list</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> (((?<span class="id" title="var">T_</span>, ?<span class="id" title="var">x_</span>), ?<span class="id" title="var">t_</span>), <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ?<span class="id" title="var">y</span> ?<span class="id" title="var">T_</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">y0</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">t_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">simpl_map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">T_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#get_type"><span class="id" title="definition">get_type</span></a> <span class="id" title="var">T_0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#get_type"><span class="id" title="definition">get_type</span></a> <span class="id" title="var">T_0</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:45" class="idref" href="#pat:45"><span class="id" title="binder"><span id="pat:48" class="id">(</span></span></a><a id="T_:44" class="idref" href="#T_:44"><span class="id" title="binder"><span id="pat:45" class="id"><span id="T_:47" class="id"><span id="pat:48" class="id">T_</span></span></span></span></a><a id="pat:45" class="idref" href="#pat:45"><span class="id" title="binder"><span id="pat:48" class="id">,</span></span></a> <a id="pat:45" class="idref" href="#pat:45"><span class="id" title="binder"><span id="pat:48" class="id">_</span></span></a><a id="pat:45" class="idref" href="#pat:45"><span class="id" title="binder"><span id="pat:48" class="id">,</span></span></a> <a id="t_:43" class="idref" href="#t_:43"><span class="id" title="binder"><span id="pat:45" class="id"><span id="t_:46" class="id"><span id="pat:48" class="id">t_</span></span></span></span></a><a id="pat:45" class="idref" href="#pat:45"><span class="id" title="binder"><span id="pat:48" class="id">,</span></span></a> <a id="pat:45" class="idref" href="#pat:45"><span class="id" title="binder"><span id="pat:48" class="id">_</span></span></a><a id="pat:45" class="idref" href="#pat:45"><span class="id" title="binder"><span id="pat:48" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#T_:44"><span class="id" title="variable">T_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#t_:43"><span class="id" title="variable">t_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">T_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">x_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y0</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">sub_list</span>)<span class="id" title="notation">)</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="T_:49" class="idref" href="#T_:49"><span class="id" title="binder"><span id="T_:54" class="id">T_</span></span></a> : <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a>) (<a id="t_:50" class="idref" href="#t_:50"><span class="id" title="binder"><span id="t_:55" class="id">t_</span></span></a> : <a class="idref" href="ABS.abs_defs.html#t"><span class="id" title="inductive">t</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#T_:49"><span class="id" title="variable">T_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#t_:50"><span class="id" title="variable">t_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:53" class="idref" href="#pat:53"><span class="id" title="binder"><span id="pat:58" class="id">(</span></span></a><a id="T_0:52" class="idref" href="#T_0:52"><span class="id" title="binder"><span id="pat:53" class="id"><span id="T_0:57" class="id"><span id="pat:58" class="id">T_0</span></span></span></span></a><a id="pat:53" class="idref" href="#pat:53"><span class="id" title="binder"><span id="pat:58" class="id">,</span></span></a> <a id="pat:53" class="idref" href="#pat:53"><span class="id" title="binder"><span id="pat:58" class="id">_</span></span></a><a id="pat:53" class="idref" href="#pat:53"><span class="id" title="binder"><span id="pat:58" class="id">,</span></span></a> <a id="t_0:51" class="idref" href="#t_0:51"><span class="id" title="binder"><span id="pat:53" class="id"><span id="t_0:56" class="id"><span id="pat:58" class="id">t_0</span></span></span></span></a><a id="pat:53" class="idref" href="#pat:53"><span class="id" title="binder"><span id="pat:58" class="id">,</span></span></a> <a id="pat:53" class="idref" href="#pat:53"><span class="id" title="binder"><span id="pat:58" class="id">_</span></span></a><a id="pat:53" class="idref" href="#pat:53"><span class="id" title="binder"><span id="pat:58" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#T_0:52"><span class="id" title="variable">T_0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#t_0:51"><span class="id" title="variable">t_0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">sub_list</span><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <span class="id" title="var">G0</span> (<a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#t_:50"><span class="id" title="variable">t_</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#T_:49"><span class="id" title="variable">T_</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHsub_list</span> <span class="id" title="var">H2</span> <span class="id" title="var">H4</span> <span class="id" title="var">H7</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (?<span class="id" title="var">t_</span>, (?, ?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t_0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H8</span>; <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_consistent" class="idref" href="#subG_consistent"><span class="id" title="lemma">subG_consistent</span></a>: <span class="id" title="notation">forall</span> <a id="G1:59" class="idref" href="#G1:59"><span class="id" title="binder">G1</span></a> <a id="G2:60" class="idref" href="#G2:60"><span class="id" title="binder">G2</span></a> <a id="s0:61" class="idref" href="#s0:61"><span class="id" title="binder">s0</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">subseteq</span> <a class="idref" href="ABS.abs_functional_metatheory.html#G1:59"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G2:60"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G2:60"><span class="id" title="variable">G2</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s0:61"><span class="id" title="variable">s0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G1:59"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s0:61"><span class="id" title="variable">s0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x_</span> <span class="id" title="var">T_</span> ?.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (?<span class="id" title="var">t</span>, (?, ?)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H4</span>;<span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_type" class="idref" href="#subG_type"><span class="id" title="lemma">subG_type</span></a>: <span class="id" title="notation">forall</span> <a id="G1:62" class="idref" href="#G1:62"><span class="id" title="binder">G1</span></a> <a id="G2:63" class="idref" href="#G2:63"><span class="id" title="binder">G2</span></a> <a id="e0:64" class="idref" href="#e0:64"><span class="id" title="binder">e0</span></a> <a id="T0:65" class="idref" href="#T0:65"><span class="id" title="binder">T0</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">subseteq</span> <a class="idref" href="ABS.abs_functional_metatheory.html#G1:62"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G2:63"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G1:62"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:64"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T0:65"><span class="id" title="variable">T0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G2:63"><span class="id" title="variable">G2</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:64"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T0:65"><span class="id" title="variable">T0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">constructor</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHtyp_e</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">constructor</span>; [<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHtyp_e1</span> | <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHtyp_e2</span>]).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_foldr" class="idref" href="#subG_foldr"><span class="id" title="lemma">subG_foldr</span></a>: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="b6caeb1692cb6883ea095e832282cf02" class="idref" href="#b6caeb1692cb6883ea095e832282cf02"><span class="id" title="binder">Γ1</span></a> <a id="07cd19e2e27a5fdc0f82e35589cc760a" class="idref" href="#07cd19e2e27a5fdc0f82e35589cc760a"><span class="id" title="binder">Γ2</span></a>: <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) <a id="l:68" class="idref" href="#l:68"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_functional_metatheory.html#b6caeb1692cb6883ea095e832282cf02"><span class="id" title="variable">Γ1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_functional_metatheory.html#07cd19e2e27a5fdc0f82e35589cc760a"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">foldr</span> (<span class="id" title="keyword">fun</span> <a id="xT:69" class="idref" href="#xT:69"><span class="id" title="binder">xT</span></a> <a id="bc2dca733a7f4eee5d55fb4b87e06b95" class="idref" href="#bc2dca733a7f4eee5d55fb4b87e06b95"><span class="id" title="binder">Γ</span></a> =&gt; <span class="id" title="notation">&lt;[</span><a class="idref" href="ABS.abs_functional_metatheory.html#xT:69"><span class="id" title="variable">xT</span></a><span class="id" title="notation">.1</span><span class="id" title="notation">:=</span><a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#xT:69"><span class="id" title="variable">xT</span></a><span class="id" title="notation">.2</span><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">Γ</span>) <a class="idref" href="ABS.abs_functional_metatheory.html#b6caeb1692cb6883ea095e832282cf02"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#l:68"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊆</span> <span class="id" title="abbreviation">foldr</span> (<span class="id" title="keyword">fun</span> <a id="xT:71" class="idref" href="#xT:71"><span class="id" title="binder">xT</span></a> <a id="28ac53edcd2fde0ab8b47fec9231c80a" class="idref" href="#28ac53edcd2fde0ab8b47fec9231c80a"><span class="id" title="binder">Γ</span></a> =&gt; <span class="id" title="notation">&lt;[</span><a class="idref" href="ABS.abs_functional_metatheory.html#xT:71"><span class="id" title="variable">xT</span></a><span class="id" title="notation">.1</span><span class="id" title="notation">:=</span><a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#xT:71"><span class="id" title="variable">xT</span></a><span class="id" title="notation">.2</span><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">Γ</span>) <a class="idref" href="ABS.abs_functional_metatheory.html#07cd19e2e27a5fdc0f82e35589cc760a"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#l:68"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [ | (?<span class="id" title="var">x_</span>&amp;?<span class="id" title="var">T_</span>) ]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">insert_mono</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_typ_F" class="idref" href="#subG_typ_F"><span class="id" title="lemma">subG_typ_F</span></a>: <span class="id" title="notation">forall</span> <a id="G1:73" class="idref" href="#G1:73"><span class="id" title="binder">G1</span></a> <a id="G2:74" class="idref" href="#G2:74"><span class="id" title="binder">G2</span></a> <a id="e0:75" class="idref" href="#e0:75"><span class="id" title="binder">e0</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">subseteq</span> <a class="idref" href="ABS.abs_functional_metatheory.html#G1:73"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G2:74"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#typ_F"><span class="id" title="inductive">typ_F</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G1:73"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:75"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#typ_F"><span class="id" title="inductive">typ_F</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G2:74"><span class="id" title="variable">G2</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:75"><span class="id" title="variable">e0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; [| <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_foldr"><span class="id" title="lemma">subG_foldr</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_typ_F_forall" class="idref" href="#subG_typ_F_forall"><span class="id" title="lemma">subG_typ_F_forall</span></a>: <span class="id" title="notation">forall</span> <a id="G0:76" class="idref" href="#G0:76"><span class="id" title="binder">G0</span></a> <a id="G_:77" class="idref" href="#G_:77"><span class="id" title="binder">G_</span></a> <a id="Flist:78" class="idref" href="#Flist:78"><span class="id" title="binder">Flist</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_functional_metatheory.html#G0:76"><span class="id" title="variable">G0</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_functional_metatheory.html#G_:77"><span class="id" title="variable">G_</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="ABS.abs_defs.html#typ_F"><span class="id" title="inductive">typ_F</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G0:76"><span class="id" title="variable">G0</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#Flist:78"><span class="id" title="variable">Flist</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="ABS.abs_defs.html#typ_F"><span class="id" title="inductive">typ_F</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G_:77"><span class="id" title="variable">G_</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#Flist:78"><span class="id" title="variable">Flist</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Forall_forall</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_typ_F"><span class="id" title="lemma">subG_typ_F</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="lemma">Forall_forall</span> (<a class="idref" href="ABS.abs_defs.html#typ_F"><span class="id" title="inductive">typ_F</span></a> <span class="id" title="var">G0</span>) <span class="id" title="var">Flist</span>); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="same_type_sub" class="idref" href="#same_type_sub"><span class="id" title="lemma">same_type_sub</span></a>: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="sub_list:79" class="idref" href="#sub_list:79"><span class="id" title="binder">sub_list</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>)) <a id="G0:80" class="idref" href="#G0:80"><span class="id" title="binder">G0</span></a> <a id="e0:81" class="idref" href="#e0:81"><span class="id" title="binder">e0</span></a> <a id="T0:82" class="idref" href="#T0:82"><span class="id" title="binder">T0</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G0:80"><span class="id" title="variable">G0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:81"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T0:82"><span class="id" title="variable">T0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="notation">forall</span> <a id="x0:83" class="idref" href="#x0:83"><span class="id" title="binder">x0</span></a> <a id="y0:84" class="idref" href="#y0:84"><span class="id" title="binder">y0</span></a> <a id="T0:85" class="idref" href="#T0:85"><span class="id" title="binder">T0</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#x0:83"><span class="id" title="variable">x0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#y0:84"><span class="id" title="variable">y0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#sub_list:79"><span class="id" title="variable">sub_list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">lookup</span> <a class="idref" href="ABS.abs_functional_metatheory.html#x0:83"><span class="id" title="variable">x0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G0:80"><span class="id" title="variable">G0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T0:85"><span class="id" title="variable">T0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">lookup</span> <a class="idref" href="ABS.abs_functional_metatheory.html#y0:84"><span class="id" title="variable">y0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G0:80"><span class="id" title="variable">G0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T0:85"><span class="id" title="variable">T0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G0:80"><span class="id" title="variable">G0</span></a> (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:81"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#sub_list:79"><span class="id" title="variable">sub_list</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#T0:82"><span class="id" title="variable">T0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">T0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_defs.html#e_ott_ind"><span class="id" title="definition">e_ott_ind</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n</span>:= <span class="id" title="var">e0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P_list_e</span>:= <span class="id" title="keyword">fun</span> <a id="e_list:86" class="idref" href="#e_list:86"><span class="id" title="binder"><span id="e_list:89" class="id">e_list</span></span></a> =&gt; <span class="id" title="notation">forall</span> <a id="e0:87" class="idref" href="#e0:87"><span class="id" title="binder"><span id="e0:90" class="id">e0</span></span></a> <a id="T0:88" class="idref" href="#T0:88"><span class="id" title="binder"><span id="T0:91" class="id">T0</span></span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:87"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e_list:86"><span class="id" title="variable">e_list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <span class="id" title="var">G0</span> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:87"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T0:88"><span class="id" title="variable">T0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <span class="id" title="var">G0</span> (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:87"><span class="id" title="variable">e0</span></a> <span class="id" title="var">sub_list</span>) <a class="idref" href="ABS.abs_functional_metatheory.html#T0:88"><span class="id" title="variable">T0</span></a>)<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_term"><span class="id" title="lemma">subst_term</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_var"><span class="id" title="lemma">subst_var</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">sub_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_util.html#replace_var"><span class="id" title="definition">replace_var</span></a> <span class="id" title="var">x5</span> <span class="id" title="var">sub_list</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHsub_list</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHsub_list</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_fn"><span class="id" title="lemma">subst_fn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x:92" class="idref" href="#x:92"><span class="id" title="binder"><span id="x:99" class="id">x</span></span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> (<span class="id" title="keyword">let</span> (<a id="e_:93" class="idref" href="#e_:93"><span class="id" title="binder"><span id="e_:100" class="id">e_</span></span></a>, <span class="id" title="var">_</span>) := <a class="idref" href="ABS.abs_functional_metatheory.html#x:92"><span class="id" title="variable">x</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_functional_metatheory.html#e_:93"><span class="id" title="variable">e_</span></a>) <span class="id" title="var">sub_list</span>) <span class="id" title="var">e_T_list</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:97" class="idref" href="#pat_:97"><span class="id" title="binder"><span id="pat_:104" class="id">pat_</span></span></a>:<a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="e:98" class="idref" href="#e:98"><span class="id" title="binder"><span id="e:105" class="id">e</span></span></a>, <span class="id" title="var">_</span>) := <a class="idref" href="ABS.abs_functional_metatheory.html#pat_:97"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_functional_metatheory.html#e:98"><span class="id" title="variable">e</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:96" class="idref" href="#pat:96"><span class="id" title="binder"><span id="pat:103" class="id">(</span></span></a><a id="e:95" class="idref" href="#e:95"><span class="id" title="binder"><span id="pat:96" class="id"><span id="e:102" class="id"><span id="pat:103" class="id">e</span></span></span></span></a><a id="pat:96" class="idref" href="#pat:96"><span class="id" title="binder"><span id="pat:103" class="id">,</span></span></a> <a id="T:94" class="idref" href="#T:94"><span class="id" title="binder"><span id="pat:96" class="id"><span id="T:101" class="id"><span id="pat:103" class="id">T</span></span></span></span></a><a id="pat:96" class="idref" href="#pat:96"><span class="id" title="binder"><span id="pat:103" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e:95"><span class="id" title="variable">e</span></a> <span class="id" title="var">sub_list</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T:94"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">e_T_list</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_ext"><span class="id" title="lemma">map_ext</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> (?, ?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> ((?<span class="id" title="var">e</span>, ?<span class="id" title="var">T</span>), (?, ?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> ((?<span class="id" title="var">e_</span>, ?<span class="id" title="var">T_</span>), (?, ?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e_0</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e_0</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:109" class="idref" href="#pat_:109"><span class="id" title="binder"><span id="pat_:116" class="id">pat_</span></span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<span class="id" title="var">_</span>, <a id="T_:110" class="idref" href="#T_:110"><span class="id" title="binder"><span id="T_:117" class="id">T_</span></span></a>) := <a class="idref" href="ABS.abs_functional_metatheory.html#pat_:109"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_functional_metatheory.html#T_:110"><span class="id" title="variable">T_</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder"><span id="pat:115" class="id">(</span></span></a><a id="e:107" class="idref" href="#e:107"><span class="id" title="binder"><span id="pat:108" class="id"><span id="e:114" class="id"><span id="pat:115" class="id">e</span></span></span></span></a><a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder"><span id="pat:115" class="id">,</span></span></a> <a id="T:106" class="idref" href="#T:106"><span class="id" title="binder"><span id="pat:108" class="id"><span id="T:113" class="id"><span id="pat:115" class="id">T</span></span></span></span></a><a id="pat:108" class="idref" href="#pat:108"><span class="id" title="binder"><span id="pat:115" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e:107"><span class="id" title="variable">e</span></a> <span class="id" title="var">sub_list</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T:106"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">e_T_list</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span>(<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:111" class="idref" href="#pat_:111"><span class="id" title="binder"><span id="pat_:118" class="id">pat_</span></span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<span class="id" title="var">_</span>, <a id="T_:112" class="idref" href="#T_:112"><span class="id" title="binder"><span id="T_:119" class="id">T_</span></span></a>) := <a class="idref" href="ABS.abs_functional_metatheory.html#pat_:111"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_functional_metatheory.html#T_:112"><span class="id" title="variable">T_</span></a>) <span class="id" title="var">e_T_list</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_ext"><span class="id" title="lemma">map_ext</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> (?, ?)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_neg"><span class="id" title="lemma">subst_neg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_not"><span class="id" title="lemma">subst_not</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_add"><span class="id" title="lemma">subst_add</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_mul"><span class="id" title="lemma">subst_mul</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_eq"><span class="id" title="lemma">subst_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#subst_lt"><span class="id" title="lemma">subst_lt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_lemma_one" class="idref" href="#subst_lemma_one"><span class="id" title="lemma">subst_lemma_one</span></a>: <span class="id" title="notation">forall</span> <a id="G0:120" class="idref" href="#G0:120"><span class="id" title="binder">G0</span></a> <a id="x0:121" class="idref" href="#x0:121"><span class="id" title="binder">x0</span></a> <a id="y0:122" class="idref" href="#y0:122"><span class="id" title="binder">y0</span></a> <a id="e0:123" class="idref" href="#e0:123"><span class="id" title="binder">e0</span></a> <a id="Ai:124" class="idref" href="#Ai:124"><span class="id" title="binder">Ai</span></a> <a id="A:125" class="idref" href="#A:125"><span class="id" title="binder">A</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> (<span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_functional_metatheory.html#x0:121"><span class="id" title="variable">x0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#Ai:124"><span class="id" title="variable">Ai</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G0:120"><span class="id" title="variable">G0</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#e0:123"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#A:125"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#y0:122"><span class="id" title="variable">y0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:123"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> (<span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_functional_metatheory.html#y0:122"><span class="id" title="variable">y0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#Ai:124"><span class="id" title="variable">Ai</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G0:120"><span class="id" title="variable">G0</span></a>) (<a class="idref" href="ABS.abs_defs.html#e_var_subst_one"><span class="id" title="definition">e_var_subst_one</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:123"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#x0:121"><span class="id" title="variable">x0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#y0:122"><span class="id" title="variable">y0</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#A:125"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_defs.html#e_ott_ind"><span class="id" title="definition">e_ott_ind</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n</span>:=<span class="id" title="var">e0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P_list_e</span>:= <span class="id" title="keyword">fun</span> <a id="e_list:126" class="idref" href="#e_list:126"><span class="id" title="binder"><span id="e_list:129" class="id">e_list</span></span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="e0:127" class="idref" href="#e0:127"><span class="id" title="binder"><span id="e0:130" class="id">e0</span></span></a> <a id="A:128" class="idref" href="#A:128"><span class="id" title="binder"><span id="A:131" class="id">A</span></span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:127"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e_list:126"><span class="id" title="variable">e_list</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">y0</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:127"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> (<span class="id" title="definition">insert</span> <span class="id" title="var">x0</span> <span class="id" title="var">Ai</span> <span class="id" title="var">G0</span>) <a class="idref" href="ABS.abs_functional_metatheory.html#e0:127"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#A:128"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> (<span class="id" title="definition">insert</span> <span class="id" title="var">y0</span> <span class="id" title="var">Ai</span> <span class="id" title="var">G0</span>) (<a class="idref" href="ABS.abs_defs.html#e_var_subst_one"><span class="id" title="definition">e_var_subst_one</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:127"><span class="id" title="variable">e0</span></a> <span class="id" title="var">x0</span> <span class="id" title="var">y0</span>) <a class="idref" href="ABS.abs_functional_metatheory.html#A:128"><span class="id" title="variable">A</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_insert_Some</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> [(?,?)|(?,?)]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">x5</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x5</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simpl_map</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">contradiction</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">x5</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x0</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">x5</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">y0</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="ABS.abs_defs.html#e_list_subst_one"><span class="id" title="definition">e_list_subst_one</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:132" class="idref" href="#pat_:132"><span class="id" title="binder"><span id="pat_:139" class="id">pat_</span></span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="e_:133" class="idref" href="#e_:133"><span class="id" title="binder"><span id="e_:140" class="id">e_</span></span></a>, <span class="id" title="var">_</span>) := <a class="idref" href="ABS.abs_functional_metatheory.html#pat_:132"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_functional_metatheory.html#e_:133"><span class="id" title="variable">e_</span></a>) <span class="id" title="var">e_T_list</span>) <span class="id" title="var">x0</span> <span class="id" title="var">y0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:137" class="idref" href="#pat_:137"><span class="id" title="binder"><span id="pat_:144" class="id">pat_</span></span></a>:<a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="e:138" class="idref" href="#e:138"><span class="id" title="binder"><span id="e:145" class="id">e</span></span></a>, <span class="id" title="var">_</span>) := <a class="idref" href="ABS.abs_functional_metatheory.html#pat_:137"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_functional_metatheory.html#e:138"><span class="id" title="variable">e</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:136" class="idref" href="#pat:136"><span class="id" title="binder"><span id="pat:143" class="id">(</span></span></a><a id="e:135" class="idref" href="#e:135"><span class="id" title="binder"><span id="pat:136" class="id"><span id="e:142" class="id"><span id="pat:143" class="id">e</span></span></span></span></a><a id="pat:136" class="idref" href="#pat:136"><span class="id" title="binder"><span id="pat:143" class="id">,</span></span></a> <a id="T:134" class="idref" href="#T:134"><span class="id" title="binder"><span id="pat:136" class="id"><span id="T:141" class="id"><span id="pat:143" class="id">T</span></span></span></span></a><a id="pat:136" class="idref" href="#pat:136"><span class="id" title="binder"><span id="pat:143" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_defs.html#e_var_subst_one"><span class="id" title="definition">e_var_subst_one</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e:135"><span class="id" title="variable">e</span></a> <span class="id" title="var">x0</span> <span class="id" title="var">y0</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T:134"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">e_T_list</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_util.html#e_list_subst_map"><span class="id" title="lemma">e_list_subst_map</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_ext"><span class="id" title="lemma">map_ext</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> (?,?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> ((?<span class="id" title="var">e</span>, ?<span class="id" title="var">T</span>), (?, ?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> ((?<span class="id" title="var">e_</span>, ?<span class="id" title="var">T_</span>), (?, ?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e_0</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_util.html#e_list_fresh"><span class="id" title="lemma">e_list_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e_0</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e_0</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:149" class="idref" href="#pat_:149"><span class="id" title="binder"><span id="pat_:156" class="id">pat_</span></span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<span class="id" title="var">_</span>, <a id="T_:150" class="idref" href="#T_:150"><span class="id" title="binder"><span id="T_:157" class="id">T_</span></span></a>) := <a class="idref" href="ABS.abs_functional_metatheory.html#pat_:149"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_functional_metatheory.html#T_:150"><span class="id" title="variable">T_</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:148" class="idref" href="#pat:148"><span class="id" title="binder"><span id="pat:155" class="id">(</span></span></a><a id="e:147" class="idref" href="#e:147"><span class="id" title="binder"><span id="pat:148" class="id"><span id="e:154" class="id"><span id="pat:155" class="id">e</span></span></span></span></a><a id="pat:148" class="idref" href="#pat:148"><span class="id" title="binder"><span id="pat:155" class="id">,</span></span></a> <a id="T:146" class="idref" href="#T:146"><span class="id" title="binder"><span id="pat:148" class="id"><span id="T:153" class="id"><span id="pat:155" class="id">T</span></span></span></span></a><a id="pat:148" class="idref" href="#pat:148"><span class="id" title="binder"><span id="pat:155" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_defs.html#e_var_subst_one"><span class="id" title="definition">e_var_subst_one</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e:147"><span class="id" title="variable">e</span></a> <span class="id" title="var">x0</span> <span class="id" title="var">y0</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T:146"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">e_T_list</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span>(<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:151" class="idref" href="#pat_:151"><span class="id" title="binder"><span id="pat_:158" class="id">pat_</span></span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<span class="id" title="var">_</span>, <a id="T_:152" class="idref" href="#T_:152"><span class="id" title="binder"><span id="T_:159" class="id">T_</span></span></a>) := <a class="idref" href="ABS.abs_functional_metatheory.html#pat_:151"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_functional_metatheory.html#T_:152"><span class="id" title="variable">T_</span></a>) <span class="id" title="var">e_T_list</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_ext"><span class="id" title="lemma">map_ext</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> (?, ?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">simp</span> <span class="id" title="var">e_var_subst_one</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simp</span> <span class="id" title="var">fresh_vars_e</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typ_e_G_Equal_equiv_imp" class="idref" href="#typ_e_G_Equal_equiv_imp"><span class="id" title="lemma">typ_e_G_Equal_equiv_imp</span></a> :<br/>
&nbsp;<span class="id" title="notation">forall</span> <a id="G1:160" class="idref" href="#G1:160"><span class="id" title="binder">G1</span></a> <a id="G2:161" class="idref" href="#G2:161"><span class="id" title="binder">G2</span></a> <a id="e:162" class="idref" href="#e:162"><span class="id" title="binder">e</span></a> <a id="T:163" class="idref" href="#T:163"><span class="id" title="binder">T</span></a><span class="id" title="notation">,</span> <a class="idref" href="ABS.abs_functional_metatheory.html#G1:160"><span class="id" title="variable">G1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G2:161"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G1:160"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e:162"><span class="id" title="variable">e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T:163"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G2:161"><span class="id" title="variable">G2</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e:162"><span class="id" title="variable">e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T:163"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">G1</span> <span class="id" title="var">G2</span> <span class="id" title="var">e0</span> <span class="id" title="var">T0</span> <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">Ht</span>.<br/>
<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typ_e_G_Equal_equiv" class="idref" href="#typ_e_G_Equal_equiv"><span class="id" title="lemma">typ_e_G_Equal_equiv</span></a> :<br/>
&nbsp;<span class="id" title="notation">forall</span> <a id="G1:164" class="idref" href="#G1:164"><span class="id" title="binder">G1</span></a> <a id="G2:165" class="idref" href="#G2:165"><span class="id" title="binder">G2</span></a> <a id="e:166" class="idref" href="#e:166"><span class="id" title="binder">e</span></a> <a id="T:167" class="idref" href="#T:167"><span class="id" title="binder">T</span></a><span class="id" title="notation">,</span> <a class="idref" href="ABS.abs_functional_metatheory.html#G1:164"><span class="id" title="variable">G1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G2:165"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G1:164"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e:166"><span class="id" title="variable">e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T:167"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G2:165"><span class="id" title="variable">G2</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e:166"><span class="id" title="variable">e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T:167"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">G1</span> <span class="id" title="var">G2</span> <span class="id" title="var">e0</span> <span class="id" title="var">T0</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#typ_e_G_Equal_equiv_imp"><span class="id" title="lemma">typ_e_G_Equal_equiv_imp</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fold_map4" class="idref" href="#fold_map4"><span class="id" title="lemma">fold_map4</span></a> {<a id="A:168" class="idref" href="#A:168"><span class="id" title="binder">A</span></a> <a id="X:169" class="idref" href="#X:169"><span class="id" title="binder">X</span></a> <a id="Y:170" class="idref" href="#Y:170"><span class="id" title="binder">Y</span></a> <a id="Z:171" class="idref" href="#Z:171"><span class="id" title="binder">Z</span></a> <a id="W:172" class="idref" href="#W:172"><span class="id" title="binder">W</span></a>: <span class="id" title="keyword">Type</span>}: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="f:173" class="idref" href="#f:173"><span class="id" title="binder">f</span></a> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#A:168"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#A:168"><span class="id" title="variable">A</span></a>) (<a id="l:174" class="idref" href="#l:174"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ABS.abs_functional_metatheory.html#X:169"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#Y:170"><span class="id" title="variable">Y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#Z:171"><span class="id" title="variable">Z</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#W:172"><span class="id" title="variable">W</span></a>)) <a id="a0:175" class="idref" href="#a0:175"><span class="id" title="binder">a0</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:178" class="idref" href="#pat:178"><span class="id" title="binder">(</span></a><a id="z:177" class="idref" href="#z:177"><span class="id" title="binder"><span id="pat:178" class="id">z</span></span></a><a id="pat:178" class="idref" href="#pat:178"><span class="id" title="binder">,</span></a> <a id="w:176" class="idref" href="#w:176"><span class="id" title="binder"><span id="pat:178" class="id">w</span></span></a><a id="pat:178" class="idref" href="#pat:178"><span class="id" title="binder">,</span></a> <a id="pat:178" class="idref" href="#pat:178"><span class="id" title="binder">_</span></a><a id="pat:178" class="idref" href="#pat:178"><span class="id" title="binder">,</span></a> <a id="pat:178" class="idref" href="#pat:178"><span class="id" title="binder">_</span></a><a id="pat:178" class="idref" href="#pat:178"><span class="id" title="binder">)</span></a> <a id="a:179" class="idref" href="#a:179"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="ABS.abs_functional_metatheory.html#f:173"><span class="id" title="variable">f</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#z:177"><span class="id" title="variable">z</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#w:176"><span class="id" title="variable">w</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#a:179"><span class="id" title="variable">a</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#a0:175"><span class="id" title="variable">a0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#l:174"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:185" class="idref" href="#pat:185"><span class="id" title="binder">(</span></a><a id="z:184" class="idref" href="#z:184"><span class="id" title="binder"><span id="pat:185" class="id">z</span></span></a><a id="pat:185" class="idref" href="#pat:185"><span class="id" title="binder">,</span></a> <a id="w:183" class="idref" href="#w:183"><span class="id" title="binder"><span id="pat:185" class="id">w</span></span></a><a id="pat:185" class="idref" href="#pat:185"><span class="id" title="binder">)</span></a> <a id="a:186" class="idref" href="#a:186"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="ABS.abs_functional_metatheory.html#f:173"><span class="id" title="variable">f</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#z:184"><span class="id" title="variable">z</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#w:183"><span class="id" title="variable">w</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#a:186"><span class="id" title="variable">a</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#a0:175"><span class="id" title="variable">a0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">(</span></a><a id="z:181" class="idref" href="#z:181"><span class="id" title="binder"><span id="pat:182" class="id">z</span></span></a><a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">,</span></a> <a id="w:180" class="idref" href="#w:180"><span class="id" title="binder"><span id="pat:182" class="id">w</span></span></a><a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">,</span></a> <a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">_</span></a><a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">,</span></a> <a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">_</span></a><a id="pat:182" class="idref" href="#pat:182"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#z:181"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#w:180"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#l:174"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [[[? ?] ?] ?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fold_map5" class="idref" href="#fold_map5"><span class="id" title="lemma">fold_map5</span></a> {<a id="A:187" class="idref" href="#A:187"><span class="id" title="binder">A</span></a> <a id="X:188" class="idref" href="#X:188"><span class="id" title="binder">X</span></a> <a id="Y:189" class="idref" href="#Y:189"><span class="id" title="binder">Y</span></a> <a id="Z:190" class="idref" href="#Z:190"><span class="id" title="binder">Z</span></a> <a id="W:191" class="idref" href="#W:191"><span class="id" title="binder">W</span></a>: <span class="id" title="keyword">Type</span>}: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="f:192" class="idref" href="#f:192"><span class="id" title="binder">f</span></a> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#A:187"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#A:187"><span class="id" title="variable">A</span></a>) (<a id="l:193" class="idref" href="#l:193"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ABS.abs_functional_metatheory.html#X:188"><span class="id" title="variable">X</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#Y:189"><span class="id" title="variable">Y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#Z:190"><span class="id" title="variable">Z</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#W:191"><span class="id" title="variable">W</span></a>)) <a id="a0:194" class="idref" href="#a0:194"><span class="id" title="binder">a0</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:197" class="idref" href="#pat:197"><span class="id" title="binder">(</span></a><a id="z:196" class="idref" href="#z:196"><span class="id" title="binder"><span id="pat:197" class="id">z</span></span></a><a id="pat:197" class="idref" href="#pat:197"><span class="id" title="binder">,</span></a> <a id="pat:197" class="idref" href="#pat:197"><span class="id" title="binder">_</span></a><a id="pat:197" class="idref" href="#pat:197"><span class="id" title="binder">,</span></a> <a id="pat:197" class="idref" href="#pat:197"><span class="id" title="binder">_</span></a><a id="pat:197" class="idref" href="#pat:197"><span class="id" title="binder">,</span></a> <a id="w:195" class="idref" href="#w:195"><span class="id" title="binder"><span id="pat:197" class="id">w</span></span></a><a id="pat:197" class="idref" href="#pat:197"><span class="id" title="binder">)</span></a> <a id="a:198" class="idref" href="#a:198"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="ABS.abs_functional_metatheory.html#f:192"><span class="id" title="variable">f</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#z:196"><span class="id" title="variable">z</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#w:195"><span class="id" title="variable">w</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#a:198"><span class="id" title="variable">a</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#a0:194"><span class="id" title="variable">a0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#l:193"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:204" class="idref" href="#pat:204"><span class="id" title="binder">(</span></a><a id="z:203" class="idref" href="#z:203"><span class="id" title="binder"><span id="pat:204" class="id">z</span></span></a><a id="pat:204" class="idref" href="#pat:204"><span class="id" title="binder">,</span></a> <a id="w:202" class="idref" href="#w:202"><span class="id" title="binder"><span id="pat:204" class="id">w</span></span></a><a id="pat:204" class="idref" href="#pat:204"><span class="id" title="binder">)</span></a> <a id="a:205" class="idref" href="#a:205"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="ABS.abs_functional_metatheory.html#f:192"><span class="id" title="variable">f</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#z:203"><span class="id" title="variable">z</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#w:202"><span class="id" title="variable">w</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#a:205"><span class="id" title="variable">a</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#a0:194"><span class="id" title="variable">a0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:201" class="idref" href="#pat:201"><span class="id" title="binder">(</span></a><a id="z:200" class="idref" href="#z:200"><span class="id" title="binder"><span id="pat:201" class="id">z</span></span></a><a id="pat:201" class="idref" href="#pat:201"><span class="id" title="binder">,</span></a> <a id="pat:201" class="idref" href="#pat:201"><span class="id" title="binder">_</span></a><a id="pat:201" class="idref" href="#pat:201"><span class="id" title="binder">,</span></a> <a id="pat:201" class="idref" href="#pat:201"><span class="id" title="binder">_</span></a><a id="pat:201" class="idref" href="#pat:201"><span class="id" title="binder">,</span></a> <a id="w:199" class="idref" href="#w:199"><span class="id" title="binder"><span id="pat:201" class="id">w</span></span></a><a id="pat:201" class="idref" href="#pat:201"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#z:200"><span class="id" title="variable">z</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#w:199"><span class="id" title="variable">w</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#l:193"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [[[? ?] ?] ?].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subst_lemma" class="idref" href="#subst_lemma"><span class="id" title="lemma">subst_lemma</span></a>: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="T_x_t_y_list:206" class="idref" href="#T_x_t_y_list:206"><span class="id" title="binder">T_x_t_y_list</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#t"><span class="id" title="inductive">t</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>)) <a id="G0:207" class="idref" href="#G0:207"><span class="id" title="binder">G0</span></a> <a id="e0:208" class="idref" href="#e0:208"><span class="id" title="binder">e0</span></a> <a id="A:209" class="idref" href="#A:209"><span class="id" title="binder">A</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:212" class="idref" href="#pat:212"><span class="id" title="binder">(</span></a><a id="Ai:211" class="idref" href="#Ai:211"><span class="id" title="binder"><span id="pat:212" class="id">Ai</span></span></a><a id="pat:212" class="idref" href="#pat:212"><span class="id" title="binder">,</span></a> <a id="x_:210" class="idref" href="#x_:210"><span class="id" title="binder"><span id="pat:212" class="id">x_</span></span></a><a id="pat:212" class="idref" href="#pat:212"><span class="id" title="binder">,</span></a> <a id="pat:212" class="idref" href="#pat:212"><span class="id" title="binder">_</span></a><a id="pat:212" class="idref" href="#pat:212"><span class="id" title="binder">,</span></a> <a id="pat:212" class="idref" href="#pat:212"><span class="id" title="binder">_</span></a><a id="pat:212" class="idref" href="#pat:212"><span class="id" title="binder">)</span></a> (<a id="G0:213" class="idref" href="#G0:213"><span class="id" title="binder">G0</span></a> : <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) =&gt; <span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_functional_metatheory.html#x_:210"><span class="id" title="variable">x_</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#Ai:211"><span class="id" title="variable">Ai</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#G0:213"><span class="id" title="variable">G0</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#G0:207"><span class="id" title="variable">G0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T_x_t_y_list:206"><span class="id" title="variable">T_x_t_y_list</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#e0:208"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#A:209"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">base.NoDup</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:215" class="idref" href="#pat:215"><span class="id" title="binder">(</span></a><a id="pat:215" class="idref" href="#pat:215"><span class="id" title="binder">_</span></a><a id="pat:215" class="idref" href="#pat:215"><span class="id" title="binder">,</span></a> <a id="pat:215" class="idref" href="#pat:215"><span class="id" title="binder">_</span></a><a id="pat:215" class="idref" href="#pat:215"><span class="id" title="binder">,</span></a> <a id="pat:215" class="idref" href="#pat:215"><span class="id" title="binder">_</span></a><a id="pat:215" class="idref" href="#pat:215"><span class="id" title="binder">,</span></a> <a id="y:214" class="idref" href="#y:214"><span class="id" title="binder"><span id="pat:215" class="id">y</span></span></a><a id="pat:215" class="idref" href="#pat:215"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ABS.abs_functional_metatheory.html#y:214"><span class="id" title="variable">y</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#T_x_t_y_list:206"><span class="id" title="variable">T_x_t_y_list</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="inductive">base.NoDup</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:217" class="idref" href="#pat:217"><span class="id" title="binder">(</span></a><a id="pat:217" class="idref" href="#pat:217"><span class="id" title="binder">_</span></a><a id="pat:217" class="idref" href="#pat:217"><span class="id" title="binder">,</span></a> <a id="x:216" class="idref" href="#x:216"><span class="id" title="binder"><span id="pat:217" class="id">x</span></span></a><a id="pat:217" class="idref" href="#pat:217"><span class="id" title="binder">,</span></a> <a id="pat:217" class="idref" href="#pat:217"><span class="id" title="binder">_</span></a><a id="pat:217" class="idref" href="#pat:217"><span class="id" title="binder">,</span></a> <a id="pat:217" class="idref" href="#pat:217"><span class="id" title="binder">_</span></a><a id="pat:217" class="idref" href="#pat:217"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ABS.abs_functional_metatheory.html#x:216"><span class="id" title="variable">x</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#T_x_t_y_list:206"><span class="id" title="variable">T_x_t_y_list</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:219" class="idref" href="#pat:219"><span class="id" title="binder">(</span></a><a id="pat:219" class="idref" href="#pat:219"><span class="id" title="binder">_</span></a><a id="pat:219" class="idref" href="#pat:219"><span class="id" title="binder">,</span></a> <a id="pat:219" class="idref" href="#pat:219"><span class="id" title="binder">_</span></a><a id="pat:219" class="idref" href="#pat:219"><span class="id" title="binder">,</span></a> <a id="pat:219" class="idref" href="#pat:219"><span class="id" title="binder">_</span></a><a id="pat:219" class="idref" href="#pat:219"><span class="id" title="binder">,</span></a> <a id="y:218" class="idref" href="#y:218"><span class="id" title="binder"><span id="pat:219" class="id">y</span></span></a><a id="pat:219" class="idref" href="#pat:219"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ABS.abs_functional_metatheory.html#y:218"><span class="id" title="variable">y</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#T_x_t_y_list:206"><span class="id" title="variable">T_x_t_y_list</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#e0:208"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="definition">disjoint</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:223" class="idref" href="#pat:223"><span class="id" title="binder">(</span></a><a id="pat:223" class="idref" href="#pat:223"><span class="id" title="binder">_</span></a><a id="pat:223" class="idref" href="#pat:223"><span class="id" title="binder">,</span></a> <a id="pat:223" class="idref" href="#pat:223"><span class="id" title="binder">_</span></a><a id="pat:223" class="idref" href="#pat:223"><span class="id" title="binder">,</span></a> <a id="pat:223" class="idref" href="#pat:223"><span class="id" title="binder">_</span></a><a id="pat:223" class="idref" href="#pat:223"><span class="id" title="binder">,</span></a> <a id="y:222" class="idref" href="#y:222"><span class="id" title="binder"><span id="pat:223" class="id">y</span></span></a><a id="pat:223" class="idref" href="#pat:223"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ABS.abs_functional_metatheory.html#y:222"><span class="id" title="variable">y</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#T_x_t_y_list:206"><span class="id" title="variable">T_x_t_y_list</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:221" class="idref" href="#pat:221"><span class="id" title="binder">(</span></a><a id="pat:221" class="idref" href="#pat:221"><span class="id" title="binder">_</span></a><a id="pat:221" class="idref" href="#pat:221"><span class="id" title="binder">,</span></a> <a id="x:220" class="idref" href="#x:220"><span class="id" title="binder"><span id="pat:221" class="id">x</span></span></a><a id="pat:221" class="idref" href="#pat:221"><span class="id" title="binder">,</span></a> <a id="pat:221" class="idref" href="#pat:221"><span class="id" title="binder">_</span></a><a id="pat:221" class="idref" href="#pat:221"><span class="id" title="binder">,</span></a> <a id="pat:221" class="idref" href="#pat:221"><span class="id" title="binder">_</span></a><a id="pat:221" class="idref" href="#pat:221"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ABS.abs_functional_metatheory.html#x:220"><span class="id" title="variable">x</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#T_x_t_y_list:206"><span class="id" title="variable">T_x_t_y_list</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">(</span></a><a id="Ai:225" class="idref" href="#Ai:225"><span class="id" title="binder"><span id="pat:226" class="id">Ai</span></span></a><a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">,</span></a> <a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">_</span></a><a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">,</span></a> <a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">_</span></a><a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">,</span></a> <a id="y:224" class="idref" href="#y:224"><span class="id" title="binder"><span id="pat:226" class="id">y</span></span></a><a id="pat:226" class="idref" href="#pat:226"><span class="id" title="binder">)</span></a> (<a id="G0:227" class="idref" href="#G0:227"><span class="id" title="binder">G0</span></a> : <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) =&gt; <span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_functional_metatheory.html#y:224"><span class="id" title="variable">y</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#Ai:225"><span class="id" title="variable">Ai</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#G0:227"><span class="id" title="variable">G0</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#G0:207"><span class="id" title="variable">G0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T_x_t_y_list:206"><span class="id" title="variable">T_x_t_y_list</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:208"><span class="id" title="variable">e0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:230" class="idref" href="#pat:230"><span class="id" title="binder">(</span></a><a id="pat:230" class="idref" href="#pat:230"><span class="id" title="binder">_</span></a><a id="pat:230" class="idref" href="#pat:230"><span class="id" title="binder">,</span></a> <a id="x_:229" class="idref" href="#x_:229"><span class="id" title="binder"><span id="pat:230" class="id">x_</span></span></a><a id="pat:230" class="idref" href="#pat:230"><span class="id" title="binder">,</span></a> <a id="pat:230" class="idref" href="#pat:230"><span class="id" title="binder">_</span></a><a id="pat:230" class="idref" href="#pat:230"><span class="id" title="binder">,</span></a> <a id="y_:228" class="idref" href="#y_:228"><span class="id" title="binder"><span id="pat:230" class="id">y_</span></span></a><a id="pat:230" class="idref" href="#pat:230"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#x_:229"><span class="id" title="variable">x_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#y_:228"><span class="id" title="variable">y_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#T_x_t_y_list:206"><span class="id" title="variable">T_x_t_y_list</span></a>)) <a class="idref" href="ABS.abs_functional_metatheory.html#A:209"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">G0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">T_x_t_y_list</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> (((?<span class="id" title="var">T_</span>,?<span class="id" title="var">x_</span>),?<span class="id" title="var">t_</span>),?<span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_util.html#fresh_first_e"><span class="id" title="lemma">fresh_first_e</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_util.html#fresh_monotone_e"><span class="id" title="lemma">fresh_monotone_e</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_util.html#disjoint_monotone"><span class="id" title="lemma">disjoint_monotone</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="var">x_</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:235" class="idref" href="#pat:235"><span class="id" title="binder"><span id="pat:240" class="id">(</span></span></a><a id="pat:235" class="idref" href="#pat:235"><span class="id" title="binder"><span id="pat:240" class="id">_</span></span></a><a id="pat:235" class="idref" href="#pat:235"><span class="id" title="binder"><span id="pat:240" class="id">,</span></span></a> <a id="y:234" class="idref" href="#y:234"><span class="id" title="binder"><span id="pat:235" class="id"><span id="y:239" class="id"><span id="pat:240" class="id">y</span></span></span></span></a><a id="pat:235" class="idref" href="#pat:235"><span class="id" title="binder"><span id="pat:240" class="id">)</span></span></a> =&gt; <a class="idref" href="ABS.abs_functional_metatheory.html#y:234"><span class="id" title="variable">y</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:233" class="idref" href="#pat:233"><span class="id" title="binder"><span id="pat:238" class="id">(</span></span></a><a id="Ai:232" class="idref" href="#Ai:232"><span class="id" title="binder"><span id="pat:233" class="id"><span id="Ai:237" class="id"><span id="pat:238" class="id">Ai</span></span></span></span></a><a id="pat:233" class="idref" href="#pat:233"><span class="id" title="binder"><span id="pat:238" class="id">,</span></span></a> <a id="pat:233" class="idref" href="#pat:233"><span class="id" title="binder"><span id="pat:238" class="id">_</span></span></a><a id="pat:233" class="idref" href="#pat:233"><span class="id" title="binder"><span id="pat:238" class="id">,</span></span></a> <a id="pat:233" class="idref" href="#pat:233"><span class="id" title="binder"><span id="pat:238" class="id">_</span></span></a><a id="pat:233" class="idref" href="#pat:233"><span class="id" title="binder"><span id="pat:238" class="id">,</span></span></a> <a id="y1:231" class="idref" href="#y1:231"><span class="id" title="binder"><span id="pat:233" class="id"><span id="y1:236" class="id"><span id="pat:238" class="id">y1</span></span></span></span></a><a id="pat:233" class="idref" href="#pat:233"><span class="id" title="binder"><span id="pat:238" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#Ai:232"><span class="id" title="variable">Ai</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#y1:231"><span class="id" title="variable">y1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">T_x_t_y_list</span>)<span class="id" title="notation">)</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H3</span> <span class="id" title="var">x_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:242" class="idref" href="#pat:242"><span class="id" title="binder"><span id="pat:246" class="id">(</span></span></a><a id="pat:242" class="idref" href="#pat:242"><span class="id" title="binder"><span id="pat:246" class="id">_</span></span></a><a id="pat:242" class="idref" href="#pat:242"><span class="id" title="binder"><span id="pat:246" class="id">,</span></span></a> <a id="pat:242" class="idref" href="#pat:242"><span class="id" title="binder"><span id="pat:246" class="id">_</span></span></a><a id="pat:242" class="idref" href="#pat:242"><span class="id" title="binder"><span id="pat:246" class="id">,</span></span></a> <a id="pat:242" class="idref" href="#pat:242"><span class="id" title="binder"><span id="pat:246" class="id">_</span></span></a><a id="pat:242" class="idref" href="#pat:242"><span class="id" title="binder"><span id="pat:246" class="id">,</span></span></a> <a id="y1:241" class="idref" href="#y1:241"><span class="id" title="binder"><span id="pat:242" class="id"><span id="y1:245" class="id"><span id="pat:246" class="id">y1</span></span></span></span></a><a id="pat:242" class="idref" href="#pat:242"><span class="id" title="binder"><span id="pat:246" class="id">)</span></span></a> =&gt; <a class="idref" href="ABS.abs_functional_metatheory.html#y1:241"><span class="id" title="variable">y1</span></a>) <span class="id" title="var">T_x_t_y_list</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="x0:243" class="idref" href="#x0:243"><span class="id" title="binder"><span id="x0:247" class="id">x0</span></span></a> : <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#t"><span class="id" title="inductive">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a> =&gt; <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Ai</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y1</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="ABS.abs_functional_metatheory.html#x0:243"><span class="id" title="variable">x0</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">Ai</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">y1</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">y</span>) <span class="id" title="var">T_x_t_y_list</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.list_util.html#map_eq"><span class="id" title="lemma">map_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> (((?, ?), ?), ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <span class="id" title="var">x_</span> <span class="id" title="notation">∈</span> <span class="id" title="notation">(</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:253" class="idref" href="#pat:253"><span class="id" title="binder"><span id="pat:258" class="id">(</span></span></a><a id="pat:253" class="idref" href="#pat:253"><span class="id" title="binder"><span id="pat:258" class="id">_</span></span></a><a id="pat:253" class="idref" href="#pat:253"><span class="id" title="binder"><span id="pat:258" class="id">,</span></span></a> <a id="y:252" class="idref" href="#y:252"><span class="id" title="binder"><span id="pat:253" class="id"><span id="y:257" class="id"><span id="pat:258" class="id">y</span></span></span></span></a><a id="pat:253" class="idref" href="#pat:253"><span class="id" title="binder"><span id="pat:258" class="id">)</span></span></a> =&gt; <a class="idref" href="ABS.abs_functional_metatheory.html#y:252"><span class="id" title="variable">y</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:251" class="idref" href="#pat:251"><span class="id" title="binder"><span id="pat:256" class="id">(</span></span></a><a id="Ai:250" class="idref" href="#Ai:250"><span class="id" title="binder"><span id="pat:251" class="id"><span id="Ai:255" class="id"><span id="pat:256" class="id">Ai</span></span></span></span></a><a id="pat:251" class="idref" href="#pat:251"><span class="id" title="binder"><span id="pat:256" class="id">,</span></span></a> <a id="x1:249" class="idref" href="#x1:249"><span class="id" title="binder"><span id="pat:251" class="id"><span id="x1:254" class="id"><span id="pat:256" class="id">x1</span></span></span></span></a><a id="pat:251" class="idref" href="#pat:251"><span class="id" title="binder"><span id="pat:256" class="id">,</span></span></a> <a id="pat:251" class="idref" href="#pat:251"><span class="id" title="binder"><span id="pat:256" class="id">_</span></span></a><a id="pat:251" class="idref" href="#pat:251"><span class="id" title="binder"><span id="pat:256" class="id">,</span></span></a> <a id="pat:251" class="idref" href="#pat:251"><span class="id" title="binder"><span id="pat:256" class="id">_</span></span></a><a id="pat:251" class="idref" href="#pat:251"><span class="id" title="binder"><span id="pat:256" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#Ai:250"><span class="id" title="variable">Ai</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#x1:249"><span class="id" title="variable">x1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">T_x_t_y_list</span>)<span class="id" title="notation">)</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hinx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">T_x_t_y_list</span> ; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> (((? &amp; ?) &amp; ?) &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHT_x_t_y_list</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="definition">insert</span> <span class="id" title="var">x_</span> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <span class="id" title="var">T_</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:261" class="idref" href="#pat:261"><span class="id" title="binder"><span id="pat:269" class="id">(</span></span></a><a id="Ai:260" class="idref" href="#Ai:260"><span class="id" title="binder"><span id="pat:261" class="id"><span id="Ai:268" class="id"><span id="pat:269" class="id">Ai</span></span></span></span></a><a id="pat:261" class="idref" href="#pat:261"><span class="id" title="binder"><span id="pat:269" class="id">,</span></span></a> <a id="x_0:259" class="idref" href="#x_0:259"><span class="id" title="binder"><span id="pat:261" class="id"><span id="x_0:267" class="id"><span id="pat:269" class="id">x_0</span></span></span></span></a><a id="pat:261" class="idref" href="#pat:261"><span class="id" title="binder"><span id="pat:269" class="id">,</span></span></a> <a id="pat:261" class="idref" href="#pat:261"><span class="id" title="binder"><span id="pat:269" class="id">_</span></span></a><a id="pat:261" class="idref" href="#pat:261"><span class="id" title="binder"><span id="pat:269" class="id">,</span></span></a> <a id="pat:261" class="idref" href="#pat:261"><span class="id" title="binder"><span id="pat:269" class="id">_</span></span></a><a id="pat:261" class="idref" href="#pat:261"><span class="id" title="binder"><span id="pat:269" class="id">)</span></span></a> (<a id="G0:262" class="idref" href="#G0:262"><span class="id" title="binder"><span id="G0:270" class="id">G0</span></span></a> : <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) =&gt; <span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_functional_metatheory.html#x_0:259"><span class="id" title="variable">x_0</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#Ai:260"><span class="id" title="variable">Ai</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#G0:262"><span class="id" title="variable">G0</span></a>) <span class="id" title="var">G0</span> <span class="id" title="var">T_x_t_y_list</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="abbreviation">foldr</span> (<span class="id" title="keyword">fun</span> '<a id="pat:265" class="idref" href="#pat:265"><span class="id" title="binder"><span id="pat:273" class="id">(</span></span></a><a id="Ai:264" class="idref" href="#Ai:264"><span class="id" title="binder"><span id="pat:265" class="id"><span id="Ai:272" class="id"><span id="pat:273" class="id">Ai</span></span></span></span></a><a id="pat:265" class="idref" href="#pat:265"><span class="id" title="binder"><span id="pat:273" class="id">,</span></span></a> <a id="x_:263" class="idref" href="#x_:263"><span class="id" title="binder"><span id="pat:265" class="id"><span id="x_:271" class="id"><span id="pat:273" class="id">x_</span></span></span></span></a><a id="pat:265" class="idref" href="#pat:265"><span class="id" title="binder"><span id="pat:273" class="id">,</span></span></a> <a id="pat:265" class="idref" href="#pat:265"><span class="id" title="binder"><span id="pat:273" class="id">_</span></span></a><a id="pat:265" class="idref" href="#pat:265"><span class="id" title="binder"><span id="pat:273" class="id">,</span></span></a> <a id="pat:265" class="idref" href="#pat:265"><span class="id" title="binder"><span id="pat:273" class="id">_</span></span></a><a id="pat:265" class="idref" href="#pat:265"><span class="id" title="binder"><span id="pat:273" class="id">)</span></span></a> (<a id="G0:266" class="idref" href="#G0:266"><span class="id" title="binder"><span id="G0:274" class="id">G0</span></span></a> : <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) =&gt; <span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_functional_metatheory.html#x_:263"><span class="id" title="variable">x_</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#Ai:264"><span class="id" title="variable">Ai</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#G0:266"><span class="id" title="variable">G0</span></a>) (<span class="id" title="definition">insert</span> <span class="id" title="var">x_</span> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <span class="id" title="var">T_</span>) <span class="id" title="var">G0</span>) <span class="id" title="var">T_x_t_y_list</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">HMEqualx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simplify_map_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_util.html#fold_add_comm"><span class="id" title="lemma">fold_add_comm</span></a> <span class="id" title="var">G0</span> <span class="id" title="var">x_</span> <span class="id" title="var">T_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:277" class="idref" href="#pat:277"><span class="id" title="binder"><span id="pat:280" class="id">(</span></span></a><a id="Ai:276" class="idref" href="#Ai:276"><span class="id" title="binder"><span id="pat:277" class="id"><span id="Ai:279" class="id"><span id="pat:280" class="id">Ai</span></span></span></span></a><a id="pat:277" class="idref" href="#pat:277"><span class="id" title="binder"><span id="pat:280" class="id">,</span></span></a> <a id="x1:275" class="idref" href="#x1:275"><span class="id" title="binder"><span id="pat:277" class="id"><span id="x1:278" class="id"><span id="pat:280" class="id">x1</span></span></span></span></a><a id="pat:277" class="idref" href="#pat:277"><span class="id" title="binder"><span id="pat:280" class="id">,</span></span></a> <a id="pat:277" class="idref" href="#pat:277"><span class="id" title="binder"><span id="pat:280" class="id">_</span></span></a><a id="pat:277" class="idref" href="#pat:277"><span class="id" title="binder"><span id="pat:280" class="id">,</span></span></a> <a id="pat:277" class="idref" href="#pat:277"><span class="id" title="binder"><span id="pat:280" class="id">_</span></span></a><a id="pat:277" class="idref" href="#pat:277"><span class="id" title="binder"><span id="pat:280" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#Ai:276"><span class="id" title="variable">Ai</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#x1:275"><span class="id" title="variable">x1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">T_x_t_y_list</span>) <span class="id" title="var">Hinx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="ABS.abs_functional_metatheory.html#fold_map4"><span class="id" title="lemma">fold_map4</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:283" class="idref" href="#pat:283"><span class="id" title="binder"><span id="pat:291" class="id">(</span></span></a><a id="Ai:282" class="idref" href="#Ai:282"><span class="id" title="binder"><span id="pat:283" class="id"><span id="Ai:290" class="id"><span id="pat:291" class="id">Ai</span></span></span></span></a><a id="pat:283" class="idref" href="#pat:283"><span class="id" title="binder"><span id="pat:291" class="id">,</span></span></a> <a id="pat:283" class="idref" href="#pat:283"><span class="id" title="binder"><span id="pat:291" class="id">_</span></span></a><a id="pat:283" class="idref" href="#pat:283"><span class="id" title="binder"><span id="pat:291" class="id">,</span></span></a> <a id="pat:283" class="idref" href="#pat:283"><span class="id" title="binder"><span id="pat:291" class="id">_</span></span></a><a id="pat:283" class="idref" href="#pat:283"><span class="id" title="binder"><span id="pat:291" class="id">,</span></span></a> <a id="y:281" class="idref" href="#y:281"><span class="id" title="binder"><span id="pat:283" class="id"><span id="y:289" class="id"><span id="pat:291" class="id">y</span></span></span></span></a><a id="pat:283" class="idref" href="#pat:283"><span class="id" title="binder"><span id="pat:291" class="id">)</span></span></a> (<a id="G0:284" class="idref" href="#G0:284"><span class="id" title="binder"><span id="G0:292" class="id">G0</span></span></a> : <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) =&gt; <span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_functional_metatheory.html#y:281"><span class="id" title="variable">y</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#Ai:282"><span class="id" title="variable">Ai</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#G0:284"><span class="id" title="variable">G0</span></a>) (<span class="id" title="definition">insert</span> <span class="id" title="var">x_</span> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <span class="id" title="var">T_</span>) <span class="id" title="var">G0</span>) <span class="id" title="var">T_x_t_y_list</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="definition">insert</span> <span class="id" title="var">x_</span> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <span class="id" title="var">T_</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:287" class="idref" href="#pat:287"><span class="id" title="binder"><span id="pat:295" class="id">(</span></span></a><a id="Ai:286" class="idref" href="#Ai:286"><span class="id" title="binder"><span id="pat:287" class="id"><span id="Ai:294" class="id"><span id="pat:295" class="id">Ai</span></span></span></span></a><a id="pat:287" class="idref" href="#pat:287"><span class="id" title="binder"><span id="pat:295" class="id">,</span></span></a> <a id="pat:287" class="idref" href="#pat:287"><span class="id" title="binder"><span id="pat:295" class="id">_</span></span></a><a id="pat:287" class="idref" href="#pat:287"><span class="id" title="binder"><span id="pat:295" class="id">,</span></span></a> <a id="pat:287" class="idref" href="#pat:287"><span class="id" title="binder"><span id="pat:295" class="id">_</span></span></a><a id="pat:287" class="idref" href="#pat:287"><span class="id" title="binder"><span id="pat:295" class="id">,</span></span></a> <a id="y:285" class="idref" href="#y:285"><span class="id" title="binder"><span id="pat:287" class="id"><span id="y:293" class="id"><span id="pat:295" class="id">y</span></span></span></span></a><a id="pat:287" class="idref" href="#pat:287"><span class="id" title="binder"><span id="pat:295" class="id">)</span></span></a> (<a id="G0:288" class="idref" href="#G0:288"><span class="id" title="binder"><span id="G0:296" class="id">G0</span></span></a> : <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) =&gt; <span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_functional_metatheory.html#y:285"><span class="id" title="variable">y</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#Ai:286"><span class="id" title="variable">Ai</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#G0:288"><span class="id" title="variable">G0</span></a>) <span class="id" title="var">G0</span> <span class="id" title="var">T_x_t_y_list</span>)<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">HMEqualy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_util.html#fold_add_comm"><span class="id" title="lemma">fold_add_comm</span></a> <span class="id" title="var">G0</span> <span class="id" title="var">x_</span> <span class="id" title="var">T_</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:299" class="idref" href="#pat:299"><span class="id" title="binder"><span id="pat:302" class="id">(</span></span></a><a id="Ai:298" class="idref" href="#Ai:298"><span class="id" title="binder"><span id="pat:299" class="id"><span id="Ai:301" class="id"><span id="pat:302" class="id">Ai</span></span></span></span></a><a id="pat:299" class="idref" href="#pat:299"><span class="id" title="binder"><span id="pat:302" class="id">,</span></span></a> <a id="pat:299" class="idref" href="#pat:299"><span class="id" title="binder"><span id="pat:302" class="id">_</span></span></a><a id="pat:299" class="idref" href="#pat:299"><span class="id" title="binder"><span id="pat:302" class="id">,</span></span></a> <a id="pat:299" class="idref" href="#pat:299"><span class="id" title="binder"><span id="pat:302" class="id">_</span></span></a><a id="pat:299" class="idref" href="#pat:299"><span class="id" title="binder"><span id="pat:302" class="id">,</span></span></a> <a id="y1:297" class="idref" href="#y1:297"><span class="id" title="binder"><span id="pat:299" class="id"><span id="y1:300" class="id"><span id="pat:302" class="id">y1</span></span></span></span></a><a id="pat:299" class="idref" href="#pat:299"><span class="id" title="binder"><span id="pat:302" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#Ai:298"><span class="id" title="variable">Ai</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#y1:297"><span class="id" title="variable">y1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">T_x_t_y_list</span>) <span class="id" title="var">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_functional_metatheory.html#fold_map5"><span class="id" title="lemma">fold_map5</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">fd</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_functional_metatheory.html#fold_map5"><span class="id" title="lemma">fold_map5</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">fd</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">fd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="ABS.abs_functional_metatheory.html#typ_e_G_Equal_equiv"><span class="id" title="lemma">typ_e_G_Equal_equiv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HMEqualx</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHT_x_t_y_list</span> <span class="id" title="var">H7</span> <span class="id" title="var">H8</span> <span class="id" title="var">H4</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="ABS.abs_functional_metatheory.html#typ_e_G_Equal_equiv"><span class="id" title="lemma">typ_e_G_Equal_equiv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HMEqualy</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ABS.abs_defs.html#fresh_vars_e"><span class="id" title="definition">fresh_vars_e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> (<a class="idref" href="ABS.abs_defs.html#e_var_subst"><span class="id" title="definition">e_var_subst</span></a> <span class="id" title="var">e0</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:305" class="idref" href="#pat:305"><span class="id" title="binder"><span id="pat:308" class="id">(</span></span></a><a id="pat:305" class="idref" href="#pat:305"><span class="id" title="binder"><span id="pat:308" class="id">_</span></span></a><a id="pat:305" class="idref" href="#pat:305"><span class="id" title="binder"><span id="pat:308" class="id">,</span></span></a> <a id="x_:304" class="idref" href="#x_:304"><span class="id" title="binder"><span id="pat:305" class="id"><span id="x_:307" class="id"><span id="pat:308" class="id">x_</span></span></span></span></a><a id="pat:305" class="idref" href="#pat:305"><span class="id" title="binder"><span id="pat:308" class="id">,</span></span></a> <a id="pat:305" class="idref" href="#pat:305"><span class="id" title="binder"><span id="pat:308" class="id">_</span></span></a><a id="pat:305" class="idref" href="#pat:305"><span class="id" title="binder"><span id="pat:308" class="id">,</span></span></a> <a id="y_:303" class="idref" href="#y_:303"><span class="id" title="binder"><span id="pat:305" class="id"><span id="y_:306" class="id"><span id="pat:308" class="id">y_</span></span></span></span></a><a id="pat:305" class="idref" href="#pat:305"><span class="id" title="binder"><span id="pat:308" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#x_:304"><span class="id" title="variable">x_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#y_:303"><span class="id" title="variable">y_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">T_x_t_y_list</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:311" class="idref" href="#pat:311"><span class="id" title="binder"><span id="pat:316" class="id">(</span></span></a><a id="pat:311" class="idref" href="#pat:311"><span class="id" title="binder"><span id="pat:316" class="id">_</span></span></a><a id="pat:311" class="idref" href="#pat:311"><span class="id" title="binder"><span id="pat:316" class="id">,</span></span></a> <a id="x_0:310" class="idref" href="#x_0:310"><span class="id" title="binder"><span id="pat:311" class="id"><span id="x_0:315" class="id"><span id="pat:316" class="id">x_0</span></span></span></span></a><a id="pat:311" class="idref" href="#pat:311"><span class="id" title="binder"><span id="pat:316" class="id">,</span></span></a> <a id="pat:311" class="idref" href="#pat:311"><span class="id" title="binder"><span id="pat:316" class="id">_</span></span></a><a id="pat:311" class="idref" href="#pat:311"><span class="id" title="binder"><span id="pat:316" class="id">,</span></span></a> <a id="y_:309" class="idref" href="#y_:309"><span class="id" title="binder"><span id="pat:311" class="id"><span id="y_:314" class="id"><span id="pat:316" class="id">y_</span></span></span></span></a><a id="pat:311" class="idref" href="#pat:311"><span class="id" title="binder"><span id="pat:316" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#x_0:310"><span class="id" title="variable">x_0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#y_:309"><span class="id" title="variable">y_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">T_x_t_y_list</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:313" class="idref" href="#pat:313"><span class="id" title="binder"><span id="pat:318" class="id">(</span></span></a><a id="pat:313" class="idref" href="#pat:313"><span class="id" title="binder"><span id="pat:318" class="id">_</span></span></a><a id="pat:313" class="idref" href="#pat:313"><span class="id" title="binder"><span id="pat:318" class="id">,</span></span></a> <a id="pat:313" class="idref" href="#pat:313"><span class="id" title="binder"><span id="pat:318" class="id">_</span></span></a><a id="pat:313" class="idref" href="#pat:313"><span class="id" title="binder"><span id="pat:318" class="id">,</span></span></a> <a id="pat:313" class="idref" href="#pat:313"><span class="id" title="binder"><span id="pat:318" class="id">_</span></span></a><a id="pat:313" class="idref" href="#pat:313"><span class="id" title="binder"><span id="pat:318" class="id">,</span></span></a> <a id="y:312" class="idref" href="#y:312"><span class="id" title="binder"><span id="pat:313" class="id"><span id="y:317" class="id"><span id="pat:318" class="id">y</span></span></span></span></a><a id="pat:313" class="idref" href="#pat:313"><span class="id" title="binder"><span id="pat:318" class="id">)</span></span></a> =&gt; <a class="idref" href="ABS.abs_functional_metatheory.html#y:312"><span class="id" title="variable">y</span></a>) <span class="id" title="var">T_x_t_y_list</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.list_util.html#map_eq"><span class="id" title="lemma">map_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> (((?, ?), ?), ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#fresh_var_subst"><span class="id" title="lemma">fresh_var_subst</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H10</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_In</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> (<a class="idref" href="ABS.abs_functional_metatheory.html#subst_lemma_one"><span class="id" title="lemma">subst_lemma_one</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">IH</span> <span class="id" title="var">H10</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_preservation_step" class="idref" href="#type_preservation_step"><span class="id" title="lemma">type_preservation_step</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="Flist:319" class="idref" href="#Flist:319"><span class="id" title="binder">Flist</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ABS.abs_defs.html#F"><span class="id" title="inductive">F</span></a>) (<a id="G5:320" class="idref" href="#G5:320"><span class="id" title="binder">G5</span></a> : <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) (<a id="s5:321" class="idref" href="#s5:321"><span class="id" title="binder">s5</span></a> : <a class="idref" href="ABS.abs_defs.html#s"><span class="id" title="definition">s</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G5:320"><span class="id" title="variable">G5</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s5:321"><span class="id" title="variable">s5</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="ABS.abs_defs.html#typ_F"><span class="id" title="inductive">typ_F</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G5:320"><span class="id" title="variable">G5</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#Flist:319"><span class="id" title="variable">Flist</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="e5:322" class="idref" href="#e5:322"><span class="id" title="binder">e5</span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a>) (<a id="T5:323" class="idref" href="#T5:323"><span class="id" title="binder">T5</span></a> : <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a>) (<a id="s':324" class="idref" href="#s':324"><span class="id" title="binder">s'</span></a> : <a class="idref" href="ABS.abs_defs.html#s"><span class="id" title="definition">s</span></a>) (<a id="e':325" class="idref" href="#e':325"><span class="id" title="binder">e'</span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G5:320"><span class="id" title="variable">G5</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e5:322"><span class="id" title="variable">e5</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T5:323"><span class="id" title="variable">T5</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#red_e"><span class="id" title="inductive">red_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#Flist:319"><span class="id" title="variable">Flist</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s5:321"><span class="id" title="variable">s5</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e5:322"><span class="id" title="variable">e5</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s':324"><span class="id" title="variable">s'</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e':325"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="G':326" class="idref" href="#G':326"><span class="id" title="binder">G'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="definition">subseteq</span> <a class="idref" href="ABS.abs_functional_metatheory.html#G5:320"><span class="id" title="variable">G5</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G':326"><span class="id" title="variable">G'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G':326"><span class="id" title="variable">G'</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s':324"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G':326"><span class="id" title="variable">G'</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e':325"><span class="id" title="variable">e'</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T5:323"><span class="id" title="variable">T5</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Fs</span> <span class="id" title="var">G5</span> <span class="id" title="var">s0</span> <span class="id" title="var">s_well_typed</span> <span class="id" title="var">F_well_typed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">e0</span> <span class="id" title="var">T0</span> <span class="id" title="var">s'</span> <span class="id" title="var">e'</span> <span class="id" title="var">e0_type</span> <span class="id" title="var">reduction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">T0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">G5</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">reduction</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> ((<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">exists</span> <span class="id" title="var">G5</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>; <span class="id" title="tactic">constructor</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G5</span>; <span class="id" title="var">splits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">s_well_typed</span> <span class="id" title="var">x5</span> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <span class="id" title="var">T0</span>) <span class="id" title="var">H2</span>) <span class="id" title="keyword">as</span> (?, (?, ?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHreduction</span> <span class="id" title="var">_</span> <span class="id" title="var">s_well_typed</span> <span class="id" title="var">F_well_typed</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">G'</span> &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHreduction</span> <span class="id" title="var">_</span> <span class="id" title="var">s_well_typed</span> <span class="id" title="var">F_well_typed</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">G'</span> &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHreduction</span> <span class="id" title="var">_</span> <span class="id" title="var">s_well_typed</span> <span class="id" title="var">F_well_typed</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">G'</span> &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHreduction</span> <span class="id" title="var">_</span> <span class="id" title="var">s_well_typed</span> <span class="id" title="var">F_well_typed</span> <span class="id" title="var">_</span> <span class="id" title="var">H4</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">G'</span> &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHreduction</span> <span class="id" title="var">_</span> <span class="id" title="var">s_well_typed</span> <span class="id" title="var">F_well_typed</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">G'</span> &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHreduction</span> <span class="id" title="var">_</span> <span class="id" title="var">s_well_typed</span> <span class="id" title="var">F_well_typed</span> <span class="id" title="var">_</span> <span class="id" title="var">H4</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">G'</span> &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHreduction</span> <span class="id" title="var">_</span> <span class="id" title="var">s_well_typed</span> <span class="id" title="var">F_well_typed</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">G'</span> &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHreduction</span> <span class="id" title="var">_</span> <span class="id" title="var">s_well_typed</span> <span class="id" title="var">F_well_typed</span> <span class="id" title="var">_</span> <span class="id" title="var">H4</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">G'</span> &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHreduction</span> <span class="id" title="var">_</span> <span class="id" title="var">s_well_typed</span> <span class="id" title="var">F_well_typed</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">G'</span> &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">IHreduction</span> <span class="id" title="var">_</span> <span class="id" title="var">s_well_typed</span> <span class="id" title="var">F_well_typed</span> <span class="id" title="var">_</span> <span class="id" title="var">H4</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">G'</span> &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;RED_FUN_EXPR&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.list_util.html#split_corresponding_list"><span class="id" title="lemma">split_corresponding_list</span></a> <span class="id" title="var">e_T_list</span> <span class="id" title="var">e_list</span> <span class="id" title="var">e_5</span> <span class="id" title="var">e'_list</span> <span class="id" title="var">H0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">T_list</span> &amp; <span class="id" title="var">T_5</span> &amp; <span class="id" title="var">T'_list</span> &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e_5</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T_5</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:327" class="idref" href="#pat_:327"><span class="id" title="binder"><span id="pat_:330" class="id">pat_</span></span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="e_0:328" class="idref" href="#e_0:328"><span class="id" title="binder"><span id="e_0:331" class="id">e_0</span></span></a>, <a id="T_0:329" class="idref" href="#T_0:329"><span class="id" title="binder"><span id="T_0:332" class="id">T_0</span></span></a>) := <a class="idref" href="ABS.abs_functional_metatheory.html#pat_:327"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#e_0:328"><span class="id" title="variable">e_0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T_0:329"><span class="id" title="variable">T_0</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">e_T_list</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e_5</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T_5</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.list_util.html#in_combine_split"><span class="id" title="lemma">in_combine_split</span></a> <span class="id" title="keyword">with</span> (2:=<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H2</span> <span class="id" title="var">e_5</span> <span class="id" title="var">T_5</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHreduction</span> <span class="id" title="var">G5</span> <span class="id" title="var">s_well_typed</span> <span class="id" title="var">F_well_typed</span> <span class="id" title="var">_</span> <span class="id" title="var">H6</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">G'</span> &amp; <span class="id" title="var">G'extends</span> &amp; <span class="id" title="var">G'consistent</span> &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1,2: <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">e_list</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">e'_list</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> (<a id="pat_:335" class="idref" href="#pat_:335"><span class="id" title="binder"><span id="pat_:339" class="id">pat_</span></span></a>:(<a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a>)) =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ABS.abs_functional_metatheory.html#pat_:335"><span class="id" title="variable">pat_</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">T_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="var">e_</span> <span class="id" title="keyword">end</span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> (<span class="id" title="var">e_list</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">e'_list</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:333" class="idref" href="#pat_:333"><span class="id" title="binder"><span id="pat_:337" class="id">pat_</span></span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<span class="id" title="var">_</span>, <a id="T_:334" class="idref" href="#T_:334"><span class="id" title="binder"><span id="T_:338" class="id">T_</span></span></a>) := <a class="idref" href="ABS.abs_functional_metatheory.html#pat_:333"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_functional_metatheory.html#T_:334"><span class="id" title="variable">T_</span></a>) <span class="id" title="var">e_T_list</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_defs.html#typ_func_expr"><span class="id" title="constructor">typ_func_expr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.list_util.html#pat2_id"><span class="id" title="lemma">pat2_id</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.list_util.html#combine_snd"><span class="id" title="lemma">combine_snd</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.list_util.html#combine_app"><span class="id" title="lemma">combine_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">G1</span>:=<span class="id" title="var">G5</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.list_util.html#combine_app"><span class="id" title="lemma">combine_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="abbreviation">app_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.list_util.html#combine_app"><span class="id" title="lemma">combine_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="var">inv</span> <span class="id" title="var">H8</span>;[|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">G1</span>:=<span class="id" title="var">G5</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">T_</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.list_util.html#combine_app"><span class="id" title="lemma">combine_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="abbreviation">app_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">rewrite</span> 4 <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="abbreviation">app_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.list_util.html#combine_snd"><span class="id" title="lemma">combine_snd</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="abbreviation">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="ABS.list_util.html#combine_app"><span class="id" title="lemma">combine_app</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="abbreviation">app_length</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 3 <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#combine_length"><span class="id" title="abbreviation">combine_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="abbreviation">app_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.list_util.html#combine_fst"><span class="id" title="lemma">combine_fst</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_length"><span class="id" title="abbreviation">map_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#combine_length"><span class="id" title="abbreviation">combine_length</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="abbreviation">app_length</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;RED_FUN_GROUND&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">fn_def</span>:=(<a class="idref" href="ABS.abs_defs.html#F_fn"><span class="id" title="constructor">F_fn</span></a> <span class="id" title="var">T_5</span> <span class="id" title="var">fc5</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:343" class="idref" href="#pat:343"><span class="id" title="binder"><span id="pat:346" class="id">(</span></span></a><a id="T_:342" class="idref" href="#T_:342"><span class="id" title="binder"><span id="pat:343" class="id"><span id="T_:345" class="id"><span id="pat:346" class="id">T_</span></span></span></span></a><a id="pat:343" class="idref" href="#pat:343"><span class="id" title="binder"><span id="pat:346" class="id">,</span></span></a> <a id="x_:341" class="idref" href="#x_:341"><span class="id" title="binder"><span id="pat:343" class="id"><span id="x_:344" class="id"><span id="pat:346" class="id">x_</span></span></span></span></a><a id="pat:343" class="idref" href="#pat:343"><span class="id" title="binder"><span id="pat:346" class="id">,</span></span></a> <a id="pat:343" class="idref" href="#pat:343"><span class="id" title="binder"><span id="pat:346" class="id">_</span></span></a><a id="pat:343" class="idref" href="#pat:343"><span class="id" title="binder"><span id="pat:346" class="id">,</span></span></a> <a id="pat:343" class="idref" href="#pat:343"><span class="id" title="binder"><span id="pat:346" class="id">_</span></span></a><a id="pat:343" class="idref" href="#pat:343"><span class="id" title="binder"><span id="pat:346" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#T_:342"><span class="id" title="variable">T_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#x_:341"><span class="id" title="variable">x_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">T_x_t_y_list</span>) <span class="id" title="var">e5</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.list_util.html#in_split"><span class="id" title="lemma">list_util.in_split</span></a> <span class="id" title="var">F_list</span> <span class="id" title="var">F'_list</span> <span class="id" title="var">fn_def</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="lemma">Forall_forall</span> (<a class="idref" href="ABS.abs_defs.html#typ_F"><span class="id" title="inductive">typ_F</span></a> <span class="id" title="var">G5</span>) (<span class="id" title="var">F_list</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">fn_def</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">F'_list</span>) <span class="id" title="keyword">as</span> (? &amp; <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H2</span> <span class="id" title="var">F_well_typed</span> <span class="id" title="var">fn_def</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">fn_typed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">fn_typed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">e0_type</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> ((?, ?), ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">e_T_list</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:349" class="idref" href="#pat:349"><span class="id" title="binder"><span id="pat:352" class="id">(</span></span></a><a id="T_:348" class="idref" href="#T_:348"><span class="id" title="binder"><span id="pat:349" class="id"><span id="T_:351" class="id"><span id="pat:352" class="id">T_</span></span></span></span></a><a id="pat:349" class="idref" href="#pat:349"><span class="id" title="binder"><span id="pat:352" class="id">,</span></span></a> <a id="pat:349" class="idref" href="#pat:349"><span class="id" title="binder"><span id="pat:352" class="id">_</span></span></a><a id="pat:349" class="idref" href="#pat:349"><span class="id" title="binder"><span id="pat:352" class="id">,</span></span></a> <a id="t_:347" class="idref" href="#t_:347"><span class="id" title="binder"><span id="pat:349" class="id"><span id="t_:350" class="id"><span id="pat:352" class="id">t_</span></span></span></span></a><a id="pat:349" class="idref" href="#pat:349"><span class="id" title="binder"><span id="pat:352" class="id">,</span></span></a> <a id="pat:349" class="idref" href="#pat:349"><span class="id" title="binder"><span id="pat:352" class="id">_</span></span></a><a id="pat:349" class="idref" href="#pat:349"><span class="id" title="binder"><span id="pat:352" class="id">)</span></span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#t_:347"><span class="id" title="variable">t_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T_:348"><span class="id" title="variable">T_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">T_x_t_y_list</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.list_util.html#map_split'"><span class="id" title="lemma">map_split'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">e_T_list</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:353" class="idref" href="#pat_:353"><span class="id" title="binder"><span id="pat_:355" class="id">pat_</span></span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="e_:354" class="idref" href="#e_:354"><span class="id" title="binder"><span id="e_:356" class="id">e_</span></span></a>, <span class="id" title="var">_</span>) := <a class="idref" href="ABS.abs_functional_metatheory.html#pat_:353"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_functional_metatheory.html#e_:354"><span class="id" title="variable">e_</span></a>) <span class="id" title="var">e_T_list</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_ext"><span class="id" title="lemma">map_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">e_T_list</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <a id="pat_:357" class="idref" href="#pat_:357"><span class="id" title="binder"><span id="pat_:359" class="id">pat_</span></span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> =&gt; <span class="id" title="keyword">let</span> (<span class="id" title="var">_</span>, <a id="T_:358" class="idref" href="#T_:358"><span class="id" title="binder"><span id="T_:360" class="id">T_</span></span></a>) := <a class="idref" href="ABS.abs_functional_metatheory.html#pat_:357"><span class="id" title="variable">pat_</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_functional_metatheory.html#T_:358"><span class="id" title="variable">T_</span></a>) <span class="id" title="var">e_T_list</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_ext"><span class="id" title="lemma">map_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> (((?, ?), ?), ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="abbreviation">foldr</span> (<span class="id" title="keyword">fun</span> '<a id="pat:363" class="idref" href="#pat:363"><span class="id" title="binder"><span id="pat:367" class="id">(</span></span></a><a id="T_:362" class="idref" href="#T_:362"><span class="id" title="binder"><span id="pat:363" class="id"><span id="T_:366" class="id"><span id="pat:367" class="id">T_</span></span></span></span></a><a id="pat:363" class="idref" href="#pat:363"><span class="id" title="binder"><span id="pat:367" class="id">,</span></span></a> <a id="pat:363" class="idref" href="#pat:363"><span class="id" title="binder"><span id="pat:367" class="id">_</span></span></a><a id="pat:363" class="idref" href="#pat:363"><span class="id" title="binder"><span id="pat:367" class="id">,</span></span></a> <a id="pat:363" class="idref" href="#pat:363"><span class="id" title="binder"><span id="pat:367" class="id">_</span></span></a><a id="pat:363" class="idref" href="#pat:363"><span class="id" title="binder"><span id="pat:367" class="id">,</span></span></a> <a id="y:361" class="idref" href="#y:361"><span class="id" title="binder"><span id="pat:363" class="id"><span id="y:365" class="id"><span id="pat:367" class="id">y</span></span></span></span></a><a id="pat:363" class="idref" href="#pat:363"><span class="id" title="binder"><span id="pat:367" class="id">)</span></span></a> <a id="G0:364" class="idref" href="#G0:364"><span class="id" title="binder"><span id="G0:368" class="id">G0</span></span></a> =&gt; <span class="id" title="definition">insert</span> <a class="idref" href="ABS.abs_functional_metatheory.html#y:361"><span class="id" title="variable">y</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T_:362"><span class="id" title="variable">T_</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#G0:364"><span class="id" title="variable">G0</span></a>) <span class="id" title="var">G5</span> <span class="id" title="var">T_x_t_y_list</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#fresh_subG"><span class="id" title="lemma">fresh_subG</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ABS.list_util.html#fold_map"><span class="id" title="lemma">fold_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#fresh_consistent"><span class="id" title="lemma">fresh_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">elem_of_list_In</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H12</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Txty</span>, (?, ?)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map_map"><span class="id" title="lemma">map_map</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#in_map_iff"><span class="id" title="lemma">in_map_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Txty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Txty</span> <span class="id" title="keyword">as</span> (((?, ?), ?), ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">H15</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subst_lemma"><span class="id" title="lemma">subst_lemma</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ABS.abs_util.html#fold_map_reshuffle"><span class="id" title="lemma">fold_map_reshuffle</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.list_util.html#map_xs"><span class="id" title="lemma">map_xs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H10</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="reduce" class="idref" href="#reduce"><span class="id" title="definition">reduce</span></a> (<a id="Fs:369" class="idref" href="#Fs:369"><span class="id" title="binder">Fs</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ABS.abs_defs.html#F"><span class="id" title="inductive">F</span></a>): <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#s"><span class="id" title="definition">s</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span>  <a id="x:370" class="idref" href="#x:370"><span class="id" title="binder">x</span></a> <a id="y:371" class="idref" href="#y:371"><span class="id" title="binder">y</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="e0:372" class="idref" href="#e0:372"><span class="id" title="binder">e0</span></a>, <a id="s0:373" class="idref" href="#s0:373"><span class="id" title="binder">s0</span></a>) := <a class="idref" href="ABS.abs_functional_metatheory.html#x:370"><span class="id" title="variable">x</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> (<a id="e1:374" class="idref" href="#e1:374"><span class="id" title="binder">e1</span></a>, <a id="s1:375" class="idref" href="#s1:375"><span class="id" title="binder">s1</span></a>) := <a class="idref" href="ABS.abs_functional_metatheory.html#y:371"><span class="id" title="variable">y</span></a> <span class="id" title="tactic">in</span> <a class="idref" href="ABS.abs_defs.html#red_e"><span class="id" title="inductive">red_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#Fs:369"><span class="id" title="variable">Fs</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s0:373"><span class="id" title="variable">s0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e0:372"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s1:375"><span class="id" title="variable">s1</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e1:374"><span class="id" title="variable">e1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="local_well_typed" class="idref" href="#local_well_typed"><span class="id" title="definition">local_well_typed</span></a> (<a id="G0:376" class="idref" href="#G0:376"><span class="id" title="binder">G0</span></a>: <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) (<a id="T_:377" class="idref" href="#T_:377"><span class="id" title="binder">T_</span></a>:<a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a>): <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ABS.abs_defs.html#s"><span class="id" title="definition">s</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> '<a id="pat:380" class="idref" href="#pat:380"><span class="id" title="binder">(</span></a><a id="e:379" class="idref" href="#e:379"><span class="id" title="binder"><span id="pat:380" class="id">e</span></span></a><a id="pat:380" class="idref" href="#pat:380"><span class="id" title="binder">,</span></a> <a id="s:378" class="idref" href="#s:378"><span class="id" title="binder"><span id="pat:380" class="id">s</span></span></a><a id="pat:380" class="idref" href="#pat:380"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="G_:381" class="idref" href="#G_:381"><span class="id" title="binder">G_</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G0:376"><span class="id" title="variable">G0</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_functional_metatheory.html#G_:381"><span class="id" title="variable">G_</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G_:381"><span class="id" title="variable">G_</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s:378"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G_:381"><span class="id" title="variable">G_</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e:379"><span class="id" title="variable">e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T_:377"><span class="id" title="variable">T_</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_preservation" class="idref" href="#type_preservation"><span class="id" title="lemma">type_preservation</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="Flist:382" class="idref" href="#Flist:382"><span class="id" title="binder">Flist</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ABS.abs_defs.html#F"><span class="id" title="inductive">F</span></a>) (<a id="G5:383" class="idref" href="#G5:383"><span class="id" title="binder">G5</span></a> : <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) (<a id="s5:384" class="idref" href="#s5:384"><span class="id" title="binder">s5</span></a> : <a class="idref" href="ABS.abs_defs.html#s"><span class="id" title="definition">s</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;<a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G5:383"><span class="id" title="variable">G5</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s5:384"><span class="id" title="variable">s5</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="ABS.abs_defs.html#typ_F"><span class="id" title="inductive">typ_F</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G5:383"><span class="id" title="variable">G5</span></a>) <a class="idref" href="ABS.abs_functional_metatheory.html#Flist:382"><span class="id" title="variable">Flist</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="e5:385" class="idref" href="#e5:385"><span class="id" title="binder">e5</span></a> : <a class="idref" href="ABS.abs_defs.html#e"><span class="id" title="inductive">e</span></a>) (<a id="T5:386" class="idref" href="#T5:386"><span class="id" title="binder">T5</span></a> : <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a>) <a id="d67ee4105f4e54d163972031ab2072c0" class="idref" href="#d67ee4105f4e54d163972031ab2072c0"><span class="id" title="binder">σ</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G5:383"><span class="id" title="variable">G5</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#e5:385"><span class="id" title="variable">e5</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T5:386"><span class="id" title="variable">T5</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="inductive">rtc</span> (<a class="idref" href="ABS.abs_functional_metatheory.html#reduce"><span class="id" title="definition">reduce</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#Flist:382"><span class="id" title="variable">Flist</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ABS.abs_functional_metatheory.html#e5:385"><span class="id" title="variable">e5</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#s5:384"><span class="id" title="variable">s5</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#d67ee4105f4e54d163972031ab2072c0"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_functional_metatheory.html#local_well_typed"><span class="id" title="definition">local_well_typed</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#G5:383"><span class="id" title="variable">G5</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#T5:386"><span class="id" title="variable">T5</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#d67ee4105f4e54d163972031ab2072c0"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;induction&nbsp;using&nbsp;rtc_ind_r&nbsp;does&nbsp;not&nbsp;recognize&nbsp;the&nbsp;branches&nbsp;of&nbsp;an&nbsp;induction&nbsp;scheme&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">rtc_ind_r</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span>:=<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">e5</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">s5</span><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">G5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> (?<span class="id" title="var">e_</span>&amp;?<span class="id" title="var">s_</span>) (?<span class="id" title="var">e_</span>&amp;?<span class="id" title="var">s_</span>) <span class="id" title="var">COMP</span> <span class="id" title="var">STEP</span> (?<span class="id" title="var">G_</span> &amp; ?<span class="id" title="var">SUB</span> &amp; ? &amp; ?<span class="id" title="var">TYP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_functional_metatheory.html#type_preservation_step"><span class="id" title="lemma">type_preservation_step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H3</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">TYP</span> <span class="id" title="var">STEP</span> <span class="id" title="keyword">as</span> (?<span class="id" title="var">G_</span> &amp; ? &amp; ? &amp; ?<span class="id" title="var">TYP_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">G_0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">splits</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">G_</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> (<a class="idref" href="ABS.abs_functional_metatheory.html#subG_typ_F_forall"><span class="id" title="lemma">subG_typ_F_forall</span></a> <span class="id" title="var">G5</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ABS.abs_functional_metatheory.html#FunctionalMetatheory"><span class="id" title="section">FunctionalMetatheory</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
