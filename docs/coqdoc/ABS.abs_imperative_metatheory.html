<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">strings</span> <span class="id" title="library">fin_maps</span> <span class="id" title="library">natmap</span> <span class="id" title="library">gmap</span> <span class="id" title="library">gmultiset</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">ABS</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ABS.list_util.html#"><span class="id" title="library">list_util</span></a> <a class="idref" href="ABS.abs_defs.html#"><span class="id" title="library">abs_defs</span></a> <a class="idref" href="ABS.abs_util.html#"><span class="id" title="library">abs_util</span></a> <a class="idref" href="ABS.abs_functional_metatheory.html#"><span class="id" title="library">abs_functional_metatheory</span></a> <a class="idref" href="ABS.abs_imp.html#"><span class="id" title="library">abs_imp</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;based&nbsp;on&nbsp;https://link.springer.com/chapter/10.1007/978-3-642-25271-6_8&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a id="Typing" class="idref" href="#Typing"><span class="id" title="section">Typing</span></a>.<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="Typing.Cs" class="idref" href="#Typing.Cs"><span class="id" title="variable">Cs</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ABS.abs_defs.html#CL"><span class="id" title="inductive">CL</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Typing.Fs" class="idref" href="#Typing.Fs"><span class="id" title="variable">Fs</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ABS.abs_defs.html#F"><span class="id" title="inductive">F</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*name_of&nbsp;should&nbsp;probably&nbsp;be&nbsp;partial&nbsp;to&nbsp;account&nbsp;for&nbsp;non-future&nbsp;ids&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Typing.name_of" class="idref" href="#Typing.name_of"><span class="id" title="variable">name_of</span></a>: <a class="idref" href="ABS.abs_imp.html#id"><span class="id" title="abbreviation">id</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#f"><span class="id" title="definition">f</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Typing.id_of" class="idref" href="#Typing.id_of"><span class="id" title="variable">id_of</span></a>: <a class="idref" href="ABS.abs_defs.html#f"><span class="id" title="definition">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imp.html#id"><span class="id" title="abbreviation">id</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="Typing.class_of" class="idref" href="#Typing.class_of"><span class="id" title="variable">class_of</span></a>: <a class="idref" href="ABS.abs_defs.html#o"><span class="id" title="definition">o</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#C"><span class="id" title="definition">C</span></a>)<br/>
.<br/>

<br/>
<span class="id" title="keyword">Hypothesis</span> (<a id="Typing.vars_fs_distinct" class="idref" href="#Typing.vars_fs_distinct"><span class="id" title="variable">vars_fs_distinct</span></a>: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="x_:6" class="idref" href="#x_:6"><span class="id" title="binder">x_</span></a>:<a class="idref" href="ABS.abs_defs.html#x"><span class="id" title="definition">x</span></a>) (<a id="fn:7" class="idref" href="#fn:7"><span class="id" title="binder">fn</span></a>:<a class="idref" href="ABS.abs_defs.html#fc"><span class="id" title="definition">fc</span></a><span class="id" title="notation">),</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#x_:6"><span class="id" title="variable">x_</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#fn:7"><span class="id" title="variable">fn</span></a>).<br/>
<span class="id" title="keyword">Hypothesis</span> <a id="Typing.id_of_consistent" class="idref" href="#Typing.id_of_consistent"><span class="id" title="variable">id_of_consistent</span></a>: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="962aaeeff05b6bd0df6153509c8e8505" class="idref" href="#962aaeeff05b6bd0df6153509c8e8505"><span class="id" title="binder">σ</span></a>:<a class="idref" href="ABS.abs_imp.html#config"><span class="id" title="definition">config</span></a>) <a id="f:11" class="idref" href="#f:11"><span class="id" title="binder">f</span></a> <a id="f':12" class="idref" href="#f':12"><span class="id" title="binder">f'</span></a> <a id="v:13" class="idref" href="#v:13"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#962aaeeff05b6bd0df6153509c8e8505"><span class="id" title="variable">σ</span></a> <span class="id" title="notation">!!</span> <span class="id" title="notation">(</span><a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of"><span class="id" title="variable">id_of</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:11"><span class="id" title="variable">f</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ABS.abs_defs.html#cn_future"><span class="id" title="constructor">cn_future</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f':12"><span class="id" title="variable">f'</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#v:13"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:11"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f':12"><span class="id" title="variable">f'</span></a>.<br/>
<span class="id" title="keyword">Hypothesis</span> <a id="Typing.id_of_well_typed" class="idref" href="#Typing.id_of_well_typed"><span class="id" title="variable">id_of_well_typed</span></a>: <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="dd0f8ee13b043696963f589a3a566f8e" class="idref" href="#dd0f8ee13b043696963f589a3a566f8e"><span class="id" title="binder">σ</span></a>:<a class="idref" href="ABS.abs_imp.html#config"><span class="id" title="definition">config</span></a>) <a id="f:17" class="idref" href="#f:17"><span class="id" title="binder">f</span></a> <a id="c:18" class="idref" href="#c:18"><span class="id" title="binder">c</span></a><span class="id" title="notation">,</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#dd0f8ee13b043696963f589a3a566f8e"><span class="id" title="variable">σ</span></a> <span class="id" title="notation">!!</span> <span class="id" title="notation">(</span><a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of"><span class="id" title="variable">id_of</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:17"><span class="id" title="variable">f</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#c:18"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imp.html#is_fut"><span class="id" title="inductive">is_fut</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#c:18"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Hypothesis</span> <a id="Typing.id_of_name_of" class="idref" href="#Typing.id_of_name_of"><span class="id" title="variable">id_of_name_of</span></a>: <span class="id" title="notation">forall</span> <a id="i:21" class="idref" href="#i:21"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of"><span class="id" title="variable">id_of</span></a> (<a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.name_of"><span class="id" title="variable">name_of</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#i:21"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#i:21"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Hypothesis</span> <a id="Typing.name_of_id_of" class="idref" href="#Typing.name_of_id_of"><span class="id" title="variable">name_of_id_of</span></a>: <span class="id" title="notation">forall</span> <a id="f:24" class="idref" href="#f:24"><span class="id" title="binder">f</span></a><span class="id" title="notation">,</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.name_of"><span class="id" title="variable">name_of</span></a> (<a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of"><span class="id" title="variable">id_of</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:24"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:24"><span class="id" title="variable">f</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="vdash_implies_wt" class="idref" href="#vdash_implies_wt"><span class="id" title="lemma">vdash_implies_wt</span></a>: <span class="id" title="notation">forall</span> <a id="4832fec869a4ebb2d0fe43325389536a" class="idref" href="#4832fec869a4ebb2d0fe43325389536a"><span class="id" title="binder">Γ</span></a> <a id="a495c8a53f846c31d2ded0ea4db1b92c" class="idref" href="#a495c8a53f846c31d2ded0ea4db1b92c"><span class="id" title="binder">σ</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#4832fec869a4ebb2d0fe43325389536a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#a495c8a53f846c31d2ded0ea4db1b92c"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#sub_well_typed"><span class="id" title="definition">sub_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#4832fec869a4ebb2d0fe43325389536a"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#a495c8a53f846c31d2ded0ea4db1b92c"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H</span> <span class="id" title="var">x_</span> (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <span class="id" title="var">T_</span>) <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (?<span class="id" title="var">t_</span> &amp; <span class="id" title="var">LU</span> &amp; <span class="id" title="var">TYP</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">e_subst_s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">LU</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="G_vdash_union" class="idref" href="#G_vdash_union"><span class="id" title="lemma">G_vdash_union</span></a>: <span class="id" title="notation">forall</span> <a id="0b505d350bf3c4269fbe0253bf0ba4a2" class="idref" href="#0b505d350bf3c4269fbe0253bf0ba4a2"><span class="id" title="binder">Γ</span></a> <a id="c3ce5c4004a9652c410f50daf35ade0f" class="idref" href="#c3ce5c4004a9652c410f50daf35ade0f"><span class="id" title="binder">σ</span></a> <a id="cae669ac11c56af6fab1ac294773593c" class="idref" href="#cae669ac11c56af6fab1ac294773593c"><span class="id" title="binder">σ'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#0b505d350bf3c4269fbe0253bf0ba4a2"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#c3ce5c4004a9652c410f50daf35ade0f"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;somewhat&nbsp;surprisingly&nbsp;we&nbsp;do&nbsp;not&nbsp;need&nbsp;σ'&nbsp;because&nbsp;map_union&nbsp;prefers&nbsp;the&nbsp;left*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;G_vdash_s&nbsp;Γ&nbsp;σ'&nbsp;-&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#0b505d350bf3c4269fbe0253bf0ba4a2"><span class="id" title="variable">Γ</span></a> (<span class="id" title="definition">union</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#c3ce5c4004a9652c410f50daf35ade0f"><span class="id" title="variable">σ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#cae669ac11c56af6fab1ac294773593c"><span class="id" title="variable">σ'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (?<span class="id" title="var">t</span> &amp; <span class="id" title="var">LU</span> &amp; <span class="id" title="var">TYP</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">simp</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typ_term_invariant" class="idref" href="#typ_term_invariant"><span class="id" title="lemma">typ_term_invariant</span></a>: <span class="id" title="notation">forall</span> <a id="4956735a27db781e182b9ce86e32db7f" class="idref" href="#4956735a27db781e182b9ce86e32db7f"><span class="id" title="binder">Γ</span></a> <a id="v:33" class="idref" href="#v:33"><span class="id" title="binder">v</span></a> <a id="T:34" class="idref" href="#T:34"><span class="id" title="binder">T</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#4956735a27db781e182b9ce86e32db7f"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#v:33"><span class="id" title="variable">v</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#T:34"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="2afac5995b39c5dcb3c20b7abd8a2f1a" class="idref" href="#2afac5995b39c5dcb3c20b7abd8a2f1a"><span class="id" title="binder">Γ'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#2afac5995b39c5dcb3c20b7abd8a2f1a"><span class="id" title="variable">Γ'</span></a> (<a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#v:33"><span class="id" title="variable">v</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#T:34"><span class="id" title="variable">T</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="typ_term_list_invariant" class="idref" href="#typ_term_list_invariant"><span class="id" title="lemma">typ_term_list_invariant</span></a>: <span class="id" title="notation">forall</span> <a id="7157cf1298d28a4e1a18670b74a28bdb" class="idref" href="#7157cf1298d28a4e1a18670b74a28bdb"><span class="id" title="binder">Γ</span></a> <a id="vs:37" class="idref" href="#vs:37"><span class="id" title="binder">vs</span></a> <a id="Ts:38" class="idref" href="#Ts:38"><span class="id" title="binder">Ts</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#typ_es"><span class="id" title="definition">typ_es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#7157cf1298d28a4e1a18670b74a28bdb"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#vs:37"><span class="id" title="variable">vs</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Ts:38"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="80dd4b28d9107fe62a53a3025f98d379" class="idref" href="#80dd4b28d9107fe62a53a3025f98d379"><span class="id" title="binder">Γ'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#typ_es"><span class="id" title="definition">typ_es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#80dd4b28d9107fe62a53a3025f98d379"><span class="id" title="variable">Γ'</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#vs:37"><span class="id" title="variable">vs</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Ts:38"><span class="id" title="variable">Ts</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">vs</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ts</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">typ_es</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#typ_term_invariant"><span class="id" title="lemma">typ_term_invariant</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_preservation_eval" class="idref" href="#type_preservation_eval"><span class="id" title="lemma">type_preservation_eval</span></a>: <span class="id" title="notation">forall</span> <a id="2fa7cd36545270b450a92047d029dc99" class="idref" href="#2fa7cd36545270b450a92047d029dc99"><span class="id" title="binder">Γ</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="ABS.abs_defs.html#typ_F"><span class="id" title="inductive">typ_F</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#2fa7cd36545270b450a92047d029dc99"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.Fs"><span class="id" title="variable">Fs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="0d7d5da64a6e126f3552e88e570b8102" class="idref" href="#0d7d5da64a6e126f3552e88e570b8102"><span class="id" title="binder">σ</span></a><span class="id" title="notation">,</span> <a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#2fa7cd36545270b450a92047d029dc99"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#0d7d5da64a6e126f3552e88e570b8102"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="e0:42" class="idref" href="#e0:42"><span class="id" title="binder">e0</span></a> <a id="e1:43" class="idref" href="#e1:43"><span class="id" title="binder">e1</span></a> <a id="T0:44" class="idref" href="#T0:44"><span class="id" title="binder">T0</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#2fa7cd36545270b450a92047d029dc99"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#e0:42"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T0:44"><span class="id" title="variable">T0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imp.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.Fs"><span class="id" title="variable">Fs</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#0d7d5da64a6e126f3552e88e570b8102"><span class="id" title="variable">σ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#e0:42"><span class="id" title="variable">e0</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#e1:43"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#2fa7cd36545270b450a92047d029dc99"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#e1:43"><span class="id" title="variable">e1</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#T0:44"><span class="id" title="variable">T0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [σ' <span class="id" title="var">COMP</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_functional_metatheory.html#type_preservation"><span class="id" title="lemma">type_preservation</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.vars_fs_distinct"><span class="id" title="variable">vars_fs_distinct</span></a>  <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="var">COMP</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">Γ'</span> &amp; <span class="id" title="var">SUB</span> &amp; <span class="id" title="var">VDASH</span> &amp; <span class="id" title="var">TYP</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">inv</span> <span class="id" title="var">TYP</span>; <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="type_preservation_eval_list" class="idref" href="#type_preservation_eval_list"><span class="id" title="lemma">type_preservation_eval_list</span></a>: <span class="id" title="notation">forall</span> <a id="4ed02e109199bf6a9ed50eae935afb7c" class="idref" href="#4ed02e109199bf6a9ed50eae935afb7c"><span class="id" title="binder">Γ</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="ABS.abs_defs.html#typ_F"><span class="id" title="inductive">typ_F</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#4ed02e109199bf6a9ed50eae935afb7c"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.Fs"><span class="id" title="variable">Fs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="e93730f81c7d57a53384de85ec2132b9" class="idref" href="#e93730f81c7d57a53384de85ec2132b9"><span class="id" title="binder">σ</span></a><span class="id" title="notation">,</span> <a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#4ed02e109199bf6a9ed50eae935afb7c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#e93730f81c7d57a53384de85ec2132b9"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="es:47" class="idref" href="#es:47"><span class="id" title="binder">es</span></a> <a id="vs:48" class="idref" href="#vs:48"><span class="id" title="binder">vs</span></a> <a id="Ts:49" class="idref" href="#Ts:49"><span class="id" title="binder">Ts</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#typ_es"><span class="id" title="definition">typ_es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#4ed02e109199bf6a9ed50eae935afb7c"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#es:47"><span class="id" title="variable">es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Ts:49"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imp.html#eval_list"><span class="id" title="definition">eval_list</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.Fs"><span class="id" title="variable">Fs</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#e93730f81c7d57a53384de85ec2132b9"><span class="id" title="variable">σ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#es:47"><span class="id" title="variable">es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#vs:48"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#typ_es"><span class="id" title="definition">typ_es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#4ed02e109199bf6a9ed50eae935afb7c"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#vs:48"><span class="id" title="variable">vs</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Ts:49"><span class="id" title="variable">Ts</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">es</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">vs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ts</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">typ_es</span> <span class="id" title="var">eval_list</span> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#type_preservation_eval"><span class="id" title="lemma">type_preservation_eval</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Variant</span> <a id="match_method" class="idref" href="#match_method"><span class="id" title="inductive">match_method</span></a>: <a class="idref" href="ABS.abs_defs.html#m"><span class="id" title="definition">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#T"><span class="id" title="inductive">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#CL"><span class="id" title="inductive">CL</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a id="match_intro" class="idref" href="#match_intro"><span class="id" title="constructor">match_intro</span></a>: <span class="id" title="notation">forall</span> <a id="m:52" class="idref" href="#m:52"><span class="id" title="binder">m</span></a> <a id="method:53" class="idref" href="#method:53"><span class="id" title="binder">method</span></a> <a id="Cl:54" class="idref" href="#Cl:54"><span class="id" title="binder">Cl</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imp.html#get_method_decl"><span class="id" title="definition">get_method_decl</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#m:52"><span class="id" title="variable">m</span></a> (<a class="idref" href="ABS.abs_imp.html#get_methods"><span class="id" title="definition">get_methods</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Cl:54"><span class="id" title="variable">Cl</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#method:53"><span class="id" title="variable">method</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#match_method:50"><span class="id" title="inductive">match_method</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#m:52"><span class="id" title="variable">m</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ABS.abs_imp.html#get_params"><span class="id" title="definition">get_params</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#method:53"><span class="id" title="variable">method</span></a>)) (<a class="idref" href="ABS.abs_imp.html#get_type"><span class="id" title="definition">get_type</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#method:53"><span class="id" title="variable">method</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Cl:54"><span class="id" title="variable">Cl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variant</span> <a id="typ_rhs" class="idref" href="#typ_rhs"><span class="id" title="inductive">typ_rhs</span></a>: <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#rhs"><span class="id" title="inductive">rhs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#ctxv"><span class="id" title="inductive">ctxv</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="typ_rhs_e" class="idref" href="#typ_rhs_e"><span class="id" title="constructor">typ_rhs_e</span></a>: <span class="id" title="notation">forall</span> <a id="3877cd1a601e385130a2a78a6f978e97" class="idref" href="#3877cd1a601e385130a2a78a6f978e97"><span class="id" title="binder">Γ</span></a> <a id="e:58" class="idref" href="#e:58"><span class="id" title="binder">e</span></a> <a id="T:59" class="idref" href="#T:59"><span class="id" title="binder">T</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#3877cd1a601e385130a2a78a6f978e97"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#e:58"><span class="id" title="variable">e</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:59"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#typ_rhs:55"><span class="id" title="inductive">typ_rhs</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#3877cd1a601e385130a2a78a6f978e97"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="ABS.abs_defs.html#rhs_e"><span class="id" title="constructor">rhs_e</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#e:58"><span class="id" title="variable">e</span></a>) (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:59"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;| <a id="typ_rhs_invoc" class="idref" href="#typ_rhs_invoc"><span class="id" title="constructor">typ_rhs_invoc</span></a>: <span class="id" title="notation">forall</span> <a id="0fd58672988bb7094daf640098f3cbf6" class="idref" href="#0fd58672988bb7094daf640098f3cbf6"><span class="id" title="binder">Γ</span></a> <a id="m:61" class="idref" href="#m:61"><span class="id" title="binder">m</span></a> <a id="o:62" class="idref" href="#o:62"><span class="id" title="binder">o</span></a> <a id="es:63" class="idref" href="#es:63"><span class="id" title="binder">es</span></a> <a id="Cl:64" class="idref" href="#Cl:64"><span class="id" title="binder">Cl</span></a> <a id="Ts:65" class="idref" href="#Ts:65"><span class="id" title="binder">Ts</span></a> <a id="T:66" class="idref" href="#T:66"><span class="id" title="binder">T</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#typ_es"><span class="id" title="definition">typ_es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#0fd58672988bb7094daf640098f3cbf6"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#es:63"><span class="id" title="variable">es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Ts:65"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imp.html#get_class_decl"><span class="id" title="definition">get_class_decl</span></a> (<a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.class_of"><span class="id" title="variable">class_of</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#o:62"><span class="id" title="variable">o</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.Cs"><span class="id" title="variable">Cs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Cl:64"><span class="id" title="variable">Cl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#match_method"><span class="id" title="inductive">match_method</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#m:61"><span class="id" title="variable">m</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Ts:65"><span class="id" title="variable">Ts</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:66"><span class="id" title="variable">T</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Cl:64"><span class="id" title="variable">Cl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#typ_rhs:55"><span class="id" title="inductive">typ_rhs</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#0fd58672988bb7094daf640098f3cbf6"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="ABS.abs_defs.html#rhs_invoc"><span class="id" title="constructor">rhs_invoc</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#o:62"><span class="id" title="variable">o</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#m:61"><span class="id" title="variable">m</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#es:63"><span class="id" title="variable">es</span></a>) (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:66"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;| <a id="typ_rhs_get" class="idref" href="#typ_rhs_get"><span class="id" title="constructor">typ_rhs_get</span></a>: <span class="id" title="notation">forall</span> <a id="9cd1870a4a886601ca6d9db2f5bb0b92" class="idref" href="#9cd1870a4a886601ca6d9db2f5bb0b92"><span class="id" title="binder">Γ</span></a> <a id="f:68" class="idref" href="#f:68"><span class="id" title="binder">f</span></a> <a id="T:69" class="idref" href="#T:69"><span class="id" title="binder">T</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#9cd1870a4a886601ca6d9db2f5bb0b92"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:68"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_fut"><span class="id" title="constructor">ctxv_fut</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:69"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#typ_rhs:55"><span class="id" title="inductive">typ_rhs</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#9cd1870a4a886601ca6d9db2f5bb0b92"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="ABS.abs_defs.html#rhs_get"><span class="id" title="constructor">rhs_get</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:68"><span class="id" title="variable">f</span></a>) (<a class="idref" href="ABS.abs_defs.html#ctxv_T"><span class="id" title="constructor">ctxv_T</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:69"><span class="id" title="variable">T</span></a>)<br/>
.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="stmt_well_typed" class="idref" href="#stmt_well_typed"><span class="id" title="definition, inductive"><span id="stmt_well_typed_ind" class="id"><span id="stmt_well_typed_sind" class="id">stmt_well_typed</span></span></span></a>: <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#stmt"><span class="id" title="inductive">stmt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="typ_stmt_seq" class="idref" href="#typ_stmt_seq"><span class="id" title="constructor">typ_stmt_seq</span></a>: <span class="id" title="notation">forall</span> <a id="G:72" class="idref" href="#G:72"><span class="id" title="binder">G</span></a> <a id="s1:73" class="idref" href="#s1:73"><span class="id" title="binder">s1</span></a> <a id="s2:74" class="idref" href="#s2:74"><span class="id" title="binder">s2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed:70"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:72"><span class="id" title="variable">G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#s1:73"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed:70"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:72"><span class="id" title="variable">G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#s2:74"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed:70"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:72"><span class="id" title="variable">G</span></a> (<a class="idref" href="ABS.abs_defs.html#stmt_seq"><span class="id" title="constructor">stmt_seq</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#s1:73"><span class="id" title="variable">s1</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#s2:74"><span class="id" title="variable">s2</span></a>)<br/>
<br/>
| <a id="stmt_well_typed_skip" class="idref" href="#stmt_well_typed_skip"><span class="id" title="constructor">stmt_well_typed_skip</span></a>: <span class="id" title="notation">forall</span> <a id="G:75" class="idref" href="#G:75"><span class="id" title="binder">G</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed:70"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:75"><span class="id" title="variable">G</span></a> <a class="idref" href="ABS.abs_defs.html#stmt_skip"><span class="id" title="constructor">stmt_skip</span></a><br/>
<br/>
| <a id="stmt_well_typed_asgn" class="idref" href="#stmt_well_typed_asgn"><span class="id" title="constructor">stmt_well_typed_asgn</span></a>: <span class="id" title="notation">forall</span> <a id="G:76" class="idref" href="#G:76"><span class="id" title="binder">G</span></a> <a id="x:77" class="idref" href="#x:77"><span class="id" title="binder">x</span></a> <a id="r:78" class="idref" href="#r:78"><span class="id" title="binder">r</span></a> <a id="T:79" class="idref" href="#T:79"><span class="id" title="binder">T</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#G:76"><span class="id" title="variable">G</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#x:77"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:79"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#typ_rhs"><span class="id" title="inductive">typ_rhs</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:76"><span class="id" title="variable">G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#r:78"><span class="id" title="variable">r</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:79"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed:70"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:76"><span class="id" title="variable">G</span></a> (<a class="idref" href="ABS.abs_defs.html#stmt_asgn"><span class="id" title="constructor">stmt_asgn</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#x:77"><span class="id" title="variable">x</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#r:78"><span class="id" title="variable">r</span></a>)<br/>
<br/>
| <a id="stmt_well_typed_cond" class="idref" href="#stmt_well_typed_cond"><span class="id" title="constructor">stmt_well_typed_cond</span></a>: <span class="id" title="notation">forall</span> <a id="G:80" class="idref" href="#G:80"><span class="id" title="binder">G</span></a> <a id="b:81" class="idref" href="#b:81"><span class="id" title="binder">b</span></a> <a id="s1:82" class="idref" href="#s1:82"><span class="id" title="binder">s1</span></a> <a id="s2:83" class="idref" href="#s2:83"><span class="id" title="binder">s2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:80"><span class="id" title="variable">G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#b:81"><span class="id" title="variable">b</span></a> <a class="idref" href="ABS.abs_defs.html#T_bool"><span class="id" title="constructor">T_bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed:70"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:80"><span class="id" title="variable">G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#s1:82"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed:70"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:80"><span class="id" title="variable">G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#s2:83"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed:70"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:80"><span class="id" title="variable">G</span></a> (<a class="idref" href="ABS.abs_defs.html#stmt_cond"><span class="id" title="constructor">stmt_cond</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#b:81"><span class="id" title="variable">b</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#s1:82"><span class="id" title="variable">s1</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#s2:83"><span class="id" title="variable">s2</span></a>)<br/>
<br/>
| <a id="stmt_well_typed_loop" class="idref" href="#stmt_well_typed_loop"><span class="id" title="constructor">stmt_well_typed_loop</span></a>: <span class="id" title="notation">forall</span> <a id="G:84" class="idref" href="#G:84"><span class="id" title="binder">G</span></a> <a id="b:85" class="idref" href="#b:85"><span class="id" title="binder">b</span></a> <a id="s:86" class="idref" href="#s:86"><span class="id" title="binder">s</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:84"><span class="id" title="variable">G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#b:85"><span class="id" title="variable">b</span></a> <a class="idref" href="ABS.abs_defs.html#T_bool"><span class="id" title="constructor">T_bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed:70"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:84"><span class="id" title="variable">G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#s:86"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed:70"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:84"><span class="id" title="variable">G</span></a> (<a class="idref" href="ABS.abs_defs.html#stmt_loop"><span class="id" title="constructor">stmt_loop</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#b:85"><span class="id" title="variable">b</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#s:86"><span class="id" title="variable">s</span></a>)<br/>
<br/>
| <a id="stmt_well_typed_return" class="idref" href="#stmt_well_typed_return"><span class="id" title="constructor">stmt_well_typed_return</span></a>: <span class="id" title="notation">forall</span> <a id="G:87" class="idref" href="#G:87"><span class="id" title="binder">G</span></a> <a id="e:88" class="idref" href="#e:88"><span class="id" title="binder">e</span></a> <a id="T:89" class="idref" href="#T:89"><span class="id" title="binder">T</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:87"><span class="id" title="variable">G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#e:88"><span class="id" title="variable">e</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:89"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#G:87"><span class="id" title="variable">G</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_imp.html#destiny"><span class="id" title="definition">destiny</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_fut"><span class="id" title="constructor">ctxv_fut</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:89"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed:70"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:87"><span class="id" title="variable">G</span></a> (<a class="idref" href="ABS.abs_defs.html#stmt_ret"><span class="id" title="constructor">stmt_ret</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#e:88"><span class="id" title="variable">e</span></a>)<br/>
.<br/>

<br/>
<span class="id" title="keyword">Variant</span> <a id="task_well_typed" class="idref" href="#task_well_typed"><span class="id" title="inductive">task_well_typed</span></a>: <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="ABS.abs_defs.html#task"><span class="id" title="inductive">task</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="task_wt_idle" class="idref" href="#task_wt_idle"><span class="id" title="constructor">task_wt_idle</span></a>: <span class="id" title="notation">forall</span> <a id="18b65183169430780c923a692a483264" class="idref" href="#18b65183169430780c923a692a483264"><span class="id" title="binder">Γ</span></a><span class="id" title="notation">,</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#task_well_typed:90"><span class="id" title="inductive">task_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#18b65183169430780c923a692a483264"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a id="task_wt" class="idref" href="#task_wt"><span class="id" title="constructor">task_wt</span></a>: <span class="id" title="notation">forall</span> <a id="5ce56e56b761cd50da72eb3c93ee8349" class="idref" href="#5ce56e56b761cd50da72eb3c93ee8349"><span class="id" title="binder">Γ</span></a> <a id="stmt:94" class="idref" href="#stmt:94"><span class="id" title="binder">stmt</span></a> <a id="l:95" class="idref" href="#l:95"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;this&nbsp;differs&nbsp;from&nbsp;the&nbsp;paper&nbsp;since&nbsp;we&nbsp;do&nbsp;not&nbsp;treat&nbsp;l&nbsp;as&nbsp;a&nbsp;typed&nbsp;list&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;G_vdash_s&nbsp;Γ&nbsp;l&nbsp;-&gt;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#5ce56e56b761cd50da72eb3c93ee8349"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#stmt:94"><span class="id" title="variable">stmt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#task_well_typed:90"><span class="id" title="inductive">task_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#5ce56e56b761cd50da72eb3c93ee8349"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ABS.abs_defs.html#tsk"><span class="id" title="constructor">tsk</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#stmt:94"><span class="id" title="variable">stmt</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#l:95"><span class="id" title="variable">l</span></a>))<br/>
.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="queue_well_typed" class="idref" href="#queue_well_typed"><span class="id" title="definition">queue_well_typed</span></a> (<a id="8390bcd372144a00bd1845dbd75d2a34" class="idref" href="#8390bcd372144a00bd1845dbd75d2a34"><span class="id" title="binder">Γ</span></a>:<a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) (<a id="q:97" class="idref" href="#q:97"><span class="id" title="binder">q</span></a>:<a class="idref" href="ABS.abs_defs.html#queue"><span class="id" title="definition">queue</span></a>) := <span class="id" title="notation">forall</span> <a id="t:98" class="idref" href="#t:98"><span class="id" title="binder">t</span></a><span class="id" title="notation">,</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#t:98"><span class="id" title="variable">t</span></a> <span class="id" title="notation">∈</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#q:97"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#task_well_typed"><span class="id" title="inductive">task_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#8390bcd372144a00bd1845dbd75d2a34"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#t:98"><span class="id" title="variable">t</span></a>).<br/>

<br/>
<span class="id" title="keyword">Variant</span> <a id="cn_well_typed" class="idref" href="#cn_well_typed"><span class="id" title="inductive">cn_well_typed</span></a>: <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#cn"><span class="id" title="inductive">cn</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="ob_wt" class="idref" href="#ob_wt"><span class="id" title="constructor">ob_wt</span></a>: <span class="id" title="notation">forall</span> <a id="34cd44dd39c6730766cf1b6ffd7a4239" class="idref" href="#34cd44dd39c6730766cf1b6ffd7a4239"><span class="id" title="binder">Γ</span></a> <a id="c:102" class="idref" href="#c:102"><span class="id" title="binder">c</span></a> <a id="Cl:103" class="idref" href="#Cl:103"><span class="id" title="binder">Cl</span></a> <a id="a:104" class="idref" href="#a:104"><span class="id" title="binder">a</span></a> <a id="p:105" class="idref" href="#p:105"><span class="id" title="binder">p</span></a> <a id="q:106" class="idref" href="#q:106"><span class="id" title="binder">q</span></a> <a id="fields:107" class="idref" href="#fields:107"><span class="id" title="binder">fields</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;paper&nbsp;also&nbsp;checks&nbsp;fields(Γ(o)),&nbsp;but&nbsp;we&nbsp;would&nbsp;need&nbsp;another&nbsp;case&nbsp;for&nbsp;ctxv&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imp.html#get_class_decl"><span class="id" title="definition">get_class_decl</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#c:102"><span class="id" title="variable">c</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.Cs"><span class="id" title="variable">Cs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Cl:103"><span class="id" title="variable">Cl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imp.html#get_fields"><span class="id" title="definition">get_fields</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Cl:103"><span class="id" title="variable">Cl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#fields:107"><span class="id" title="variable">fields</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#queue_well_typed"><span class="id" title="definition">queue_well_typed</span></a> (<a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#34cd44dd39c6730766cf1b6ffd7a4239"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#fields:107"><span class="id" title="variable">fields</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#q:106"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#task_well_typed"><span class="id" title="inductive">task_well_typed</span></a> (<a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#34cd44dd39c6730766cf1b6ffd7a4239"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#fields:107"><span class="id" title="variable">fields</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#p:105"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_functional_metatheory.html#G_vdash_s"><span class="id" title="definition">G_vdash_s</span></a> (<a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#34cd44dd39c6730766cf1b6ffd7a4239"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#fields:107"><span class="id" title="variable">fields</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#a:104"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#cn_well_typed:99"><span class="id" title="inductive">cn_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#34cd44dd39c6730766cf1b6ffd7a4239"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="ABS.abs_defs.html#cn_object"><span class="id" title="constructor">cn_object</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#c:102"><span class="id" title="variable">c</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#a:104"><span class="id" title="variable">a</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#p:105"><span class="id" title="variable">p</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#q:106"><span class="id" title="variable">q</span></a>)<br/>
&nbsp;&nbsp;| <a id="inv_wt" class="idref" href="#inv_wt"><span class="id" title="constructor">inv_wt</span></a>: <span class="id" title="notation">forall</span> <a id="21b110d90ed5334f39e3c13b8af174d2" class="idref" href="#21b110d90ed5334f39e3c13b8af174d2"><span class="id" title="binder">Γ</span></a> <a id="o:109" class="idref" href="#o:109"><span class="id" title="binder">o</span></a> <a id="f:110" class="idref" href="#f:110"><span class="id" title="binder">f</span></a> <a id="T:111" class="idref" href="#T:111"><span class="id" title="binder">T</span></a> <a id="Ts:112" class="idref" href="#Ts:112"><span class="id" title="binder">Ts</span></a> <a id="m:113" class="idref" href="#m:113"><span class="id" title="binder">m</span></a> <a id="vs:114" class="idref" href="#vs:114"><span class="id" title="binder">vs</span></a> <a id="Cl:115" class="idref" href="#Cl:115"><span class="id" title="binder">Cl</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#21b110d90ed5334f39e3c13b8af174d2"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:110"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_fut"><span class="id" title="constructor">ctxv_fut</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:111"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#typ_es"><span class="id" title="definition">typ_es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#21b110d90ed5334f39e3c13b8af174d2"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#vs:114"><span class="id" title="variable">vs</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Ts:112"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imp.html#get_class_decl"><span class="id" title="definition">get_class_decl</span></a> (<a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.class_of"><span class="id" title="variable">class_of</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#o:109"><span class="id" title="variable">o</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.Cs"><span class="id" title="variable">Cs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Cl:115"><span class="id" title="variable">Cl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#match_method"><span class="id" title="inductive">match_method</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#m:113"><span class="id" title="variable">m</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Ts:112"><span class="id" title="variable">Ts</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:111"><span class="id" title="variable">T</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Cl:115"><span class="id" title="variable">Cl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#cn_well_typed:99"><span class="id" title="inductive">cn_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#21b110d90ed5334f39e3c13b8af174d2"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="ABS.abs_defs.html#cn_invoc"><span class="id" title="constructor">cn_invoc</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#o:109"><span class="id" title="variable">o</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:110"><span class="id" title="variable">f</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#m:113"><span class="id" title="variable">m</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#vs:114"><span class="id" title="variable">vs</span></a>)<br/>
&nbsp;&nbsp;| <a id="fut_wt_none" class="idref" href="#fut_wt_none"><span class="id" title="constructor">fut_wt_none</span></a>: <span class="id" title="notation">forall</span> <a id="G:116" class="idref" href="#G:116"><span class="id" title="binder">G</span></a> <a id="f:117" class="idref" href="#f:117"><span class="id" title="binder">f</span></a> <a id="T:118" class="idref" href="#T:118"><span class="id" title="binder">T</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#G:116"><span class="id" title="variable">G</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:117"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_fut"><span class="id" title="constructor">ctxv_fut</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:118"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#cn_well_typed:99"><span class="id" title="inductive">cn_well_typed</span></a>  <a class="idref" href="ABS.abs_imperative_metatheory.html#G:116"><span class="id" title="variable">G</span></a> (<a class="idref" href="ABS.abs_defs.html#cn_future"><span class="id" title="constructor">cn_future</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:117"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;| <a id="fut_wt_some" class="idref" href="#fut_wt_some"><span class="id" title="constructor">fut_wt_some</span></a>: <span class="id" title="notation">forall</span> <a id="G:119" class="idref" href="#G:119"><span class="id" title="binder">G</span></a> <a id="f:120" class="idref" href="#f:120"><span class="id" title="binder">f</span></a> <a id="t:121" class="idref" href="#t:121"><span class="id" title="binder">t</span></a> <a id="T:122" class="idref" href="#T:122"><span class="id" title="binder">T</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#G:119"><span class="id" title="variable">G</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:120"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_fut"><span class="id" title="constructor">ctxv_fut</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:122"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_defs.html#typ_e"><span class="id" title="inductive">typ_e</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G:119"><span class="id" title="variable">G</span></a> (<a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#t:121"><span class="id" title="variable">t</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#T:122"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#cn_well_typed:99"><span class="id" title="inductive">cn_well_typed</span></a>  <a class="idref" href="ABS.abs_imperative_metatheory.html#G:119"><span class="id" title="variable">G</span></a> (<a class="idref" href="ABS.abs_defs.html#cn_future"><span class="id" title="constructor">cn_future</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:120"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#t:121"><span class="id" title="variable">t</span></a>))<br/>
.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">unfold_typing</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="ABS.abs_imperative_metatheory.html#cn_well_typed"><span class="id" title="inductive">cn_well_typed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">inv</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="ABS.abs_imperative_metatheory.html#task_well_typed"><span class="id" title="inductive">task_well_typed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">inv</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed"><span class="id" title="inductive">stmt_well_typed</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ABS.abs_defs.html#stmt_seq"><span class="id" title="constructor">stmt_seq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">inv</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed"><span class="id" title="inductive">stmt_well_typed</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ABS.abs_defs.html#stmt_asgn"><span class="id" title="constructor">stmt_asgn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">inv</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed"><span class="id" title="inductive">stmt_well_typed</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ABS.abs_defs.html#stmt_cond"><span class="id" title="constructor">stmt_cond</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">inv</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed"><span class="id" title="inductive">stmt_well_typed</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ABS.abs_defs.html#stmt_loop"><span class="id" title="constructor">stmt_loop</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">inv</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed"><span class="id" title="inductive">stmt_well_typed</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ABS.abs_defs.html#stmt_ret"><span class="id" title="constructor">stmt_ret</span></a> <span class="id" title="var">_</span>) |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">inv</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="ABS.abs_imperative_metatheory.html#typ_rhs"><span class="id" title="inductive">typ_rhs</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="var">inv</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="config_well_typed" class="idref" href="#config_well_typed"><span class="id" title="definition">config_well_typed</span></a> (<a id="G0:123" class="idref" href="#G0:123"><span class="id" title="binder">G0</span></a>:<a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a>) (<a id="conf:124" class="idref" href="#conf:124"><span class="id" title="binder">conf</span></a>: <a class="idref" href="ABS.abs_imp.html#config"><span class="id" title="definition">config</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="i:125" class="idref" href="#i:125"><span class="id" title="binder">i</span></a> <a id="ob:126" class="idref" href="#ob:126"><span class="id" title="binder">ob</span></a><span class="id" title="notation">,</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#conf:124"><span class="id" title="variable">conf</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#i:125"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#ob:126"><span class="id" title="variable">ob</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#cn_well_typed"><span class="id" title="inductive">cn_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G0:123"><span class="id" title="variable">G0</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#ob:126"><span class="id" title="variable">ob</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;should&nbsp;be&nbsp;a&nbsp;theorem,&nbsp;but&nbsp;will&nbsp;require&nbsp;some&nbsp;assumptions&nbsp;on&nbsp;name_of/id_of&nbsp;and&nbsp;typing&nbsp;of&nbsp;futures&nbsp;*)</span><br/>
<span class="id" title="keyword">Lemma</span> <a id="fresh_config_wt" class="idref" href="#fresh_config_wt"><span class="id" title="lemma">fresh_config_wt</span></a>: <span class="id" title="notation">forall</span> <a id="6e782b379a22be72fd8811f565d97df0" class="idref" href="#6e782b379a22be72fd8811f565d97df0"><span class="id" title="binder">Γ</span></a> <a id="f:128" class="idref" href="#f:128"><span class="id" title="binder">f</span></a> <a id="be7d724cef42ede231da03c6b84e5996" class="idref" href="#be7d724cef42ede231da03c6b84e5996"><span class="id" title="binder">σ</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imp.html#fresh"><span class="id" title="definition">fresh</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:128"><span class="id" title="variable">f</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#be7d724cef42ede231da03c6b84e5996"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#config_well_typed"><span class="id" title="definition">config_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#be7d724cef42ede231da03c6b84e5996"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:128"><span class="id" title="variable">f</span></a> <span class="id" title="notation">∉</span> <span class="id" title="definition">dom</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#6e782b379a22be72fd8811f565d97df0"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ABS.abs_imp.html#fresh"><span class="id" title="definition">fresh</span></a>, <a class="idref" href="ABS.abs_imperative_metatheory.html#config_well_typed"><span class="id" title="definition">config_well_typed</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (σ <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of"><span class="id" title="variable">id_of</span></a> <span class="id" title="var">f</span>) <span class="id" title="var">eqn</span>:?.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of_well_typed"><span class="id" title="variable">id_of_well_typed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heqo</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">FUT_WT</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FUT_WT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heqo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of_consistent"><span class="id" title="variable">id_of_consistent</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heqo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;this&nbsp;seems&nbsp;problematic&nbsp;*)</span><br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="q_wt_remove" class="idref" href="#q_wt_remove"><span class="id" title="lemma">q_wt_remove</span></a>: <span class="id" title="notation">forall</span>  <a id="G0:130" class="idref" href="#G0:130"><span class="id" title="binder">G0</span></a> <a id="q:131" class="idref" href="#q:131"><span class="id" title="binder">q</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#queue_well_typed"><span class="id" title="definition">queue_well_typed</span></a>  <a class="idref" href="ABS.abs_imperative_metatheory.html#G0:130"><span class="id" title="variable">G0</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#q:131"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="t:132" class="idref" href="#t:132"><span class="id" title="binder">t</span></a><span class="id" title="notation">,</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#queue_well_typed"><span class="id" title="definition">queue_well_typed</span></a>  <a class="idref" href="ABS.abs_imperative_metatheory.html#G0:130"><span class="id" title="variable">G0</span></a> (<a class="idref" href="ABS.abs_imp.html#remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#t:132"><span class="id" title="variable">t</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#q:131"><span class="id" title="variable">q</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">multiset_solver</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="q_wt_add" class="idref" href="#q_wt_add"><span class="id" title="lemma">q_wt_add</span></a>: <span class="id" title="notation">forall</span>  <a id="G0:133" class="idref" href="#G0:133"><span class="id" title="binder">G0</span></a> <a id="q:134" class="idref" href="#q:134"><span class="id" title="binder">q</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#queue_well_typed"><span class="id" title="definition">queue_well_typed</span></a>  <a class="idref" href="ABS.abs_imperative_metatheory.html#G0:133"><span class="id" title="variable">G0</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#q:134"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="t:135" class="idref" href="#t:135"><span class="id" title="binder">t</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#task_well_typed"><span class="id" title="inductive">task_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G0:133"><span class="id" title="variable">G0</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#t:135"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#queue_well_typed"><span class="id" title="definition">queue_well_typed</span></a>  <a class="idref" href="ABS.abs_imperative_metatheory.html#G0:133"><span class="id" title="variable">G0</span></a> (<a class="idref" href="ABS.abs_imp.html#add"><span class="id" title="definition">add</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#t:135"><span class="id" title="variable">t</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#q:134"><span class="id" title="variable">q</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_disj_union</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">gmultiset_elem_of_singleton</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="comment">(*&nbsp;this&nbsp;is&nbsp;a&nbsp;problem:&nbsp;well-typing&nbsp;of&nbsp;tasks&nbsp;is&nbsp;not&nbsp;closed&nbsp;under&nbsp;extensions&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;currently&nbsp;commented&nbsp;out&nbsp;along&nbsp;with&nbsp;the&nbsp;G_vdash_part&nbsp;of&nbsp;task_well_typed&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Fact&nbsp;subG_task_wt&nbsp;:&nbsp;exists&nbsp;Γ1&nbsp;Γ2&nbsp;t,&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Γ1&nbsp;⊆&nbsp;Γ2&nbsp;/\&nbsp;task_well_typed&nbsp;&nbsp;Γ1&nbsp;t&nbsp;/\&nbsp;~&nbsp;task_well_typed&nbsp;&nbsp;Γ2&nbsp;t.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Proof.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;exists&nbsp;∅,&nbsp;(&lt;<span class="inlinecode">&quot;<span class="id" title="var">x</span>&quot;:=<span class="id" title="var">ctxv_T</span></span> <span class="inlinecode"><span class="id" title="var">T_bool</span></span>&gt;&nbsp;∅),&nbsp;(Some&nbsp;(tsk&nbsp;stmt_skip&nbsp;(&lt;<span class="inlinecode">&quot;<span class="id" title="var">x</span>&quot;:=<span class="id" title="var">t_int</span></span> <span class="inlinecode"><span class="id" title="var">Z0</span></span>&gt;&nbsp;∅))).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;splits.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;now&nbsp;apply&nbsp;insert_subseteq.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;econstructor.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;intros*.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;constructor.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;-&nbsp;inv&nbsp;1.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pose&nbsp;proof&nbsp;H3&nbsp;"x"&nbsp;(ctxv_T&nbsp;T_bool)&nbsp;as&nbsp;(?t'&nbsp;&amp;&nbsp;?&nbsp;&amp;&nbsp;?);&nbsp;auto.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl&nbsp;in&nbsp;H0.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H0.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Qed.&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_typ_es" class="idref" href="#subG_typ_es"><span class="id" title="lemma">subG_typ_es</span></a>: <span class="id" title="notation">forall</span> <a id="G1:136" class="idref" href="#G1:136"><span class="id" title="binder">G1</span></a> <a id="G2:137" class="idref" href="#G2:137"><span class="id" title="binder">G2</span></a> <a id="es:138" class="idref" href="#es:138"><span class="id" title="binder">es</span></a> <a id="Ts:139" class="idref" href="#Ts:139"><span class="id" title="binder">Ts</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">subseteq</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#G1:136"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G2:137"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_util.html#typ_es"><span class="id" title="definition">typ_es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G1:136"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#es:138"><span class="id" title="variable">es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Ts:139"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_util.html#typ_es"><span class="id" title="definition">typ_es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G2:137"><span class="id" title="variable">G2</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#es:138"><span class="id" title="variable">es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Ts:139"><span class="id" title="variable">Ts</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">es</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Ts</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">typ_es</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_typ_rhs" class="idref" href="#subG_typ_rhs"><span class="id" title="lemma">subG_typ_rhs</span></a>: <span class="id" title="notation">forall</span> <a id="G1:140" class="idref" href="#G1:140"><span class="id" title="binder">G1</span></a> <a id="G2:141" class="idref" href="#G2:141"><span class="id" title="binder">G2</span></a> <a id="r:142" class="idref" href="#r:142"><span class="id" title="binder">r</span></a> <a id="T0:143" class="idref" href="#T0:143"><span class="id" title="binder">T0</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">subseteq</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#G1:140"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G2:141"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#typ_rhs"><span class="id" title="inductive">typ_rhs</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G1:140"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#r:142"><span class="id" title="variable">r</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T0:143"><span class="id" title="variable">T0</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#typ_rhs"><span class="id" title="inductive">typ_rhs</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G2:141"><span class="id" title="variable">G2</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#r:142"><span class="id" title="variable">r</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T0:143"><span class="id" title="variable">T0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#subG_typ_es"><span class="id" title="lemma">subG_typ_es</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_stmt_wt" class="idref" href="#subG_stmt_wt"><span class="id" title="lemma">subG_stmt_wt</span></a>: <span class="id" title="notation">forall</span> <a id="G1:144" class="idref" href="#G1:144"><span class="id" title="binder">G1</span></a> <a id="G2:145" class="idref" href="#G2:145"><span class="id" title="binder">G2</span></a> <a id="st:146" class="idref" href="#st:146"><span class="id" title="binder">st</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">subseteq</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#G1:144"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G2:145"><span class="id" title="variable">G2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G1:144"><span class="id" title="variable">G1</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#st:146"><span class="id" title="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#stmt_well_typed"><span class="id" title="inductive">stmt_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#G2:145"><span class="id" title="variable">G2</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#st:146"><span class="id" title="variable">st</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#subG_typ_rhs"><span class="id" title="lemma">subG_typ_rhs</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_functional_metatheory.html#subG_type"><span class="id" title="lemma">subG_type</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_task_wt" class="idref" href="#subG_task_wt"><span class="id" title="lemma">subG_task_wt</span></a> : <span class="id" title="notation">forall</span> <a id="a3c69da0740266d11f9f181c1a5d3c16" class="idref" href="#a3c69da0740266d11f9f181c1a5d3c16"><span class="id" title="binder">Γ1</span></a> <a id="92fc3b6582bb1836f38ac024afd4d125" class="idref" href="#92fc3b6582bb1836f38ac024afd4d125"><span class="id" title="binder">Γ2</span></a> <a id="t:149" class="idref" href="#t:149"><span class="id" title="binder">t</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#a3c69da0740266d11f9f181c1a5d3c16"><span class="id" title="variable">Γ1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#92fc3b6582bb1836f38ac024afd4d125"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#task_well_typed"><span class="id" title="inductive">task_well_typed</span></a>  <a class="idref" href="ABS.abs_imperative_metatheory.html#a3c69da0740266d11f9f181c1a5d3c16"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#t:149"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#task_well_typed"><span class="id" title="inductive">task_well_typed</span></a>  <a class="idref" href="ABS.abs_imperative_metatheory.html#92fc3b6582bb1836f38ac024afd4d125"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#t:149"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#subG_stmt_wt"><span class="id" title="lemma">subG_stmt_wt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="subG_queue_wt" class="idref" href="#subG_queue_wt"><span class="id" title="lemma">subG_queue_wt</span></a> : <span class="id" title="notation">forall</span> <a id="e4b3bda945c762f85f8242a7b53881d6" class="idref" href="#e4b3bda945c762f85f8242a7b53881d6"><span class="id" title="binder">Γ1</span></a> <a id="6b4344786b22f2b2091d4accb371b84e" class="idref" href="#6b4344786b22f2b2091d4accb371b84e"><span class="id" title="binder">Γ2</span></a> <a id="q:152" class="idref" href="#q:152"><span class="id" title="binder">q</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#e4b3bda945c762f85f8242a7b53881d6"><span class="id" title="variable">Γ1</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#6b4344786b22f2b2091d4accb371b84e"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#queue_well_typed"><span class="id" title="definition">queue_well_typed</span></a>  <a class="idref" href="ABS.abs_imperative_metatheory.html#e4b3bda945c762f85f8242a7b53881d6"><span class="id" title="variable">Γ1</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#q:152"><span class="id" title="variable">q</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#queue_well_typed"><span class="id" title="definition">queue_well_typed</span></a>  <a class="idref" href="ABS.abs_imperative_metatheory.html#6b4344786b22f2b2091d4accb371b84e"><span class="id" title="variable">Γ2</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#q:152"><span class="id" title="variable">q</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#subG_task_wt"><span class="id" title="lemma">subG_task_wt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fresh_extend_wt" class="idref" href="#fresh_extend_wt"><span class="id" title="lemma">fresh_extend_wt</span></a>: <span class="id" title="notation">forall</span> <a id="0b1d36bafaa941ab7a57d708cb325dca" class="idref" href="#0b1d36bafaa941ab7a57d708cb325dca"><span class="id" title="binder">Γ</span></a> <a id="ecc6aeab7da32654fff186cbfc4b6052" class="idref" href="#ecc6aeab7da32654fff186cbfc4b6052"><span class="id" title="binder">σ</span></a> <a id="f:155" class="idref" href="#f:155"><span class="id" title="binder">f</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#config_well_typed"><span class="id" title="definition">config_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#0b1d36bafaa941ab7a57d708cb325dca"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#ecc6aeab7da32654fff186cbfc4b6052"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imp.html#fresh"><span class="id" title="definition">fresh</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:155"><span class="id" title="variable">f</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#ecc6aeab7da32654fff186cbfc4b6052"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="T_:156" class="idref" href="#T_:156"><span class="id" title="binder">T_</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#config_well_typed"><span class="id" title="definition">config_well_typed</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="ABS.abs_imperative_metatheory.html#f:155"><span class="id" title="variable">f</span></a><span class="id" title="notation">:=</span><a class="idref" href="ABS.abs_imperative_metatheory.html#T_:156"><span class="id" title="variable">T_</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">Γ</span>) <a class="idref" href="ABS.abs_imperative_metatheory.html#ecc6aeab7da32654fff186cbfc4b6052"><span class="id" title="variable">σ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">ob</span> <span class="id" title="var">LUi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of"><span class="id" title="variable">id_of</span></a> <span class="id" title="var">f</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">fi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">is_eq</span> <span class="id" title="var">i</span> <span class="id" title="var">fi</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of_well_typed"><span class="id" title="variable">id_of_well_typed</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">LUi</span> <span class="id" title="keyword">as</span> <span class="id" title="var">FUT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FUT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">LUi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of_consistent"><span class="id" title="variable">id_of_consistent</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">LUi</span> <span class="id" title="keyword">as</span> &lt;- .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H</span> <span class="id" title="var">i</span> <span class="id" title="var">ob</span> <span class="id" title="var">LUi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ob</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">enough</span> (<span class="id" title="var">diff</span> : <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">f5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">to5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">i</span> <span class="id" title="keyword">with</span> (<a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of"><span class="id" title="variable">id_of</span></a> (<a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.name_of"><span class="id" title="variable">name_of</span></a> <span class="id" title="var">i</span>)) <span class="id" title="tactic">in</span> *<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of_name_of"><span class="id" title="variable">id_of_name_of</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of_consistent"><span class="id" title="variable">id_of_consistent</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">LUi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;adding&nbsp;a&nbsp;future&nbsp;to&nbsp;the&nbsp;context&nbsp;does&nbsp;not&nbsp;impact&nbsp;typing&nbsp;of&nbsp;an&nbsp;object&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;for&nbsp;invocations&nbsp;it&nbsp;is&nbsp;less&nbsp;obvious&nbsp;*)</span><br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="bind_wt" class="idref" href="#bind_wt"><span class="id" title="lemma">bind_wt</span></a>: <span class="id" title="notation">forall</span> <a id="m:157" class="idref" href="#m:157"><span class="id" title="binder">m</span></a> <a id="Ts:158" class="idref" href="#Ts:158"><span class="id" title="binder">Ts</span></a> <a id="T:159" class="idref" href="#T:159"><span class="id" title="binder">T</span></a> <a id="CL:160" class="idref" href="#CL:160"><span class="id" title="binder">CL</span></a> <a id="vs:161" class="idref" href="#vs:161"><span class="id" title="binder">vs</span></a> <a id="f:162" class="idref" href="#f:162"><span class="id" title="binder">f</span></a> <a id="tsk:163" class="idref" href="#tsk:163"><span class="id" title="binder">tsk</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#match_method"><span class="id" title="inductive">match_method</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#m:157"><span class="id" title="variable">m</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Ts:158"><span class="id" title="variable">Ts</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:159"><span class="id" title="variable">T</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#CL:160"><span class="id" title="variable">CL</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imp.html#bind"><span class="id" title="definition">bind</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#m:157"><span class="id" title="variable">m</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#vs:161"><span class="id" title="variable">vs</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:162"><span class="id" title="variable">f</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#CL:160"><span class="id" title="variable">CL</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#tsk:163"><span class="id" title="variable">tsk</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="2ad36155a1dcd609408bc407f39872c1" class="idref" href="#2ad36155a1dcd609408bc407f39872c1"><span class="id" title="binder">Γ</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#2ad36155a1dcd609408bc407f39872c1"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#f:162"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="ABS.abs_defs.html#ctxv_fut"><span class="id" title="constructor">ctxv_fut</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#T:159"><span class="id" title="variable">T</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#typ_es"><span class="id" title="definition">typ_es</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#2ad36155a1dcd609408bc407f39872c1"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="ABS.abs_defs.html#e_t"><span class="id" title="constructor">e_t</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#vs:161"><span class="id" title="variable">vs</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Ts:158"><span class="id" title="variable">Ts</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#task_well_typed"><span class="id" title="inductive">task_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#2ad36155a1dcd609408bc407f39872c1"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#tsk:163"><span class="id" title="variable">tsk</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="insert_lookup_ne_extend" class="idref" href="#insert_lookup_ne_extend"><span class="id" title="lemma">insert_lookup_ne_extend</span></a>: <span class="id" title="notation">forall</span> <a id="a52908bb5f2e5bdad21b63fa91512fb7" class="idref" href="#a52908bb5f2e5bdad21b63fa91512fb7"><span class="id" title="binder">Γ</span></a> <a id="i:166" class="idref" href="#i:166"><span class="id" title="binder">i</span></a> <a id="j:167" class="idref" href="#j:167"><span class="id" title="binder">j</span></a> <a id="T_:168" class="idref" href="#T_:168"><span class="id" title="binder">T_</span></a> <a id="l:169" class="idref" href="#l:169"><span class="id" title="binder">l</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#i:166"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#j:167"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="ABS.abs_imperative_metatheory.html#j:167"><span class="id" title="variable">j</span></a><span class="id" title="notation">:=</span><a class="idref" href="ABS.abs_imperative_metatheory.html#T_:168"><span class="id" title="variable">T_</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">Γ</span>) <a class="idref" href="ABS.abs_imperative_metatheory.html#l:169"><span class="id" title="variable">l</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#i:166"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#a52908bb5f2e5bdad21b63fa91512fb7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#l:169"><span class="id" title="variable">l</span></a> <span class="id" title="notation">!!</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#i:166"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_insert_ne</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="ABS.abs_util.html#add_G"><span class="id" title="definition">add_G</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_eq</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="CL_well_typed" class="idref" href="#CL_well_typed"><span class="id" title="definition">CL_well_typed</span></a>: <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ABS.abs_defs.html#CL"><span class="id" title="inductive">CL</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span>. <span class="comment">(*TODO:&nbsp;implement*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="CL_wt_fields_fresh" class="idref" href="#CL_wt_fields_fresh"><span class="id" title="lemma">CL_wt_fields_fresh</span></a>: <span class="id" title="notation">forall</span> <a id="cf9ed6d8a61ce68e821384f5f41630c7" class="idref" href="#cf9ed6d8a61ce68e821384f5f41630c7"><span class="id" title="binder">Γ</span></a> <a id="C:171" class="idref" href="#C:171"><span class="id" title="binder">C</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#CL_well_typed"><span class="id" title="definition">CL_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#cf9ed6d8a61ce68e821384f5f41630c7"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#C:171"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">λ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">'</span></a><a id="pat:173" class="idref" href="#pat:173"><span class="id" title="binder">(</span></a><a id="pat:173" class="idref" href="#pat:173"><span class="id" title="binder">_</span></a><a id="pat:173" class="idref" href="#pat:173"><span class="id" title="binder">,</span></a> <a id="x:172" class="idref" href="#x:172"><span class="id" title="binder"><span id="pat:173" class="id">x</span></span></a><a id="pat:173" class="idref" href="#pat:173"><span class="id" title="binder">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Unicode.Utf8_core.html#bc1ad27deabe143d39d35abe6be2c1a4"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#x:172"><span class="id" title="variable">x</span></a> <span class="id" title="notation">∉</span> <span class="id" title="definition">dom</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#cf9ed6d8a61ce68e821384f5f41630c7"><span class="id" title="variable">Γ</span></a>) (<a class="idref" href="ABS.abs_imp.html#get_fields"><span class="id" title="definition">get_fields</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#C:171"><span class="id" title="variable">C</span></a>).<br/>
<span class="id" title="var">Admitted</span>.<br/>
<span class="comment">(*&nbsp;arguably&nbsp;too&nbsp;strong,&nbsp;we&nbsp;only&nbsp;really&nbsp;need&nbsp;them&nbsp;to&nbsp;agree&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;replace&nbsp;subG_extend&nbsp;with&nbsp;a&nbsp;weaker&nbsp;version&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="CL_wt_add_f" class="idref" href="#CL_wt_add_f"><span class="id" title="lemma">CL_wt_add_f</span></a>: <span class="id" title="notation">forall</span> <a id="f725d127ca1df4e98ec9c182d8b10016" class="idref" href="#f725d127ca1df4e98ec9c182d8b10016"><span class="id" title="binder">Γ</span></a> <a id="C:175" class="idref" href="#C:175"><span class="id" title="binder">C</span></a> (<a id="f:176" class="idref" href="#f:176"><span class="id" title="binder">f</span></a>:<a class="idref" href="ABS.abs_defs.html#f"><span class="id" title="definition">f</span></a>) <a id="T:177" class="idref" href="#T:177"><span class="id" title="binder">T</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#CL_well_typed"><span class="id" title="definition">CL_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#f725d127ca1df4e98ec9c182d8b10016"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#C:175"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#CL_well_typed"><span class="id" title="definition">CL_well_typed</span></a> (<span class="id" title="notation">&lt;[</span><a class="idref" href="ABS.abs_imperative_metatheory.html#f:176"><span class="id" title="variable">f</span></a><span class="id" title="notation">:=</span><a class="idref" href="ABS.abs_imperative_metatheory.html#T:177"><span class="id" title="variable">T</span></a><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">Γ</span>) <a class="idref" href="ABS.abs_imperative_metatheory.html#C:175"><span class="id" title="variable">C</span></a>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Forall_typ_F_extension" class="idref" href="#Forall_typ_F_extension"><span class="id" title="lemma">Forall_typ_F_extension</span></a>: <span class="id" title="notation">forall</span> <a id="dc1356b602fe68110656293f361bcd12" class="idref" href="#dc1356b602fe68110656293f361bcd12"><span class="id" title="binder">Γ</span></a> <a id="Fs:179" class="idref" href="#Fs:179"><span class="id" title="binder">Fs</span></a> <a id="Cl:180" class="idref" href="#Cl:180"><span class="id" title="binder">Cl</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="ABS.abs_defs.html#typ_F"><span class="id" title="inductive">typ_F</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#dc1356b602fe68110656293f361bcd12"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Fs:179"><span class="id" title="variable">Fs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="ABS.abs_imperative_metatheory.html#CL_well_typed"><span class="id" title="definition">CL_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#dc1356b602fe68110656293f361bcd12"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.Cs"><span class="id" title="variable">Cs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Cl:180"><span class="id" title="variable">Cl</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.Cs"><span class="id" title="variable">Cs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="ABS.abs_defs.html#typ_F"><span class="id" title="inductive">typ_F</span></a> (<a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#dc1356b602fe68110656293f361bcd12"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="ABS.abs_imp.html#get_fields"><span class="id" title="definition">get_fields</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Cl:180"><span class="id" title="variable">Cl</span></a>))) <a class="idref" href="ABS.abs_imperative_metatheory.html#Fs:179"><span class="id" title="variable">Fs</span></a>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="type_preservation" class="idref" href="#type_preservation"><span class="id" title="lemma">type_preservation</span></a> : <span class="id" title="notation">forall</span> <span class="id" title="notation">(</span><a id="bec8080d891bb4c9bb44cd1cc5bbd275" class="idref" href="#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="binder">Γ</span></a>: <a class="idref" href="ABS.abs_defs.html#G"><span class="id" title="definition">G</span></a><span class="id" title="notation">),</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="ABS.abs_defs.html#typ_F"><span class="id" title="inductive">typ_F</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.Fs"><span class="id" title="variable">Fs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="ABS.abs_imperative_metatheory.html#CL_well_typed"><span class="id" title="definition">CL_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.Cs"><span class="id" title="variable">Cs</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="c4328d2d235e6e0d7c0a12c793e0568e" class="idref" href="#c4328d2d235e6e0d7c0a12c793e0568e"><span class="id" title="binder">σ</span></a> <a id="fc314f57fe9b6f7c8eda8e4522d54f75" class="idref" href="#fc314f57fe9b6f7c8eda8e4522d54f75"><span class="id" title="binder">σ'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ABS.abs_imperative_metatheory.html#config_well_typed"><span class="id" title="definition">config_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="variable">Γ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#c4328d2d235e6e0d7c0a12c793e0568e"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ABS.abs_imp.html#stmt_step"><span class="id" title="inductive">stmt_step</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.Fs"><span class="id" title="variable">Fs</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#c4328d2d235e6e0d7c0a12c793e0568e"><span class="id" title="variable">σ</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#fc314f57fe9b6f7c8eda8e4522d54f75"><span class="id" title="variable">σ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="6c948738cd2d4df69513e6bc5e357e88" class="idref" href="#6c948738cd2d4df69513e6bc5e357e88"><span class="id" title="binder">Γ'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#bec8080d891bb4c9bb44cd1cc5bbd275"><span class="id" title="variable">Γ</span></a> <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#6c948738cd2d4df69513e6bc5e357e88"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#config_well_typed"><span class="id" title="definition">config_well_typed</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#6c948738cd2d4df69513e6bc5e357e88"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="ABS.abs_imperative_metatheory.html#fc314f57fe9b6f7c8eda8e4522d54f75"><span class="id" title="variable">σ'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Γ</span> <span class="id" title="var">TYP_Fs</span> <span class="id" title="var">TYP_Cs</span> σ σ' <span class="id" title="var">WT</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lookup_cases</span> <span class="id" title="var">H1</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_typing</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#q_wt_remove"><span class="id" title="lemma">q_wt_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">WT</span>;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sf</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Conf_wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_typing</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_functional_metatheory.html#type_preservation"><span class="id" title="lemma">type_preservation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H4</span> <span class="id" title="var">H0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (?<span class="id" title="var">Γ</span> &amp; ?<span class="id" title="var">SUB</span> &amp; ? &amp; ?<span class="id" title="var">TYP_E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;are&nbsp;tasks&nbsp;actually&nbsp;well-typed&nbsp;under&nbsp;this&nbsp;extension?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lookup_cases</span> <span class="id" title="var">H3</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Conf_wt</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sf</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Conf_wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_typing</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_functional_metatheory.html#type_preservation"><span class="id" title="lemma">type_preservation</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H4</span> <span class="id" title="var">H0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (?<span class="id" title="var">Γ</span> &amp; ?<span class="id" title="var">SUB</span> &amp; ? &amp; ?<span class="id" title="var">TYP_E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Γ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_util.html#extend_subG_2"><span class="id" title="lemma">extend_subG_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#CL_wt_fields_fresh"><span class="id" title="axiom">CL_wt_fields_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imp.html#get_class_decl_some"><span class="id" title="lemma">get_class_decl_some</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lookup_cases</span> <span class="id" title="var">H3</span> <span class="id" title="var">o</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> <span class="id" title="var">Γ</span> (<a class="idref" href="ABS.abs_imp.html#get_fields"><span class="id" title="definition">get_fields</span></a> <span class="id" title="var">Cl</span>) <span class="id" title="notation">⊆</span> <a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> <span class="id" title="var">Γ0</span> (<a class="idref" href="ABS.abs_imp.html#get_fields"><span class="id" title="definition">get_fields</span></a> <span class="id" title="var">Cl</span>)). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_util.html#extend_subG"><span class="id" title="lemma">extend_subG</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_util.html#extend_subG_2"><span class="id" title="lemma">extend_subG_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#CL_wt_fields_fresh"><span class="id" title="axiom">CL_wt_fields_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imp.html#get_class_decl_some"><span class="id" title="lemma">get_class_decl_some</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#subG_queue_wt"><span class="id" title="lemma">subG_queue_wt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#subG_stmt_wt"><span class="id" title="lemma">subG_stmt_wt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;here&nbsp;we&nbsp;are&nbsp;lost&nbsp;without&nbsp;consistency&nbsp;of&nbsp;a&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;we&nbsp;need&nbsp;cn_well_typed&nbsp;closed&nbsp;under&nbsp;extensions&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;the&nbsp;trivial&nbsp;cases&nbsp;(ifs,&nbsp;skips,&nbsp;loops)&nbsp;are&nbsp;very&nbsp;similar*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;automate&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Conf_wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_typing</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lookup_cases</span> <span class="id" title="var">H1</span> <span class="id" title="var">o</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Conf_wt</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Conf_wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_typing</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lookup_cases</span> <span class="id" title="var">H1</span> <span class="id" title="var">o</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Conf_wt</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Conf_wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_typing</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lookup_cases</span> <span class="id" title="var">H0</span> <span class="id" title="var">o</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Conf_wt</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Conf_wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_typing</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lookup_cases</span> <span class="id" title="var">H0</span> <span class="id" title="var">o</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Conf_wt</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Conf_wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_typing</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lookup_cases</span> <span class="id" title="var">H0</span> <span class="id" title="var">o</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Conf_wt</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Conf_wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_typing</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H17</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Method_wt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H17</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">method</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">get_type</span> <span class="id" title="var">get_params</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#type_preservation_eval_list"><span class="id" title="lemma">type_preservation_eval_list</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H14</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> <span class="id" title="var">TYP_ARGS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="notation">&lt;[</span><span class="id" title="var">f</span><span class="id" title="notation">:=</span><a class="idref" href="ABS.abs_defs.html#ctxv_fut"><span class="id" title="constructor">ctxv_fut</span></a> <span class="id" title="var">T_5</span><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">Γ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#subG_add"><span class="id" title="lemma">subG_add</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_dom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#fresh_config_wt"><span class="id" title="axiom">fresh_config_wt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lookup_cases</span> <span class="id" title="var">H5</span> <span class="id" title="var">oi</span> <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#subG_queue_wt"><span class="id" title="lemma">subG_queue_wt</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_util.html#extend_subG"><span class="id" title="lemma">extend_subG</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#subG_add"><span class="id" title="lemma">subG_add</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_dom_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#fresh_config_wt"><span class="id" title="axiom">fresh_config_wt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#insert_lookup_ne_extend"><span class="id" title="lemma">insert_lookup_ne_extend</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="keyword">with</span> (<span class="id" title="notation">&lt;[</span><span class="id" title="var">f</span><span class="id" title="notation">:=</span><a class="idref" href="ABS.abs_defs.html#ctxv_fut"><span class="id" title="constructor">ctxv_fut</span></a> <span class="id" title="var">T_5</span><span class="id" title="notation">]&gt;</span> <span class="id" title="notation">Γ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--- <span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#subG_extend"><span class="id" title="lemma">subG_extend</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#CL_wt_fields_fresh"><span class="id" title="axiom">CL_wt_fields_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#CL_wt_add_f"><span class="id" title="axiom">CL_wt_add_f</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imp.html#get_class_decl_some"><span class="id" title="lemma">get_class_decl_some</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#subG_stmt_wt"><span class="id" title="lemma">subG_stmt_wt</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_util.html#extend_subG"><span class="id" title="lemma">extend_subG</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#subG_add"><span class="id" title="lemma">subG_add</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">not_elem_of_dom_1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#fresh_config_wt"><span class="id" title="axiom">fresh_config_wt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;should&nbsp;follow&nbsp;from&nbsp;freshness&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">lookup_cases</span> <span class="id" title="var">H5</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_insert</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#typ_term_list_invariant"><span class="id" title="lemma">typ_term_list_invariant</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">set</span> (<span class="id" title="var">fi</span>:=<a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of"><span class="id" title="variable">id_of</span></a> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">j</span> <span class="id" title="keyword">with</span> (<a class="idref" href="ABS.abs_imperative_metatheory.html#Typing.id_of"><span class="id" title="variable">id_of</span></a> <span class="id" title="var">f</span>) <span class="id" title="tactic">in</span> * <span class="id" title="tactic">by</span> <span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;we&nbsp;need&nbsp;id_of&nbsp;to&nbsp;be&nbsp;consistent&nbsp;with&nbsp;j*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">is_eq</span> <span class="id" title="var">fi</span> <span class="id" title="var">i0</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">fi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_insert</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_insert_ne</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#fresh_extend_wt"><span class="id" title="axiom">fresh_extend_wt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">fut_well_typed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">ob_well_typed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_typing</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lookup_cases</span> <span class="id" title="var">H3</span> <span class="id" title="var">o</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lookup_cases</span> <span class="id" title="var">H3</span> <span class="id" title="var">fi</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">epose</span> <span class="id" title="var">proof</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#type_preservation_eval"><span class="id" title="lemma">type_preservation_eval</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H5</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">T0</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">T</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">constructor</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;now&nbsp;we&nbsp;have&nbsp;a&nbsp;problem&nbsp;since&nbsp;the&nbsp;local&nbsp;state&nbsp;is&nbsp;not&nbsp;required&nbsp;to&nbsp;be&nbsp;consistent&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;pose&nbsp;proof&nbsp;(H15&nbsp;_&nbsp;_&nbsp;H5)&nbsp;as&nbsp;(?t&nbsp;&amp;&nbsp;?&nbsp;&amp;&nbsp;?);&nbsp;simp.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;inv&nbsp;H1;&nbsp;inv&nbsp;H9.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">eapply</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">fut_well_typed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">ob_well_typed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_typing</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lookup_cases</span> <span class="id" title="var">H1</span> <span class="id" title="var">o</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">T1</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">T</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#typ_term_invariant"><span class="id" title="lemma">typ_term_invariant</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">m2</span>:=<a class="idref" href="ABS.abs_util.html#extend_G"><span class="id" title="definition">extend_G</span></a> <span class="id" title="var">Γ</span> (<a class="idref" href="ABS.abs_imp.html#get_fields"><span class="id" title="definition">get_fields</span></a> <span class="id" title="var">Cl</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="var">simp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#subG_extend"><span class="id" title="lemma">subG_extend</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#CL_wt_fields_fresh"><span class="id" title="axiom">CL_wt_fields_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imp.html#get_class_decl_some"><span class="id" title="lemma">get_class_decl_some</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">ob_well_typed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">WT</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> <span class="id" title="var">inv_well_typed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_typing</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lookup_cases</span> <span class="id" title="var">H1</span> <span class="id" title="var">oi</span> <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#q_wt_add"><span class="id" title="lemma">q_wt_add</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">CL</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Cl</span> <span class="id" title="tactic">in</span> * <span class="id" title="tactic">by</span> <span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;by&nbsp;welformedness&nbsp;of&nbsp;class_of,&nbsp;probably&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#bind_wt"><span class="id" title="axiom">bind_wt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#subG_extend"><span class="id" title="lemma">subG_extend</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#CL_wt_fields_fresh"><span class="id" title="axiom">CL_wt_fields_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imp.html#get_class_decl_some"><span class="id" title="lemma">get_class_decl_some</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#subG_typ_es"><span class="id" title="lemma">subG_typ_es</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#subG_extend"><span class="id" title="lemma">subG_extend</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#CL_wt_fields_fresh"><span class="id" title="axiom">CL_wt_fields_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imp.html#get_class_decl_some"><span class="id" title="lemma">get_class_decl_some</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">is_eq</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<span class="id" title="lemma">lookup_delete</span> σ <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lookup_cases</span> <span class="id" title="var">H1</span> <span class="id" title="var">oi</span> <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#q_wt_add"><span class="id" title="lemma">q_wt_add</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">CL</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Cl</span> <span class="id" title="tactic">in</span> * <span class="id" title="tactic">by</span> <span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;by&nbsp;welformedness&nbsp;of&nbsp;class_of,&nbsp;probably&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#bind_wt"><span class="id" title="axiom">bind_wt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">lookup_weaken</span> <span class="id" title="keyword">with</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#subG_extend"><span class="id" title="lemma">subG_extend</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#CL_wt_fields_fresh"><span class="id" title="axiom">CL_wt_fields_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imp.html#get_class_decl_some"><span class="id" title="lemma">get_class_decl_some</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#subG_typ_es"><span class="id" title="lemma">subG_typ_es</span></a>; <span class="id" title="var">last</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_util.html#subG_extend"><span class="id" title="lemma">subG_extend</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#CL_wt_fields_fresh"><span class="id" title="axiom">CL_wt_fields_fresh</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.20.0/stdlib//Coq.Lists.List.html#Forall_forall"><span class="id" title="lemma">Forall_forall</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imp.html#get_class_decl_some"><span class="id" title="lemma">get_class_decl_some</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">is_eq</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<span class="id" title="lemma">lookup_delete</span> σ <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-- <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">lookup_delete_ne</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WT</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">try</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#G_vdash_union"><span class="id" title="lemma">G_vdash_union</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span>: <span class="id" title="tactic">apply</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#Forall_typ_F_extension"><span class="id" title="axiom">Forall_typ_F_extension</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ABS.abs_imp.html#get_class_decl_some"><span class="id" title="lemma">get_class_decl_some</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ABS.abs_imperative_metatheory.html#Typing"><span class="id" title="section">Typing</span></a>.<br/>
<span class="comment">(*TODO:&nbsp;labels&nbsp;+&nbsp;traces?&nbsp;*)</span><br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
